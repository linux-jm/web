.\" Japanese Version Copyright (c) 1997 Tanoshima Hidetohsi
.\"         all rights reserved.
.\" Translated Jan 31, 1996
.\"         by Tanoshima Hidetoshi <tano@sainet.or.jp>
.\" Updated Thu Feb 22 14:27:56 JST 2001
.\"         by Asakawa Satoshi <rod@i.am>
.\"
.\"WORD:         sparse files     スパースなファイル
.\"
.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.5.1.2.
.TH CP 1 "November 1998" "GNU fileutils 4.0" "FSF"
.SH 名前
cp \- ファイルやディレクトリをコピーする
.SH 書式
.B cp
[\fIオプション\fR]...\fI SOURCE DEST\fR
.br
.B cp
[\fIオプション\fR]...\fI SOURCE\fR...\fI DIRECTORY\fR
.SH 説明
.PP
.\" Add any additional description here
.PP
SOURCEファイルをDESTファイルへコピーする。
または、複数のSOURCEファイルをDIRECTORY(ディレクトリ)下へコピーする。
.TP
\fB\-a\fR, \fB\-\-archive\fR
\fB\-dpR\fRと同じ。
.TP
\fB\-b\fR, \fB\-\-backup\fR
上書きされたり、削除されることになるファイルのバックアップを作る。
.TP
\fB\-d\fR, \fB\-\-no\-dereference\fR
リンクを保存する。
(訳注: シンボリックリンクをコピーするときは、
シンボリックリンクが指しているファイルをコピーするのではなく、
シンボリック自体をコピーする。
また、ハードリンクされたもの同士をコピーする場合は、
それら同士はコピー先でもハードリンクされたままになる。)
.TP
\fB\-f\fR, \fB\-\-force\fR
コピー先が存在する場合、確認を求めずに削除する。
.TP
\fB\-i\fR, \fB\-\-interactive\fR
上書きする前に確認を求める。
.TP
\fB\-l\fR, \fB\-\-link\fR
コピーのかわりにハードリンクを作る。
.TP
\fB\-p\fR, \fB\-\-preserve\fR
可能ならファイル属性を保持する。
.TP
\fB\-P\fR, \fB\-\-parents\fR
コピー元のパスをDIRECTORY(ディレクトリ)下に追加する。
(訳注: 例えば、
`cp \-\-parents a/b/c existing_dir' というコマンドは
.I a/b/c
というファイルを
.I existing_dir/a/b/c
というファイルに(間のディレクトリもなければ作って)コピーする。)
.TP
\fB\-r\fR
再帰的にコピーする。
その際、ディレクトリ以外は全てファイルとしてコピーされる。
.TP
\fB\-\-sparse\fR=\fIWHEN\fR
スパースなファイルの生成をコントロールする。
.TP
\fB\-R\fR, \fB\-\-recursive\fR
ディレクトリを再帰的にコピーする。
.TP
\fB\-s\fR, \fB\-\-symbolic\-link\fR
コピーのかわりにシンボリックリンクを作る。
.TP
\fB\-S\fR, \fB\-\-suffix\fR=\fISUFFIX\fR
バックアップファイルを作る際の添字を指定する。
.TP
\fB\-u\fR, \fB\-\-update\fR
コピー先ファイルよりもSOURCEファイルの方が新しい場合か、
または、コピー先ファイルが見付からない場合のみコピーする。
.TP
\fB\-v\fR, \fB\-\-verbose\fR
実行内容を表示する。
.TP
\fB\-V\fR, \fB\-\-version\-control\fR=\fIWORD\fR
バックアップファイルの命名方法を指定する。
.TP
\fB\-x\fR, \fB\-\-one\-file\-system\fR
同一ファイルシステム内に留める。
(訳注: コピーする際、違うファイルシステムのサブディレクトリはコピーしない。)
.TP
\fB\-\-help\fR
使用方法を表示して正常終了する。
.TP
\fB\-\-version\fR
バージョン情報を出力して正常終了する。
.PP
デフォルトでは、大雑把な発見的手法でスパースなSOURCEファイルを検出し、
対応するDESTファイルを同様にスパースにする。
\fB\-\-sparse\fR=\fIauto\fRを指定するとデフォルトの動作となる。
\fB\-\-sparse\fR=\fIalways\fRを指定すると、
SOURCEファイルが十分長いゼロバイト列を含む場合はいつでも、
スパースなDESTファイルを生成する。
\fB\-\-sparse\fR=\fInever\fRを指定すると、スパースなファイルの生成を禁止する。
.PP
環境変数SIMPLE_BACKUP_SUFFIXが設定されていない場合、
バックアップファイルを作る際の添字は ~ である。
バックアップファイルの命名方法は、環境変数VERSION_CONTROLで指定する。
指定する値は以下の通り。
.TP
t, numbered
番号の拡張子を持つバックアップを作成する。
.TP
nil, existing
番号の拡張子を持つバックアップがすでにある場合には、
番号の拡張子を持つバックアップを、
そうでない場合には単純なバックアップを作成する。
.TP
never, simple
常に単純なバックアップを作成する。
.PP
特殊ケースとして、forceオプションとbackupオプションが同時に指定され、かつ、
SOURCEとDESTが同じ名前の存在する通常のファイルである場合、
SOURCEのバックアップを作成する。
.SH バグレポート
バグレポートは<bug-fileutils@gnu.org>へ。
.SH 関連項目
.B cp
の完全なドキュメントはinfoマニュアルとしてメンテナンスされている。
.B info
と
.B cp
が正しくインストールされていれば、次のコマンド
.IP
.B info cp
.PP
で完全なマニュアルを参照することができる。

.SH 訳注
以下にディレクトリのコピー例を添付する。
.\" special thanks 楠根雄志さん
.br
<<testdir に各種の file を作り、cp を各種 option 付きで実行した結果>>
.br
(左から、パーミッション、ハードリンクの数、ファイル名)
.br
---------------- begin ---------------------- 
.br
testdir:
   drwxr-xr-x   2 directory/
   -rw-r--r--   2 file
   -rw-r--r--   2 hardlinkfile
   prw-r--r--   2 hardlinkpipe|
   prw-r--r--   2 pipe|
   lrwxrwxrwx   2 symlinkfile -> file
   lrwxrwxrwx   1 symlinkpipe -> pipe|

testdir-R:
   drwxr-xr-x   2 directory/
   -rw-r--r--   1 file
   -rw-r--r--   1 hardlinkfile
   prw-r--r--   1 hardlinkpipe|
   prw-r--r--   1 pipe|
   -rw-r--r--   1 symlinkfile
   prw-r--r--   1 symlinkpipe|

testdir-a:
   drwxr-xr-x   2 directory/
   -rw-r--r--   2 file
   -rw-r--r--   2 hardlinkfile
   prw-r--r--   2 hardlinkpipe|
   prw-r--r--   2 pipe|
   lrwxrwxrwx   1 symlinkfile -> file
   lrwxrwxrwx   1 symlinkpipe -> pipe|

testdir-dR:
   drwxr-xr-x   2 directory/
   -rw-r--r--   2 file
   -rw-r--r--   2 hardlinkfile
   prw-r--r--   2 hardlinkpipe|
   prw-r--r--   2 pipe|
   lrwxrwxrwx   1 symlinkfile -> file
   lrwxrwxrwx   1 symlinkpipe -> pipe|

testdir-dr:
   drwxr-xr-x   2 directory/
   -rw-r--r--   2 file
   -rw-r--r--   2 hardlinkfile
   -rw-r--r--   2 hardlinkpipe
   -rw-r--r--   2 pipe
   lrwxrwxrwx   1 symlinkfile -> file
   lrwxrwxrwx   1 symlinkpipe -> pipe

testdir-r:
   drwxr-xr-x   2 directory/
   -rw-r--r--   1 file
   -rw-r--r--   1 hardlinkfile
   -rw-r--r--   1 hardlinkpipe
   -rw-r--r--   1 pipe
   -rw-r--r--   1 symlinkfile
   -rw-r--r--   1 symlinkpipe
.br
----------------- end ------------------------


