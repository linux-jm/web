.\" Man page for man (and the former manpath)
.\"
.\" Copyright (c) 1990, 1991, John W. Eaton.
.\"
.\" You may distribute under the terms of the GNU General Public
.\" License as specified in the README file that comes with the man 1.0
.\" distribution.  
.\"
.\" John W. Eaton
.\" jwe@che.utexas.edu
.\" Department of Chemical Engineering
.\" The University of Texas at Austin
.\" Austin, Texas  78712
.\"
.\" Many changes - aeb
.\" More changes - flc
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.\"
.\" Japanese Version Copyright (c) 1996 Tanoshima Hidetohsi
.\"         all rights reserved.
.\" Dec 31, 1996   Tanoshima Hidetoshi <tano@sainet.or.jp>
.\"
.\" Modified Thu Jan 29 01:52:36 JST 1998
.\"         by HANATAKA Shinya <hanataka@abyss.rim.or.jp>
.\"
.\" Updated Mon 6 Dec 1999 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\"
.\" Updated Tue Nov 14 22:52:03 JST 2000
.\"         by Yuichi SATO <sato@complex.eng.hokudai.ac.jp>
.\" Updated Tue Dec 18 10:09:17 JST 2001
.\"         by Yuichi SATO <ysato@h4.dion.ne.jp>
.\"
.\" Updated Tue Apr 12 08:43:51 JST 2011
.\"         by TACHIBANA Akira <tati@kc5.so-net.ne.jp>
.\"
.TH man 1 "September 19, 2005"  
.LO 1
.SH 名前
man \- オンラインマニュアルページを整形し表示する
.SH 書式
\fBman\fP [\fB\-acdfFhkKtwW\fP] [\fB\-\-path\fP] [\fB\-m\fP \fIsystem\fP] [\fB\-p\fP \fIstring\fP]
[\fB\-C\fP \fIconfig_file\fP] [\fB\-M\fP \fIpathlist\fP] [\fB\-P\fP \fIpager\fP] [\fB\-B\fP
\fIbrowser\fP] [\fB\-H\fP \fIhtmlpager\fP] [\fB\-S\fP \fIsection_list\fP] [\fIsection\fP] \fIname
\&...\fP

.SH 説明
\fBman\fP はオンラインマニュアルページ (man ページ) を整形し表示する。 \fIsection\fP を指定すると、 \fBman\fP
はそのセクションのみからマニュアルを探す。 通常、 \fIname\fP は man ページの名前で、
典型的なものとしてはコマンド名・関数名・ファイル名などがある。 ただし、 \fIname\fP にスラッシュ (\fB/\fP)  が含まれていると、 \fBman\fP
はファイルの指定であると解釈する。 したがって \fBman ./foo.5\fP と指定したり、 \fBman /cd/foo/bar.1.gz\fP
と指定することも可能である。
.PP
\fBman\fP が man ページファイルを検索するディレクトリについての説明は、 以下を参照すること。
 
.SH マニュアルセクション
マニュアルの標準的なセクションは以下のとおり：
.TP 
\fB1\fP
ユーザーコマンド
.TP 
\fB2\fP
システムコール
.TP 
\fB3\fP
C ライブラリ関数
.TP 
\fB4\fP
スペシャルファイル
.TP 
\fB5\fP
ファイルフォーマット
.TP 
\fB6\fP
ゲームプログラム
.TP 
\fB7\fP
概要、慣習やその他
.TP 
\fB8\fP
管理コマンドと特権コマンド
.TP 
ディストリビューションによりマニュアルセクションは変更され、追加のセクションが設けられることがある。

.SH オプション
.TP 
\fB\-\^C  config_file\fP
使用する設定ファイルを指定する。デフォルトは \fB/usr/share/misc/man.conf\fP である (\fBman.conf\fP(5)
を参照すること)。
.TP 
\fB\-\^M  path\fP
man ページを探すディレクトリのリストを指定する。 ディレクトリをコロンで区切って指定する。 リストが空の場合は、 \fB\-M\fP
オプションを指定しないのと同じである。 「\fBMAN ページの検索パス\fP」 を参照すること。
.TP 
\fB\-\^P  pager\fP
使用するページャーを指定する。 このオプションは環境変数 \fBMANPAGER\fP より優先される。さらにこの環境変数は 環境変数 \fBPAGER\fP
よりも優先される。デフォルトでは \fBman\fP は \fB/usr/bin/less \-is\fP を用いる。
.TP 
\fB\-\^B\fP
HTML ファイルで使用するブラウザを指定する。 このオプションは環境変数 \fBBROWSER\fP より優先される。デフォルトでは \fBman\fP は
\fB/usr/bin/less \-is\fP を用いる。
.TP 
\fB\-\^H\fP
HTML ファイルをテキストに変換するコマンドを指定する。 このオプションは環境変数 \fBHTMLPAGER\fP より優先される。デフォルトでは
\fBman\fP は \fB/bin/cat\fP を用いる。
.TP 
\fB\-\^S  section_list\fP
\fIsection_list\fP はマニュアルを探すセクションを指定するコロン区切りのリストである。 このオプションは環境変数 \fBMANSECT\fP
より優先される。
.TP 
\fB\-\^a\fP
デフォルトでは、 \fBman\fP はみつかった最初の man ページを表示したあと終了する。このオプションを使うと、 \fBman\fP
は最初にみつかったものだけでなく \fBname\fP にマッチしたすべてのページを表示する。
.TP 
\fB\-\^c\fP
最新の cat 形式のページがあっても man ページのソースを 整形しなおす。このオプションは cat ページが現在使用している端末と違った幅で
整形されているときや壊れている場合などに有用である。
.TP 
\fB\-\^d\fP
man ページを表示せず、大量のデバッグ情報を出力する。
.TP 
\fB\-\^D\fP
デバッグ情報と man ページの両方を表示する。
.TP 
\fB\-\^f\fP
\fBwhatis\fP コマンドと同じ。
.TP 
\fB\-\^F\fP または \fB\-\-preformat\fP
整形のみ行い、表示はしない。
.TP 
\fB\-\^h\fP
ヘルプメッセージを表示して終了する。
.TP 
\fB\-\^k\fP
\fBapropos\fP コマンドと同じ。
.TP 
\fB\-\^K\fP
「全ての」man ページから指定した文字列を探す。警告: たいていの場合これは 非常に遅いので セクションを指定した方が良い。
(だいたいの目安として、私のマシンでは 500 ページを検索するのに 1 分かかる。)
.TP 
\fB\-\^m  system\fP
(現在のシステムから、別のシステムのマニュアルにアクセスできる環境で)  別のシステムの man ページ群を検索するよう、そのシステム名を指定する。
.TP 
\fB\-\^p  string\fP
\fBnroff\fP や \fBtroff\fP の前に実行するプリプロセッサの順番を指定する。 インストールの状態によってはフルセットの
プリプロセッサが用意されてないかもしれない。いくつ かのプリプロセッサとそれを指し示す文字は次のとおり： eqn (e), grap (g), pic
(p), tbl (t), vgrind (v), refer (r)。 (訳注: 順番の指定方法は、例えば \fB\-\^p egpt\fP である。)
このオプションは環境変数 \fBMANROFFSEQ\fP より優先される。
.TP 
\fB\-\^t\fP
man ページの整形に \fB/usr/bin/groff \-Tps \-mandoc\fP を使い、 \fBstdout\fP に出力する。
\fB/usr/bin/groff \-Tps \-mandoc\fP のデフォルトの出力フォーマットは PostScript である。
別の出力フォーマットを選ぶならば、 \fBgroff\fP(1)  のマニュアルページにある利用可能なデバイスを参照すること。
.PP
選ばれた出力フォーマットと印刷装置の能力に応じて、 出力は印刷する前になんらかのフィルターを通す必要があるかもしれない。
.TP 
\fB\-\^w \fPまたは\fB \-\-path\fP
man ページを表示せず、 整形ないし表示されるファイルの位置を表示する。 引数を与えないと \fBman\fP が man
ページを検索するディレクトリのリストを標準出力に表示する。 \fBmanpath\fP コマンドが \fBman\fP にリンクされているときは "manpath"
は "man \-\-path" と 同じになる。
.TP 
\fB\-\^W\fP
\-\^w に似ているが、ファイル名を追加情報なしに 1 行に 1 つづつ表示する。 これはシェルから次のように使うと便利である。
\fBman \-aW man | xargs ls \-l\fP

.SH "CAT ページ"
\fBman\fP コマンドはすでに整形された man ページを、 次にそのページが必要になったときの整形時間の節約のために保存しようとする。
伝統的に、DIR/manX の整形済みマニュアルは DIR/catX に セーブされるが、 man ディレクトリと cat ディレクトリの別のマッピング
(対応付け) を \fB/usr/share/misc/man.conf\fP で指定することもできる。 指定された cat ディレクトリが存在しない場合、
cat ページはセーブされない。 整形された cat ページの 1 行の文字数が 80 文字でない場合、 cat ページはセーブされない。
man.conf に NOCACHE と書かれている場合、 cat ページはセーブされない。
.PP
\fBman\fP コマンドをユーザー man に suid することもできる。 その場合、 cat ディレクトリを所有者 man、モードは 0755
(ユーザー man だけが書き込み可) とし、 cat ファイルを所有者 man、モードは 0644 または 0444 (ユーザー man
だけが書き込み可、またはユーザーすべてが書き込み不可)  としておけば、一般ユーザーは \fBman\fP コマンドを使わずに cat ページを変更したり、
他の関係ないファイルを cat ディレクトリに置いたりすることができなくなる。 \fBman\fP コマンドが suid されていない場合に、
すべてのユーザーが cat ページを cat ディレクトリに置けるようにするには、 cat ディレクトリのモードを 0777 にする必要がある。
.PP
cat ページがあったとしても、オプション \fB\-c\fP をつけると強制的に man ページを再整形する。

.SH "HTML ページ"
\fBman\fP コマンドは 'html' の後ろに 'セクション番号' が続く名前のディレクトリ中に HTML 版の man
ページがあれば、それをみつけ出す。 ファイル名の末尾に付く拡張子は、".html" でなければならない。 したがって、 \fBls\fP(1)  の man
ページの HTML 版があれば、その有効な名前は、 \fI/usr/share/man/html1/ls.1.html\fP といったものになるだろう。

.SH "MAN ページの検索パス"
\fBman\fP はマニュアルページをみつけるために洗練された方法を用いる。 すなわち、起動オプションや環境変数、設定ファイル
\fB/usr/share/misc/man.conf\fP 、さらにプログラムに組み込まれている伝統的／発見的な検索法を合わせて 使用するのである。
.PP
まず最初に、 \fBman\fP の引き数 \fIname\fP にスラッシュ (\fB/\fP)  がある場合は、 \fBman\fP
はファイルの指定であると解釈して、検索を行わない。
.PP
しかし \fIname\fP にスラッシュが含まれていない通常の場合、 \fBman\fP は指定されたトピックについて、マニュアルページになりそうなファイルを
いろいろなディレクトリで検索する。
.PP
\fB\-M \fP\fIpathlist\fP オプションを指定すると、 \fIpathlist\fP が \fBman\fP が検索を行う対象となる。 \fIpathlist\fP
はコロンで区切ったディレクトリのリストである。
.PP
\fB\-M\fP オプションを指定していないが、環境変数 \fBMANPATH\fP は設定してある場合は、この環境変数の値が \fBman\fP
が検索を行うディレクトリのリストである。
.PP
\fB\-M\fP や \fBMANPATH\fP でパスのリストを明示的に指定していない場合、 \fBman\fP は設定ファイル
\fB/usr/share/misc/man.conf\fP の内容に基づいてパスのリストを作成する。 設定ファイルの \fBMANPATH\fP
ステートメントにより、特定のディレクトリを検索パスに追加するのだ。
.PP
さらに \fBMANPATH_MAP\fP ステートメントによって、コマンド検索パス (すなわち、ユーザーの \fBPATH\fP 環境変数)
に応じた検索パスが追加される。 コマンド検索パスにある各ディレクトリに対して、 \fBMANPATH_MAP\fP ステートメントが man
ページファイルの検索パスに追加すべき ディレクトリを一つづつ指定する。 \fBman\fP は \fBPATH\fP 変数を調べて、 \fBMANPATH_MAP\fP
で指定されている対応するディレクトリを man ページファイルの検索パスに 追加するのである。 したがって、 \fBMANPATH_MAP\fP
を適切に使用している場合には、 \fBman xyz\fP を実行すると、コマンド \fBxyz\fP を実行したときに動作するプログラムの man
ページが表示されることになる。
.PP
なお、コマンド検索パスのディレクトリ (「コマンドディレクトリ」と呼ぶことにする) に対して \fBMANPATH_MAP\fP
ステートメントが\fI存在しない\fP場合、 \fBman\fP はそうしたコマンドディレクトリの一つ一つに対して、
マニュアルページがあるディレクトリを自動的に「近隣の場所」で 検索する。 「近隣の場所」とは、コマンドディレクトリ自身のサブディレクトリや、
コマンドディレクトリの親ディレクトリのサブディレクトリ といった場所である。
.PP
「近隣の場所」の自動検索を無効にするには、 \fBNOAUTOPATH\fP ステートメントを \fB/usr/share/misc/man.conf\fP
に指定すればよい。
.PP
上記の検索パスにある各ディレクトリにおいて、 \fBman\fP は \fItopic\fP\fB.\fP\fIsection\fP という名前のファイルを探す。
このセクション番号には (1x の x のような)  接尾辞があってもよいし、圧縮ファイルであることを示す拡張子が さらに続いてもよい。
このようなファイルがみつからない場合、 \fBman\fP は \fBman\fP\fIN\fP または \fBcat\fP\fIN\fP
という名前の全てのサブディレクトリを検索する。 ここで \fIN\fP は man ページのセクション番号である。 ファイルが \fBcat\fP\fIN\fP
サブディレクトリにある場合、 \fBman\fP はそれを整形済みの man ページファイル (cat ページ) であるとみなす。 それ以外の場合は、未整形の
man ページであるとみなすわけだ。 どちらの場合でも、ファイル名に (\fB.gz\fP のような) 既知の圧縮ファイル拡張子が付いていれば、 \fBman\fP
は gzip されたファイルであると考える。
.PP
\fBman\fP が特定のトピックの man ページを どこでみつけるか (またはみつけることができるのか) を知りたいときは、 \fB\-\-path
\fP(\fB\-w\fP)  オプションを使うこと。

.SH 環境変数
.TP 
\fBMANPATH\fP
\fBMANPATH\fP を設定すると、 man ページファイルを探すときのパスとして使われる。
この環境変数は設定ファイルや自動的に指定される検索パスの設定を上書きするが、 起動オプション \fB\-M\fP で上書きされる。 「\fBMAN
ページの検索パス\fP」 を参照すること。
.TP 
\fBMANPL\fP
\fBMANPL\fP を設定すると、表示する 1 ページ当たりの行数として使われる。 この環境変数を設定しない場合、man ページ全体で (長い) 1
ページになる。
.TP 
\fBMANROFFSEQ\fP
\fBMANROFFSEQ\fP を設定すると、 \fBnroff\fP や \fBtroff\fP の前に実行するプリプロセッサが、この値をもとにして決定される。
(訳注: 設定方法は、例えば \&'MANROFFSEQ=egpt' である。)  デフォルトでは、man ページは \fBnroff\fP の前に tbl
用のプリプロセッサに通される。
.TP 
\fBMANSECT\fP
\fBMANSECT\fP を設定すると、どのマニュアルセクションを探すかが この値をもとにして決定される。
.TP 
\fBMANWIDTH\fP
\fBMANWIDTH\fP を設定すると、その値を表示する man ページの幅として使用する。 指定しなかった場合には画面の幅一杯まで使用する。
.TP 
\fBMANPAGER\fP
\fBMANPAGER\fP を設定すると、その値を man ページを表示するプログラムとして使用する。 指定しなかった場合には、 環境変数 \fBPAGER\fP
が使用される。どちらも設定されていない場合には \fB/usr/bin/less \-is\fP が使われる。
.TP 
\fBBROWSER\fP
HTML 版の man ページの表示に用いるブラウザ名。 設定されていない場合には \fB/usr/bin/less \-is\fP が使われる。
.TP 
\fBHTMLPAGER\fP
HTML ファイルをテキストに変換するコマンド。 設定されていない場合には \fB/bin/cat\fP が使われる。
.TP 
\fBLANG\fP
\fBLANG\fP を設定すると、 \fBman\fP コマンドはまずその名前のサブディレクトリから man ページを探す。 したがってコマンドラインから
\&'LANG=dk man 1 foo' と打ち込むと、 \fBman\fP コマンドはまず .../dk/man1/foo.1 を探し、 みつからなければ
\&.../man1/foo.1 を探す。この ... は検索パスのディレクトリである。
.TP 
\fBNLSPATH, LC_MESSAGES, LANG\fP
環境変数 \fBNLSPATH\fP と \fBLC_MESSAGES\fP (後者が指定されていなければ \fBLANG\fP)  はメッセージカタログの位置を指定する
(英語のメッセージはコンパイル時に組み込まれているので、 英語のカタログは必要ない)。 man に呼び出される \fBcol\fP(1)
のようなプログラムは、LC_CTYPE といった変数も使うことに注意すること。
.TP 
\fBPATH\fP
\fBPATH\fP は man ページのデフォルト検索パスの決定に利用される。 「\fBMAN ページの検索パス\fP」 を参照すること。
.TP 
\fBSYSTEM\fP
\fBSYSTEM\fP は (現在のシステムから、別のシステムのマニュアルにアクセス できる環境で) デフォルトの別のシステム名を得るのに使われる。
(この環境変数は \fB\-m\fP オプションと一緒に使うためにある。 \fB\-m\fP オプションの引数に空文字列 "" を指定すると、デフォルトの
別のシステム名を指定したことになる。 )
.SH バグ
\fB\-t\fP オプションは troff やそれと同等なプログラムがインストールされている 場合のみ有効である。
.br
もしハイフンのかわりに、点滅する \e255 や <AD> が表示された場合には 環境変数に 'LESSCHARSET=latin1'
を設定すると良い。 (\fB訳注\fP: 日本語を使用する場合にはこの方法では対応できない。 groff のオプションで \-Tnippon 、 \-Tutf8
または \-Tascii を使用すること。)
.SH ウラ技
以下のような行を

  (global\-set\-key [(f1)] (lambda () (interactive) (manual\-entry (current\-word))))

自分の \fI.emacs\fP ファイルに追加しておけば、F1 を叩くと、 現在のカーソル位置にあるライブラリコールの man ページが表示される。
.LP
バックスペースとアンダースコアがない プレーンテキスト版の man ページを得るには、次のコマンドを実行すること。

  # man foo | col \-b > foo.mantxt
.SH 作者
\fBman\fP パッケージの原作者は John W. Eaton である。 Zeyd M. Ben\-Halim が man 1.2
をリリースし、引き続いて Andries Brouwer が versions 1.3 から 1.5p までをリリースした。 現在のメンテナーは
Federico Lucifredi <flucifredi@acm.org> である。
.SH 関連項目
apropos(1), whatis(1), less(1), groff(1), man.conf(5).
