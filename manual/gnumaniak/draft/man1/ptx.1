.\" You may copy, distribute and modify under the terms of the LDP General
.\" Public License as specified in the LICENSE file that comes with the
.\" gnumaniak distribution
.\"
.\" The author kindly requests that no comments regarding the "better"
.\" suitability or up-to-date notices of any info documentation alternative
.\" is added without contacting him first.
.\"
.\" (C) 2002 Ragnar Hojland Espinosa <ragnar@ragnar-hojland.com>
.\"
.\"	GNU ptx man page
.\"	man pages are NOT obsolete!
.\"	<ragnar@ragnar-hojland.com>
.\"
.\" Japanese Version Copyright (c) 2000 NAKANO Takeo all rights reserved.
.\" Translated Sun 12 Mar 2000 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\"
.\"WORD:	permuted index		整列済み索引
.\"WORD:	reference		参照
.\"
.TH PTX 1 "7 October 2002" "GNU textutils 2.1"
.\"O .SH NAME
.\"O \fBptx\fR \- produce permuted indexes
.SH 名前
ptx \- 整列済み索引を作成する
.\"O .SH SYNOPSIS
.SH 書式
.B ptx
.RI [ OPTION... "] [" FILE... ]

.B ptx
.RB [ \-G ]
.RB [ \-\-traditional ]
.RI [ OPTION... "] [" IN\-FILE " [" OUT\-FILE ]]
.SS Options:
.RB [ \-frAORT ]
.RB [ "\-b \fIFILE" ]
.RB [ "\-g \fINUMBER" ]
.RB [ "\-i \fIFILE" ]
.RB [ "\-o \fIFILE" ]
.RB [ "\-w \fINUMBER" ]
.RB [ "\-F \fISTRING" ]
.RB [ "\-M \fISTRING" ]
.RB [ "\-S \fIREGEXP" ]
.RB [ "\-W \fIREGEXP" ]
.RB [ \-\-auto\-reference ]
.RB [ \-\-break\-file=\fIFILE ]
.RB [ \-\-flac\-truncation=\fISTRING ]
.RB [ \-\-format=\fR{\fBnroff,tex }]
.RB [ \-\-gap\-size=\fINUMBER ]
.RB [ \-\-ignore\-case ]
.RB [ \-\-ignore\-file=\fIFILE ]
.RB [ \-\-macro\-name=\fISTRING ]
.RB [ \-\-only\-file=\fIFILE ]
.RB [ \-\-references ]
.RB [ \-\-right\-side\-refs ]
.RB [ \-\-sentence\-regexp=\fIREGEXP ]
.RB [ \-\-word\-regexp=\fIREGEXP ]
.RI [ FILE... ]
 
.BR ptx " [" \-C "] [" \-\-copyright "]  [" \-\-help "] [" \-\-version ]
.\"O .SH DESCRIPTION
.SH 説明
.\"O .B ptx
.\"O with GNU extensions (by default) writes to standard output a
.\"O permutated index for each
.\"O .I FILE
.\"O given.  
.\"O If
.\"O .I FILE
.\"O is omitted or if is a
.\"O .RB ` \- ',
.\"O standard input is used.  Even if the result is concatenated together, each
.\"O .I FILE
.\"O has it's own context and is referrenced separately when using automatic
.\"O references.
GNU 拡張された
.B ptx
(デフォルト) は、与えられた
.I FILE
それぞれの整列済み索引 (permutated index)
を標準出力に書く。
.I FILE
が一つも与えられないと標準入力から読み込む。また
.I FILE
が
.RB ` \- '
だった場合には、そのファイルには標準入力が用いられる。
結果は結合されるが、各
.I FILE
はそれぞれ独自のコンテクストを持ち、
自動参照を使うときには別々に参照される。

[訳注: 参照 (reference) とは、キーワードの現れるファイル名と行数の表示。]

.\"O If \fB\-\-traditional\fR mode is used, \fBptx\fR reads \fIIN\-FILE\fR for
.\"O input and writes to \fIOUT\-FILE\fR, or standard output if omitted.
.B \-\-traditional
モードを使うと、
.B ptx
は入力を
.I IN\-FILE
から読み、
.I OUT\-FILE
に書く。後者が省略されると標準出力に書く。

.\"O The default output format is the keyword in the center of the line and the
.\"O context of the keyword to the left and right if any, or
.\"O \fB\-\-format\-nroff\fR in \fB\-\-traditional\fR mode.
デフォルトの出力フォーマットは、
キーワードをセンターに、そしてコンテクストがあれば左または右に書く。
.B \-\-traditional
モードでは
.B \-\-format\-nroff
が用いられる。
.\"O .SH OPTIONS
.SH オプション
.TP 
.B \-b \fIFILE\fB, \-\-break\-file=\fIFILE
.\"O Obtain characters that can't be part of a word from \fIFILE\fR, also known
.\"O as the \fBbreak file\fR.  In default
.\"O mode any character in \fIFILE\fR is considered, including newlines.  In
.\"O traditional mode spaces, tabs and newlines  are always discarded from
.\"O \fIFILE\fR.
単語に含むことのできない文字を
.I FILE
から取得する (このファイルは
.B break file
と呼ばれる)。
デフォルトのモードでは、
.I FILE
にある全ての文字が (改行文字も含めて) 考慮される。
過去互換モードでは、空白・タブ・改行の各文字は、常に
.I FILE
からは捨てられる。
.TP
.B \-f, \-\-ignore\-case
.\"O Ignores case when sorting strings.
文字列をソートするとき英大文字小文字を無視する。
.TP
.B \-g \fINUMBER\fB, \-\-gap\-size=\fINUMBER
.\"O Set the minimum spacing between the fields to \fINUMBER\fR (default is 3).
フィールド間の空白の最低数を
.I NUMBER
に設定する (デフォルトは 3)。
.TP
.B \-i \fIFILE\fB, \-\-ignore\-file=\fIFILE
.\"O Obtain a list of keywords that are to be ignored from \fIFILE\fR, also known
.\"O as the \fBignore file\fR  (default is /usr/local/lib/eign)  Each line should
.\"O only contain one word.  Words in the \fBignore file\fR override the ones in the
.\"O \fBonly file\fR.
無視するキーワードのリストを
.I FILE
から取得する (このファイルは
.B ignore file
と呼ばれる。デフォルトは /usr/local/lib/eign)。
各行には単語を一つだけ指定する。
.B ignore file
にある単語は
.B only file
にある単語を上書きする。
.TP
.B \-o \fIFILE\fB, \-\-only\-file=\fIFILE
.\"O Obtain a list of keywords from\fIFILE\fR, also known as the \fBonly file\fR,
.\"O and when generating the index ignore any keyword which isn't present in the
.\"O list.  Each line should only contain one word.
キーワードのリストを
.I FILE
から取得する (このファイルは
.B only file
と呼ばれる)。インデックスを生成するとき、
このリストにない単語は無視する。各行には単語を一つだけ指定する。
.TP
.B \-r, \-\-references
.\"O Precede each line with a string that will identify the context. \fBptx\fR
.\"O will attempt to remove the references from context, and will always
.\"O succeed when the context ends at the newline.  If it is used with \fB\-S\fR
.\"O (and it's default), or when using \fB\-\-traditional\fR mode, references are
.\"O always removed from context.
各行の前にコンテクストを指示する文字列 (行頭の単語) を付ける。
.B ptx
は参照をコンテクストから削除しようとし、
コンテクストが改行で終わる場合にはこれは常に成功する。
このオプションを
.B \-S
と共に用いたり (これはデフォルト)、
.B \-\-traditional
モードを用いると、参照は常にコンテクストから削除される。
.TP
.B \-w \fINUMBER\fB, \-\-width=\fINUMBER
.\"O Truncate output lines which exceed \fINUMBER\fR width.  Note that the length
.\"O of \fB\-\-right\-side\-refs\fR isn't taken into account, and width may be
.\"O exceeded if they are used.
出力行を
.I NUMBER
桁を越えないように切り捨てる。
.B \-\-right\-side\-refs
の分は含まれないので注意。これを用いた場合は指定桁を越えることがある。
.TP
.B \-A, \-\-auto\-reference
.\"O Precede each line with the filename (or empty when reading from standard
.\"O input), the line number, and a colon.  Overrides \fB\-\-references\fR.
各行の前にファイル名 (標準入力から読み込んだ場合は空文字列)、
行番号、コロンを出力する。
.B \-\-references
より優先する。
.TP
.B \-F \fISTRING\fB, \-\-flac\-truncation=\fISTRING
.\"O Output \fISTRING\fR (default is `\fB\e\fR') when truncating a line by
.\"O effect of \fR\-\-width\fR or because it extends towards the beginning of the
.\"O line.
.B \-\-width
によって行を切り捨てるときや、コンテクストが行区切りを越えて続く場合に
.I STRING
(デフォルトは `\fB\e\fR') を出力する。

.\"O Many usual backslashed escape sequences, as found in C programs, are
.\"O recognized and converted to the corresponding characters by \fBptx\fR when
.\"O specifying the \fISTRING\fR.
.I STRING
中では、(C プログラムで使うような)
バックスラッシュを用いたエスケープシーケンスの多くも認識され、
適切な文字に変換される。
.\":nakano この辺原文がよれている...
.TP
.B \-M \fISTRING\fB, \-\-macro\-name=\fISTRING
.\"O Use \fISTRING\fR as the macro name when outputing in nroff or TeX format
.\"O (default is `\fB.xx\fR')
nroff や TeX 形式で出力するときに、
.I STRING
をマクロ名に使う (デフォルトは
.RB ` .xx ')。
.TP
.B \-O, \-\-format=nroff
.\"O Output in nroff format, in the format.  Non printable characters are
.\"O converted to spaces, and quote characters are doubled so they can ben
.\"O correctly processed.  The format of each line is:
出力を nroff 形式にする。
印字できない文字はスペースに置換され、クォート文字は二重にして
正しく処理できるようにする。各行のフォーマットは以下の通り:
.sp
.nf
 .xx "TAIL" "BEFORE" "KEYWORD_AND_AFTER" "HEAD" "REF"
.fi
.TP
.B \-R, \-\-right\-side\-refs
.\"O Like \fB\-\-references\fR, but print output references to the right. 
.B \-\-references
と似ているが、参照を右に出力する。
.TP
.B \-S \fIREGEXP\fB, \-\-sentence\-regexp=\fIREGEXP
.\"O Use \fIREGEXP\fR to describe the end of a line or sentence.  In GNU mode
.\"O when \fB\-\-references\fR are not used, the default is
.I REGEXP
を行末または文末の評価に用いる。
GNU モードで
.B \-\-references
オプションが指定されていない場合のデフォルトは以下:
.sp
.RS
.RS
.nf
[.?!][]\e"')}]*\e\e($\e\e|\et\e\e|  \e\e)[ \et\en]*	 
.fi
.RE
.sp
.\"O In \fB\-\-traditional\fR mode, or in GNU mode when \fB\-\-references\fR are
.\"O used the default is
.B \-\-traditional
モードや、 GNU モードで
.B \-\-references
オプションが指定されている場合のデフォルトは以下:
.sp
.RS
.nf
\en
.fi
.RE
.sp
.\"O As with \fB\-\-F\fR, backslashed sequences are recognized and converted.
.B \-F
と同様、バックスラッシュを用いたシーケンスも認識・変換される。
.RE
.TP
.B \-T, \-\-format=tex
.\"O Output in TeX format.  Non printable characters are converted to spaces,
.\"O some special characters (such as `$', `%', `&', `#' and `_') are protected
.\"O with a backslash,  backslashes are convert to `\ebackslash{}', circumflex
.\"O to `^\e{ }', tildes to `~\e{ }', and other diacritics to the most possible
.\"O appropiate TeX sequence.  The format of each line is:
出力を TeX 形式にする。
印字できない文字はスペースに置換し、
いくつかの特殊文字 (`$', `%', `&', `#', `_' など)
をバックスラッシュでプロテクトする。
バックスラッシュは `\ebackslash{}' に、
アクセント記号は `^\e{ }' に、
チルダは `~\e{ }' に置換し、
その他の音韻記号も可能な限り最も適切な TeX シーケンスに変換する。
各行のフォーマットは以下の通り:
.sp
.RS
.RS
.nf
\exx {TAIL}{BEFORE}{KEYWORD}{AFTER}{HEAD}{REF}
.fi
.RE
.RE
.TP
.B \-W \fIREGEXP\fB, \-\-word\-regexp=\fIREGEXP
.\"O Use \fIREGEXP\fR to describe a keyword, overriding \fB\-\-break\-file\fR if
.\"O it has been also specified.  In GNU mode the default is
.I REGEXP
にマッチする単語をキーワードにする。
.B \-\-break\-file
に指定されている単語も出力する。 GNU モードでのデフォルトは:
.sp
.RS
.RS
.nf
.B \ew+
.fi
.RE
.sp
.\"O and in \fB\-\-traditional\fR mode it is
.B \-\-traditional
モードでのデフォルトは
.sp
.nf
.RS
.B [^ \et\en]+
.fi
.RE
.sp
.\"O An empty \fIREGEXP\fR is the equivalent of using the default.  As with
.\"O \fB\-\-F\fR, backslashed sequences are recognized and converted.
.I REGEXP
が空の場合はデフォルトを用いる。
.B \-F
と同じく、バックスラッシュを用いたシーケンスも認識・変換される。
.RE
.TP
.B "\-C, \-\-copyright"
.\"O Print a brief copyright message on standard output and exit successfully.
標準出力に短い copyright メッセージを出力して正常終了する。
.TP
.B "\-\-help"
.\"O Print a usage message on standard output and exit successfully.
標準出力に使用方法のメッセージを出力して正常終了する。
.TP
.B "\-\-version"
.\"O Print version information on standard output then exit successfully.
標準出力にバージョン情報を出力して正常終了する。
.\"O .SH EXAMPLES
.SH 例
.\"O No complete examples are given here because output tends to be rather
.\"O bulky.
分量が多くなるので、完全な例はここには示していない。
.\"O .SS Plain text
.SS プレインテキスト

.\"O Francois Pinard, author of \fBptx\fR, run through it an email I had sent him
.\"O and this is what he says (*** denotes manual truncation to fit into the man
.\"O page)
.B ptx
の著者である Francois Pinard は、私の出したメールを
.B ptx
に通し、以下の返事を送ってくれた
(*** は man ページに収めるために手で行った切り捨てを示す)。
.sp
.nf
>>    /I've had a look at the source,   and I still   ***
>>    /or what is a permutated index,   and what it   ***

> ptx merely produces a sorted list of the vocabulary you
> used, with some context for each, so I can study your
> writing style, for example.  Whenever you use the word 
> "and", it is preceded by a comma :-). 

[ptx は君の使ったボキャブラリをソートしてリストを作り、
 前後のコンテクストと共に示してくれるんだ。これを見ると、
 例えば君の書き方のクセがわかるわけさ。君が "and" って
 いう単語を使う前には必ずコンマを入れる、とかね :-)]
.fi
.\"O .SS Bang Paths
.SS bang パス
.\"O We have a collection of news posts or email messages, and grep the bang
.\"O paths from them.  For example with
news へのポストや email メッセージに対して grep を行い、
bang パスを取得してみよう。例えば:
.sp
.RS
.nf
lightside~% grep posts "^Path: " |cut -b 7- > paths.txt
.fi
.RE
.sp
.\"O and ending up with paths.txt containing:
すると paths.txt の内容は以下のようになるだろう。
.sp
.RS
.nf
lightside!host2!host3!host4!host5!news
lightside!host2!host3!host4!host6!news
lightside!host7!host8!host9|host10|host4|host5!news
lightside!host4!host5!news
lightside!host11!news
.fi
.RE
.sp
.\"O Now we run \fBptx\fR on it, properly escaping the regexps
これに正規表現を正しくエスケープして
.B ptx
を用いてみよう。
.sp
.RS
.nf
lightside~% ptx \-\-sentence\-regexp="\en" \e
                \-\-word\-regexp="[^\e!]+."
.fi
.RE
.sp
.\"O This will produce output suitable for analyzing the the routes of the posts
.\"O which is specially useful when having more than just the 5 lines we had here.
するとポストの経路の解析に適した出力が生成されるだろう。
行数が、ここに示した 5 行よりもずっと多くなると、とても便利になるだろう。
.\"O .SH COMPATIBILITY
.SH 移植性
.\"O System V \fBptx\fR compatibility is available by specifying
.\"O \fB\-\-traditional\fR.  GNU \fBptx\fR also tries to imitate System V output,
.\"O with occassional glitches due the better usage of line width by GNU
.\"O \fBptx\fR. Other changes in \fB\-\-traditional\fR mode are:
.B \-\-traditional
を指定すると、
System V の
.B ptx
と互換になる。 GNU
.B ptx
は行幅をよりうまく使えるのだが、この点も
System V の出力に時々現れる異常をまねしようと試みる。
.\"nakano: ここわかんない(^^;
.B \-\-traditioanl
モードとの他の相違点は以下の通り:
.RS
.sp
.\"O \fB\(bu\fR\ Argument behaviour changes as in \fBDESCRIPTION\fR.
\fB\(bu\fR\ \fB説明\fR にあるように、引数の取り方が変わる。
.sp
.\"O \fB\(bu\fR\ The only available options are
.\"O .BR \-b ", " \-f ", " \-g ", " \-i ", " \-o ", "\-r ", " \-t ", and " \-w .
\fB\(bu\fR\ 指定できるオプションが
.BR \-b ", " \-f ", " \-g ", " \-i ", " \-o ", "\-r ", " \-t ", " \-w
だけになる。
.sp
.\"O \fB\(bu\fR\ Default format is \fB\-\-format=nroff\fR.
\fB\(bu\fR\ デフォルトの出力形式が
.B \-\-format=nroff
になる。
.sp
.\"O \fB\(bu\fR\ Width of references isn't taken into account when truncating to
.\"O \fB\-\-width\fR.
\fB\(bu\fR\ \fB\-\-width\fR で行切り捨てを行うとき、参照の幅を考慮しなくなる。
.sp
.\"O \fB\(bu\fR\ 8-bit and tilde (`\fB~\fR') characters are rejected, as well as
.\"O some control characters.
\fB\(bu\fR\ 8 ビット文字とチルダ (`\fB~\fR') をはねる。
いくつかの制御文字もはねる。
.sp
.\"O \fB\(bu\fR\ Input lines are silently truncated to 200 characters.
\fB\(bu\fR\ 入力行の 200 文字以降を黙って切り捨てる。
.sp
.\"O \fB\(bu\fR\ It's not possible to specify both an \fBignore file\fR and an
.\"O \fBonly file\fR.
\fB\(bu\fR\ \fBignore file\fP と \fBonly file\fP の両方を同時に指定できない。
.sp
.\"O \fB\(bu\fR\ The defaults of some options change as described in \fBOPTIONS\fR.
\fB\(bu\fR\ \fBオプション\fPに記述したように、
いくつかのオプションのデフォルトが変わる。
.RE
.\"O .SH NOTES
.SH 注意
.\"O Report bugs to bug-textutils@gnu.org.  Enhancement suggestions on
.\"O \fB\-\-format=tex\fR is encouraged.
.\"O .sp
.\"O Man page by Ragnar Hojland Espinosa <ragnar@ragnar-hojland.com>
プログラムのバグについては bug-textutils@gnu.org に報告してください。
.br
man ページは Ragnar Hojland Espinosa <ragnar@ragnar-hojland.com> が作成しました。
