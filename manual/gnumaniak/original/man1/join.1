.\" You may copy, distribute and modify under the terms of the LDP General
.\" Public License as specified in the LICENSE file that comes with the
.\" gnumaniak distribution
.\"
.\" The author kindly requests that no comments regarding the "better"
.\" suitability or up-to-date notices of any info documentation alternative
.\" is added without contacting him first.
.\"
.\" (C) 2002 Ragnar Hojland Espinosa <ragnar@ragnar-hojland.com>
.\"
.\"	GNU join man page
.\"	man pages are NOT obsolete!
.\"	<ragnar@ragnar-hojland.com>
.TH JOIN 1 "7 October 2002" "GNU textutils 2.1"
.SH NAME
\fBjoin\fR \- join lines on a common field
.SH SYNOPSIS
.B join
[\fB\-i\fR]
[\fB\-1 \fIFIELD\fR]
[\fB\-2 \fIFIELD\fR]
[\fB\-a \fIFILE\-NUMBER\fR]
[\fB\-e \fISTRING\fR]
[\fB\-j \fIFIELD\fR]
[\fB\-j1 \fIFIELD\fR]
[\fB\-j2 \fIFIELD\fR]
[\fB\-o \fIFIELD\-LIST\fR]
[\fB\-t \fICHAR\fR]
[\fB\-v \fIFILE-NUMBER\fR]
.RB [ \-\-ignore\-case ]
.IR FILE1 " [" FILE2 ]

.BR join " [" \-\-help "] [" \-\-version ]
.SH DESCRIPTION
.B join
writes to standard output a line for each pair of input lines that have
identical join field.
If one
.I FILE
is missing or if it is a
.RB ` \- ',
standard input is used as input for that file.

\fIFILE1\fR and \fIFILE2\fR should be already sorted in increasing order
(not numerically) on the join fields; unless the \fB\-t\fR option is given,
they should be sorted ignoring blanks at the start of the join field,
as in `sort \-b'.  If the \fB\-\-ignore\-case\fR option is given, lines should
be sorted without regard to the case of characters in the join field,
as in `sort \-f'.

The defaults are: the join field is the first field in each line;
fields in the input are separated by one or more blanks, with leading
blanks on the line ignored; fields in the output are separated by a
space; each output line consists of the join field, the remaining
fields from \fIFILE1\fR, then the remaining fields from \fIFILE2\fR.
.SH OPTIONS
.TP
.B \-1 \fIFIELD\fB, \-j1 \fIFIELD
Join on field \fIFIELD\fR (a positive integer) of \fIFILE1\fR.
.TP
.B \-2 \fIFIELD\fB, \-j2 \fIFIELD
Join on field \fIFIELD\fR (a positive integer) of \fIFILE2\fR.
.TP
.B \-a \fIFILE\-LIST\fB
Print a line for each unpairable line in file \fIFILE\-NUMBER\fR (either
.RB ` 1 "' or `" 2 '),
in addition to the normal output.
.TP
.B \-e \fISTRING
Replace those output fields that are missing in the input with \fISTRING\fR.
.TP
.B \-i, \-\-ignore\-case
Ignore differences in case when comparing keys.  With this option,
the lines of the input files must be ordered in the same way.  Use
`sort \-f' to produce this ordering.
.TP
.B \-j \fIFIELD
Equivalent to \fB\-1 \fIFIELD \fB\-2 \fIFIELD\fR.
.TP
.B \-o \fIFIELD\-LIST...
Construct each output line according to the format in \fIFIELD\-LIST\fR.
Each element in \fIFIELD\-LIST\fR is either the single character `\fB0\fR' or
has the form \fIM\fB.\fIN\fR where the file number, \fIM\fR, is 
.RB ` 1 "' or `" 2 '
and \fIN\fR is a positive field number.
.sp
A field specification of `\fB0\fR' denotes the join field.  In most
cases, the functionality of the `\fB0\fR' field spec may be reproduced
using the explicit \fIM\fB.\fIN\fR that corresponds to the join field.
However, when printing unpairable lines (using either or \fB\-a\fR
or \fB\-v\fR options), there is no way to specify the join field using
\fIM\fB.\fIN\fR in \fIFIELD\-LIST\fR if there are unpairable lines in both
files.  To give \fBjoin\fR that functionality, POSIX invented the 
`\fB0\fR' field specification notation.
.sp
The elements in \fIFIELD\-LIST\fR are separated by commas or blanks.
Multiple \fIFIELD\-LIST\fR arguments can be given after a single \fB\-o\fR
option; the values of all lists given with \fB\-o\fR are concatenated
together.  All output lines \- including those printed because of
any \fB\-a\fR or \fB\-v\fR option \- are subject to the specified
\fIFIELD\-LIST\fR.
.TP
.B \-t \fICHAR
Use character \fICHAR\fR as the input and output field separator.
.TP
.B \-v \fIFILE\-NUMBER
Print a line for each unpairable line in file \fIFILE\-NUMBER\fR (either 
.RB ` 1 "' or `" 2 '),
instead of the normal output. 
.TP
.B "\-\-help"
Print a usage message on standard output and exit successfully.
.TP
.B "\-\-version"
Print version information on standard output then exit successfully.
.SH NOTES
Report bugs to bug-textutils@gnu.org.
.br
Man page by Ragnar Hojland Espinosa <ragnar@ragnar-hojland.com>
