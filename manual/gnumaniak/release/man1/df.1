.\" Copyright Andries Brouwer, A. Wik 1998, Ragnar Hojland Espinosa 1998-2002
.\"
.\" This file may be copied under the conditions described
.\" in the LDP GENERAL PUBLIC LICENSE, Version 1, September 1998
.\" that should have been distributed together with this file.
.\"
.\" Japanese Version Copyright (c) 1999-2003 Yuichi SATO
.\"         all rights reserved.                                               
.\" Translated Sat Oct 16 14:35:31 JST 1999
.\"         by Yuichi SATO <sato@complex.eng.hokudai.ac.jp>
.\" Updated & Modified Sun Feb 16 17:41:57 JST 2003
.\"         by Yuichi SATO <ysato444@yahoo.co.jp>
.\"
.\"WORD:	report		表示
.\"WORD:	disk space	ディスク容量
.\"
.TH DF 1 "18 June 2002" "GNU fileutils 4.1"
.SH 名前
df \- ファイルシステムのディスク容量の使用状況を表示する
.SH 書式
.BI "df [" options "] [" file... ]
.sp
POSIX オプション:
.B [\-kP]
.sp
GNU オプション (簡略形式):
.B [\-ahiklmvHPT]
.BI "[\-t " fstype ]
.BI "[\-x " fstype ]
.B [\-\-block\-size=\fISIZE\fB]
.B [\-\-no\-sync]
.B [\-\-sync]
.B "[\-\-help] [\-\-version] [\-\-]"
.SH 説明
.B df
は各ファイルシステムにおいて、
すでに使用中のディスクの量と使用可能なディスクの量を表示する。
.PP
引き数がない場合、
.B df
は現在マウントされている (全てのタイプの) 
全ファイルシステムについて
使用量と使用可能量を表示する。
引き数が指定されている場合、
.B df
は引き数
.I file
が含まれるファイルシステムについて表示する。
.SH "POSIX 詳細"
出力はデフォルトでは 512 バイト単位であるが、
\-k オプションが指定された場合は 1024 バイト単位になる。
\-P オプションが指定されない場合、出力フォーマットは未定義である。
.I file
が通常のファイル、ディレクトリ、FIFO のいずれでもない場合の
結果は規定されていない。
.SH "GNU 詳細"
引き数
.I file
がディスクデバイスファイルで、
かつそこにマウント済みのファイルシステムが含まれている場合、
.B df
はそのデバイスノードの属しているファイルシステムではなく、
デバイスファイルに対応している方のファイルシステムの使用可能量を表示する。
.SH "POSIX オプション"
.TP
.B "\-k"
デフォルトの 512 バイト単位の代わりに 1024 バイト単位を用いる。
.TP
.B "\-P"
`Filesystem N-blocks Used Available Capacity Mounted on'
というヘッダをつけて 6 列で出力する
(通常は N=512、\-k オプションが指定されたときは N=1024)。
.SH "GNU オプション"
.TP
.B "\-a, \-\-all"
サイズが 0 ブロックのファイルシステムや
タイプが `ignore' または `auto' のファイルシステムも
リスト表示に含める (デフォルトでは省かれる)。
.TP
.B "\-h, \-\-human-readable"
それぞれのサイズに、
例えばメガバイトなら \fBM\fR のようなサイズ文字を付加する。
10 の累乗ではなく 2 の累乗を用いるので、
\fBM\fR は 1,048,576 バイトを表す。
.TP
.B "\-i, \-\-inodes"
ブロック単位での使用容量のかわりに inode の使用状況をリスト表示する。
.TP
.B "\-k, \-\-kilobytes"
デフォルトのブロックサイズを無視し、
1024 バイトを 1 ブロックとしてサイズを表示する。
.TP
.B \-l, \-\-local
ローカルファイルシステムのみをリスト表示する。
.TP
.B "\-m, \-\-megabytes"
メガバイト (1,048,576 バイト) ブロック単位でサイズを表示する。
.TP
.BI "\-t " "fstype, " "\-\-type=" "fstype"
タイプが
.I fstype
のファイルシステムのみをリスト表示する。
.B \-t
オプションを複数指定すれば、複数のタイプを表示するようにできる。
デフォルトで省略されるものについては \fB\-\-all\fR を参照すること。
.TP
.B "\-v"
このオプションは無視される (System V 版の
.B df
との互換性のためにある)。
.TP
.BI "\-x " "fstype, " "\-\-exclude\-type=" "fstype"
タイプが
.I fstype
のファイルシステムを除外する。
.B \-x
オプションを複数指定すれば、複数のファイルシステムタイプを表示から削除できる。
デフォルトでは、どのファイルシステムタイプも除外されない。
デフォルトで省略されるものについては \fB\-\-all\fR を参照すること。
.TP
.B \-H, \-\-si
それぞれのサイズについて、例えばメガバイトなら \fBM\fR といった
サイズ文字を付加する。
(SIとは国際単位系のことで、これらのサイズ文字を定義している)
2 の累乗ではなく 10 の累乗を用いるので、
\fBM\fR は 1,000,000 バイトを表す。
.TP
.B "\-P, \-\-portability"
.SM POSIX
出力形式を用いる。
これはデフォルトの表示形式に似ているが、
以下の a), b), c) の点が異なる。
a) ファイルシステムについての情報が常に 1 行で表示される。
このオプションを付けると
マウントデバイス名だけが単独で 1 行に表示されることはない。
すなわちマウントデバイス名が 20 文字以上の場合
(例えばネットワークマウントなど) コラムの整列が崩れることになる。
b) 丸めが繰上げになる。
c) コラムのヘッダが POSIX に準拠している。
.TP
.B "\-T, \-\-print\-type"
各ファイルシステムのタイプを表示する。
.BR mount (8)
を参照。
.TP
.B \-\-block\-size=\fISIZE
ブロックサイズを \fISIZE\fR に設定し、環境変数の値を無視する。
.TP
.B "\-\-no\-sync"
使用量データを得る前に
.B sync(2)
を呼ばない。
このオプションは
.B df
の動作がかなり速くなるかもしれないが、
システムによっては (特に SunOS では)
結果が少し古くなるかもしれない。このオプションはデフォルトである。
.TP
.B "\-\-sync"
使用量データを得る前に
.B sync(2)
を呼ぶ。
システムによっては (特に SunOS では)
より新しい結果を得ることができる。
しかし一般的に、このオプションは
.B df
の動作をずっと遅くする
(特にファイルシステムが多い場合や、
更新が非常に頻繁なファイルシステムがある場合)。
.SH "GNU 標準オプション"
.TP
.B "\-\-help"
標準出力に使用方法のメッセージを出力して正常終了する。
.TP
.B "\-\-version"
標準出力にバージョン情報を出力して正常終了する。
.TP
.B "\-\-"
オプションリストの終りを示す。
.SH ブロックサイズ
デフォルトの出力ファイルブロックサイズは
1024 バイト (\fBPOSIXLY_CORRECT\fRが設定されているときは 512 バイト) である。
この値は以下の環境変数のどれかを設定することで変更できる。
また、これらの環境変数の値は \fB\-\-block\-size=\fISIZE\fR が
オプションに与えられると無視される。
.TP
優先順位：
.BR DF_BLOCK_SIZE ", " BLOCK_SIZE ", " POSIXLY_CORRECT .
.PP
これらの変数の値は、数字でも \fBhuman\-readable\fR でも \fBsi\fR でもよい。
数字の後には、何倍であるかを指定するサイズ文字と、
通常のバイトを選択する \fBB\fR または
十進の「商業用」バイトを選択する \fBD\fR を続けてもよい。
たとえば `BLOCK_SIZE=1KB' は `BLOCK_SIZE=1024' に等しく、
`BLOCK_SIZE=1KD' は `BLOCK_SIZE=1000' に等しい。

以下の文字が認識される 
(また \fB\-\-human\-readable\fR と 
\fB\-\-si\fR オプションで表示されるときに用いられる)。
.TP
.B k
キロ: \fB\-\-human-readable\fR なら 2^10 = 1024、
\fB\-\-si\fR なら 10^3 = 1000
.TP
.B M
メガ: 2^20 = 1,048,576 または 10^6 = 1,000,000
.TP
.B G
ギガ: 2^30 = 1,073,741,824 または 10^9 = 1,000,000,000
.TP
.B T
テラ: 2^40 = 1,099,511,627,776 または 10^12 = 1,000,000,000,000
.TP
.B P
ペタ: 2^50 = 1,125,899,906,842,624 または 10^15 = 1,000,000,000,000,000
.TP
.B E
エクサ: 2^60 = 1,152,921,504,606,846,976 または 
10^18 = 1,000,000,000,000,000,000
.TP
.B Z
ゼタ: 2^70 = 1,180,591,620,717,411,303,424 または 10^21 =
1,000,000,000,000,000,000,000
.TP
.B Y
ヨタ: 2^80 = 1,208,925,819,614,629,174,706,176 または 10^24 =
1,000,000,000,000,000,000,000,000
.SH 環境変数
変数 DF_BLOCK_SIZE, BLOCK_SIZE, POSIXLY_CORRECT は
出力ファイルブロックサイズの選択を決定する。
変数 LANG, LC_ALL, LC_CTYPE, LC_MESSAGES が通常の意味を持つ。
.SH 準拠
POSIX 1003.2
.SH 関連項目
.BR mount (8)
.SH 注意
ディスク使用量は丸めの際に繰上げられ、
空き容量は繰り下げられる。
.PP
このページは fileutils-4.1 パッケージの
.B df
コマンドについて説明したものである;
その他のバージョンでは少し違いがあるかもしれない。
修正や追加は aeb@cwi.nl, aw@mail1.bet1.puv.fi, ragnar@ragnar-hojland.com
宛にメールで連絡してください。
プログラムのバグについては bug-fileutils@gnu.org へ報告してください。
