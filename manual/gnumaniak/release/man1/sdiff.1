.\" You may copy, distribute and modify under the terms of the LDP General
.\" Public License as specified in the LICENSE file that comes with the
.\" gnumaniak distribution
.\"
.\" The author kindly requests that no comments regarding the "better"
.\" suitability or up-to-date notices of any info documentation alternative
.\" is added without contacting him first.
.\"
.\" (C) 2002 Ragnar Hojland Espinosa <ragnar@ragnar-hojland.com>
.\"
.\"     GNU sdiff man page
.\"     man pages are NOT obsolete!
.\"     <ragnar@ragnar-hojland.com>
.\"
.\" Japanese Version Copyright (c) 2000 NAKANO Takeo all rights reserved.
.\" Translated Sun 12 Mar 2000 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\" Updated & Modified Sat Jan 24 17:28:45 JST 2004
.\"         by Yuichi SATO <ysato444@yahoo.co.jp>
.\" Updated Wed Aug 10 15:51:58 JST 2011
.\"         by TACHIBANA Akira <tati@kc5.so-net.ne.jp>
.\"
.\"WORD:	gutter		のど
.\"
.TH SDIFF 1 "October 2002" "GNU diff Utilities 2.8.1"
.SH 名前
sdiff \- 2 つのファイルの違いを見つけ、対話的にマージを行う
.SH 書式
.B sdiff
[\fB\-abdilstBEHW\fR] [\fB\-o \fIOUTFILE\fR] [\fB\-w \fICOLUMNS\fR]
[\fB\-I \fIREGEXP\fR] [\fB\-\-diff\-program=\fIPROGRAM\fR]
[\fB\-\-expand-tabs\fR] [\fB\-ignore\-all\-space\fR]
[\fB\-ignore\-blank\-lines\fR] [\fB\-\-ignore\-case\fR]
[\fB\-\-ignore\-matching\-lines=\fIREGEXP\fR]
[\fB\-\-ignore\-space\-change\fR]
[\fB\-\-ignore\-tab\-expansion\fR]
[\fB\-\-left\-column\fR] [\fB\-\-minimal\fR]
[\fB\-\-output=\fIOUTFILE\fR] 
[\fB\-\-speed\-large\-files\fR]
[\fB\-\-strip\-trailing\-cr\fR]
[\fB\-\-supress\-common\-lines\fR] 
[\fB\-\-text\fR] [\fB\-\-width=\fICOLUMNS\fR]
.I FROMFILE TOFILE

.B sdiff
[\fB-v\fR] [\fB\-\-help\fR] [\fB\-\-version\fR]
.SH 説明
.B sdiff
は 2 つのファイルをマージする。
.B \-o
が指定されている場合は対話的にマージした結果を
.I OUTFILE
に出力する。それ以外の場合は side-by-side 形式で違いを表示するだけである。

.I FROMFILE
がディレクトリで
.I TOFILE
がディレクトリでない場合、
.B sdiff
は
.I FROMFILE
にある、ファイル名が
.I TOFILE
と同じものを比較の対象にする (逆も同じ)。
.IR FROMFILE " と " TOFILE
の両方にディレクトリを指定することはできない。
入力ファイルに
.RB ` \- '
を用いることはできない。
[訳注: 多くのコマンドでは
.RB ` \- '
は標準入力の意味になる]

通常
.B sdiff
は
.B diff 
を呼び出して処理を行う。
しかし
.B DIFF
環境変数を他のプログラムに設定すれば、そのプログラムを使うように変更できる。
また
.B EDITOR
環境変数を設定すると、使用するエディタも変更できる。
.SH オプション
.TP
.B \-a, \-\-text
テキストのように見えないファイルがあっても、
全てのファイルをテキストとみなして 1 行ずつ比較していく。
.TP
.B \-b, \-\-ignore\-space\-change
空白の数の違いを無視する。
.TP
.B \-d, \-\-minimal
アルゴリズムを変更する (おそらく小さな違いも見付かるようになる)。
これを用いると
.B sdiff
は遅くなる (時には非常に遅くなる)。
.TP
.B \-i, \-\-ignore\-case
英大文字と小文字の違いを無視する。
.TP
.B \-l, \-\-left\-column
共通の行に対しては、左側の列だけを表示する。
.TP
.BI "\-o " OUTFILE ", \-\-output=" OUTFILE
マージされた出力を
.I OUTFILE
に書き込む。マージを行うためにはこのオプションが必要である。
.TP
.B \-s, \-\-suppress\-common\-lines
共通な行を表示しない。
.TP
.B \-t, \-\-expand\-tabs
出力でタブ文字をスペースに変換する。
入力ファイルでのタブ文字による桁揃えが保存される。
.TP
.BI "\-w " COLUMNS ", \-\-width=" COLUMNS
出力の幅を
.I COLUMNS
桁にする。
歴史的な理由から、
.BR diff (1)
ではこのオプションは
.B \-W
になっていることに注意。
.TP
.B \-B, \-\-ignore\-blank\-lines
空行を挿入・削除するだけの違いは無視する。
.TP
.B \-E, \-\-ignore\-tab\-expansion
タブ展開によるスペースの変更を無視する。
.TP
.B \-H, \-\-speed\-large\-files
小さな変更が大量にあるような大きなファイルを高速に扱うために、
発見的推測手法を用いる。
.TP
.BI "\-I " REGEXP ", \-\-ignore\-matching\-lines=" REGEXP
正規表現
.I REGEXP
にマッチした行を挿入・削除するだけの違いは無視する。
.TP
.B \-W
行の比較の際に空白を無視する。
歴史的な理由から、
.BR diff (1)
ではこのオプションは
.B \-w
になっていることに注意。
.TP
.B \-\-diff\-program= \fIPROGRAM
ファイルの比較するために \fBdiff\fR と互換性のある
外部プログラム \fIPROGRAM\fR を用いる。
.TP
.B \-\-strip\-trailing\-cr
行末の CR を取り除く。
行末のマーカとして CRLF を使うシステムの出力を処理するときに役立つ。
.TP
.B "\-\-help"
標準出力に使用方法のメッセージを出力して正常終了する。
.TP
.B \-v, \-\-version
.B sdiff
のバージョン番号を出力する。
.SH マージ
共通行のブロック (空白の「のど (gutter)」を挟んで左右に表示される) は、
1 番目のファイルから出力にコピーされる。
差異のある行ブロックのあとでは、
.B sdiff
は
.RB ` % '
をプロンプトとして出して一時停止し、
以下のコマンドのどれか 1 つが入力されるのを待つ。
.IP "[訳注]:" 8
「のど (gutter)」とは、印刷用語で左右のページの間にある部分 (すなわち、
折り目になるところ) を指す。このマニュアルでは、対応する行の中間にある、
区切り記号を置く場所を意味している。詳細については、
.BR diff (1)
の「side-by-side 形式」を参照すること。
.TP
.B e
両方のバージョンとも捨てる。内容が空の一時ファイルをテキストエディタで開き、
エディタ終了後のファイルの内容を出力にコピーする。
.TP 
.B eb
両方のバージョンを結合した結果をエディタで編集し、
終了後の内容を出力にコピーする。
.TP
.B ed
.RB ` eb ',
と似ているが、各バージョンのブロックの前にヘッダを置き、
どのファイルのどの行のものかがわかるようにする。
.TP     
.B el
左側のバージョンをエディタで編集し、
終了後の内容を出力にコピーする。
.TP
.B er
右側のバージョンをエディタで編集し、
終了後の内容を出力にコピーする。
.TP
.B l
左側のバージョンを出力にコピーする。
.TP
.B q
終了する。
.TP
.\":tati:↓は p でなく r
.B r
右側のバージョンを出力にコピーする。
.TP
.B s
共通な行を表示せずにコピーする。
.TP
.B v
共通な行を表示しながらコピーする。デフォルト。
.SH 返り値
.B sdiff
は以下のどれかの値で終了する:
.TP
.B 0
.B sdiff
は成功し、差異は存在しなかった。
.TP
.B 1
差異が見付かった。
.TP
.B 2
何らかのエラーが起こった。
.SH 関連項目
.BR cmp (1),
.BR comm (1),
.BR diff (1),
.BR diff3 (1)
.SH 注意
プログラムのバグについては bug-gnu-utils@gnu.org に報告してください。
ページの更新は Ragnar Hojland Espinosa
<ragnar@ragnar-hojland.com> が行っています。
