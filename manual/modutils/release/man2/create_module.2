.\" Copyright (C) 1996 Free Software Foundation, Inc.
.\" This file is distributed accroding to the GNU General Public License.
.\" See the file COPYING in the top level source directory for details.
.\"
.\" Japanese Version Copyright (c) 1997,1999 HANATAKA Shinya and FUJIWARA Teruyoshi
.\"         all rights reserved.
.\" Translated Sat Aug 30 13:42:42 JST 1997
.\"         by HANATAKA Shinya <hanataka@abyss.rim.or.jp>
.\" Merged with another translation Sun Aug 15 09:55:42 JST 1999
.\"         by FUJIWARA Teruyoshi <fujiwara@linux.or.jp>
.\"
.\"WORD:        loadable module         ローダブル・モジュール
.\"
.TH CREATE_MODULE 2 "26 Dec 1996" Linux "Linux Module Support"
.SH 名前
create_module \- ローダブルモジュールのエントリを生成する
.SH 書式
.nf
.B #include <linux/module.h>
.sp
.BI "caddr_t create_module(const char *" name ", size_t " size );
.fi
.SH このマニュアルについて
これは、Linux Kernel 2.4 の時代に使われていた modutils
パッケージ所収の古いマニュアルです。(2022/12/02, Linux JM Project)
.SH 説明
.B create_module
はローダブルモジュール(loadable module)のエントリを作成し、そのモジュール
の保持に必要なカーネルメモリを予約しようとする。このシステムコールを使
えるのはスーパーユーザだけである。
.SH 返り値
成功した場合は、モジュールを常駐させるためのカーネルメモリ上のアドレス
が返される。エラーの場合は \-1 が返され、\fIerrno\fP の値が適切に設定
される。
.SH エラー
.TP
.B EPERM
呼び出しを行ったのがスーパーユーザでない。
.TP
.B EEXIST
その名前のモジュールが既に存在している。
.TP
.B EINVAL
要求したサイズが小さすぎて、モジュールのヘッダ情報すら格納できない。
.TP
.B ENOMEM
モジュールを格納するのに必要な大きさの連続したメモリブロックをカーネル
が確保できなかった。
.TP
.B EFAULT
.I name
が、プログラムがアクセスできるアドレス空間の外部にある。
.SH 関連項目
.BR init_module "(2), " delete_module "(2), " query_module "(2)"

