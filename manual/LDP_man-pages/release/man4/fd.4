.\" Copyright (c) 1993 Michael Haardt (michael@cantor.informatik.rwth-aachen.de)
.\" and 1994,1995 Alain Knaff (Alain.Knaff@imag.fr)
.\"
.\" %%%LICENSE_START(GPLv2+_DOC_FULL)
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, see
.\" <http://www.gnu.org/licenses/>.
.\" %%%LICENSE_END
.\"
.\" Modified, Sun Feb 26 15:00:02 1995, faith@cs.unc.edu
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.\"
.\" Japanese Version Copyright (c) 1996,1997,1998 ISHIKAWA Mutsumi
.\"         all rights reserved.
.\" Translated Sun Jan 11 03:25:38 JST 1998
.\"         by ISHIKAWA Mutsumi <ishikawa@linux.or.jp>
.\"
.TH FD 4 " 2020\-08\-13" Linux "Linux Programmer's Manual"
.SH 名前
fd \- フロッピーディスク(floppy disk)デバイス
.SH 設定
フロッピードライブはメジャーナンバー 2 を持つブロックデバイスである。 一般的には、このデバイスのオーナーは root:floppy (オーナー
root、グループ floppy) で、 モード 0660 (グループの構成員であることによってアクセスチェックが行われる)、 または、モード 0666
(誰でもアクセスできる) である。 マイナーナンバーはデバイスのタイプ、ドライブの番号、
コントローラーの番号を符号化したものである。それぞれのデバイスタイプ (これは、密度 (density) とトラックカウント (track count)
の組合せである)  は、ベースとなるマイナーナンバーを持っている。このベースナンバーにその
コントローラー上のドライブナンバーを加える。もし、そのドライブが 2 番目の コントローラーに接続されているなら、さらに 128 を加える。次のデバイス
テーブルでは、 \fIn\fP はドライブ番号を表す。 [訳注] 以下のテーブルに用いられる用語は表の整形の関係から原文のままとなっている。 Name
(名前)、Capac. (容量)、Cyl. (シリンダ数)、Sect. (セクター数)、 Heads. (ヘッダー数)、Base minor #
(ベースマイナーナンバー)。
.PP
\fB警告: ドライブがサポートしているよりも多くのトラックを持つように フォーマットした場合、ドライブに機械的なダメージを与えることになる
かもしれない。\fP 通常の 40/80 よりも多くのトラックがサポートされているかどうかを 一度試すだけではドライブにダメージを与えることはないはずだが、
ダメージを与えないという保証はない。 確信がない場合は、そのような使い方が行われないように、 そうしたフォーマットのドライブエントリーを作成しないこと。
.PP
メディアのフォーマットと容量を自動的に検出する ドライブ非依存のデバイスファイル:
.TS
l c
l c.
名前	ベース
	マイナー番号
_
\fBfd\fP\fIn\fP	0
.TE
.PP
5.25 インチ倍密度 (double\-density) デバイスファイル:
.TS
lw(1i) l l l l c
lw(1i) c c c c c.
名前	容量	シリンダー	セクター	ヘッド	ベース
	KiB				マイナー番号
_
\fBfd\fP\fIn\fP\fBd360\fP	 360	40	9	2	4
.TE
.PP
5.25 インチ高密度 (high\-density) デバイスファイル:
.TS
lw(1i) l l l l c
lw(1i) c c c c c.
名前	容量	シリンダー	セクター	ヘッド	ベース
	KiB				マイナー番号
_
\fBfd\fP\fIn\fP\fBh360\fP	 360	40	9	2	20
\fBfd\fP\fIn\fP\fBh410\fP	 410	41	10	2	48
\fBfd\fP\fIn\fP\fBh420\fP	 420	42	10	2	64
\fBfd\fP\fIn\fP\fBh720\fP	 720	80	9	2	24
\fBfd\fP\fIn\fP\fBh880\fP	 880	80	11	2	80
\fBfd\fP\fIn\fP\fBh1200\fP	1200	80	15	2	8
\fBfd\fP\fIn\fP\fBh1440\fP	 1440	80	18	2	40
\fBfd\fP\fIn\fP\fBh1476\fP	 1476	82	18	2	56
\fBfd\fP\fIn\fP\fBh1494\fP	 1494	83	18	2	72
\fBfd\fP\fIn\fP\fBh1600\fP	 1600	80	20	2	92
.TE
.PP
3.5 インチ倍密度 (double\-density) デバイスファイル:
.TS
lw(1i) l l l l c
lw(1i) c c c c c.
名前	容量	シリンダー	セクター	ヘッド	ベース
	KiB				マイナー番号
_
\fBfd\fP\fIn\fP\fBu360\fP	 360	80	9	1	12
\fBfd\fP\fIn\fP\fBu720\fP	 720	80	9	2	16
\fBfd\fP\fIn\fP\fBu800\fP	 800	80	10	2	120
\fBfd\fP\fIn\fP\fBu1040\fP	 1040	80	13	2	84
\fBfd\fP\fIn\fP\fBu1120\fP	 1120	80	14	2	88
.TE
.PP
3.5 インチ高密度 (high\-density) デバイスファイル:
.TS
lw(1i) l l l l c
lw(1i) c c c c c.
名前	容量	シリンダー	セクター	ヘッド	ベース
	KiB				マイナー番号
_
\fBfd\fP\fIn\fP\fBu360\fP	 360	40	9	2	12
\fBfd\fP\fIn\fP\fBu720\fP	 720	80	9	2	16
\fBfd\fP\fIn\fP\fBu820\fP	 820	82	10	2	52
\fBfd\fP\fIn\fP\fBu830\fP	 830	83	10	2	68
\fBfd\fP\fIn\fP\fBu1440\fP	 1440	80	18	2	28
\fBfd\fP\fIn\fP\fBu1600\fP	 1600	80	20	2	124
\fBfd\fP\fIn\fP\fBu1680\fP	 1680	80	21	2	44
\fBfd\fP\fIn\fP\fBu1722\fP	 1722	82	21	2	60
\fBfd\fP\fIn\fP\fBu1743\fP	 1743	83	21	2	76
\fBfd\fP\fIn\fP\fBu1760\fP	 1760	80	22	2	96
\fBfd\fP\fIn\fP\fBu1840\fP	 1840	80	23	2	116
\fBfd\fP\fIn\fP\fBu1920\fP	 1920	80	24	2	100
.TE
.PP
3.5 インチ拡張密度 (extra\-density) デバイスファイル:
.TS
lw(1i) l l l l c
lw(1i) c c c c c.
名前	容量	シリンダー	セクター	ヘッド	ベース
	KiB				マイナー番号
_
\fBfd\fP\fIn\fP\fBu2880\fP	 2880	80	36	2	32
\fBfd\fP\fIn\fP\fBCompaQ\fP	 2880	80	36	2	36
\fBfd\fP\fIn\fP\fBu3200\fP	 3200	80	40	2	104
\fBfd\fP\fIn\fP\fBu3520\fP	 3520	80	44	2	108
\fBfd\fP\fIn\fP\fBu3840\fP	 3840	80	48	2	112
.TE
.SH 説明
\fBfd\fP スペシャルファイルはフロッピーディスクドライブにローモード (raw mode)で アクセスする。\fBfd\fP では、次の
\fBioctl\fP(2)  コールがサポートされている。
.IP \fBFDCLRPRM\fP
ドライブのメディア情報(ドライブ内のディスクのジオメトリ情報)をクリアす る。
.IP \fBFDSETPRM\fP
ドライブのメディア情報をセットする。メディア情報はメディアが交換された 時、失われる。
.IP \fBFDDEFPRM\fP
ドライブのメディア情報(ドライブ内のディスクのジオメトリ情報)をセットす る。メディア情報はメディアが交換された時でも失われない。これは(メディ
ア情報の)自動検出を無効にする。自動検出を再び有効にするために、 \fBFDCLRPRM\fP を発行しなければならない。
.IP \fBFDGETDRVTYP\fP
ドライブのタイプ(名前引数)を返す。それぞれのドライブタイプに適合するよ うにフォーマットを行うため、\fBFDGETDRVTYP\fP
はフォーマットをサポート する最も古いドライブタイプのために適切な名前を返す。
.IP \fBFDFLUSH\fP
与えられたドライブのバッファーキャッシュを無効にする。
.IP \fBFDSETMAXERRS\fP
エラーの報告、操作の中止、再試行、リセット、セクター毎の読み込みのため のエラー閾値をセットする。
.IP \fBFDSETMAXERRS\fP
現在のエラー閾値を得る。
.IP \fBFDGETDRVTYP\fP
ドライブの内部名を得る。
.IP \fBFDWERRORCLR\fP
書き込みエラーの統計をクリアーする。
.IP \fBFDWERRORGET\fP
書き込みエラーの統計を読む。統計は、書き込みエラーの合計、最初の書き込 みエラーはどのディスクのどこで起こったか、そして、最後の書き込みエラー
がどのディスクのどこで起こったかという情報を含んでいる。ディスクはディ スクの交換ごとに増えるジェネレーション番号によって識別される。
.IP \fBFDTWADDLE\fP
数ミリ秒の間ドライブのモーターのスイッチを切る。これはディスクのセクター 同士が接近しすぎているディスクのアクセスのために必要であろう。
.IP \fBFDSETDRVPRM\fP
ドライブの様々なパラメーターをセットする。
.IP \fBFDGETDRVPRM\fP
(\fBFDSETDRVPRM\fP を使ってセットした)パラメーターを読みだす。
.IP \fBFDGETDRVSTAT\fP
キャッシュされているドライブの状態(ディスクの交換、ライトプロテクトな ど)を得る。
.IP \fBFDPOLLDRVSTAT\fP
ドライブをポーリングして、その状態を返す。
.IP \fBFDGETFDCSTAT\fP
フロッピーコントローラーの状態を得る。
.IP \fBFDRESET\fP
フロッピーコントローラーを信頼できる状態にリセットする。
.IP \fBFDRAWCMD\fP
フロッピーコントローラーに低レベルのコマンド(raw command)を送る。
.PP
より正確な情報のためには、マニュアルページ \fBfloppycontrol\fP(1)  だけでなく、インクルードファイル
\fI<linux/fd.h>\fP と \fI<linux/fdarg.h>\fP も参照のこと。
.SH ファイル
 \fI/dev/fd*\fP
.SH 注意
様々なディスクのタイプで様々な種類のフォーマットの読み書きが許されている。 しかし、小さすぎるセクター間ギャップでフォーマットされたフロッピーでは、
トラック全体のアクセスに数秒必要になるため、性能が低下することだろう。 これを防ぐためには、インターリーブドフォーマット (interleaved
format) を用いればよい。
.PP
Apple II や Macintosh コンピュータで使用されている、 GCR (group code recording)
を使ってフォーマットされたフロッピー (800k ディスク) を読むことはできない。
.PP
.\" .SH AUTHORS
.\" Alain Knaff (Alain.Knaff@imag.fr), David Niemi
.\" (niemidc@clark.net), Bill Broadhurst (bbroad@netcom.com).
ハードセクター型のフロッピーの読み込みはサポートされていない (ハードセクター型のフロッピーでは、セクター毎にホール (hole) が一つあり、
少しずれた位置にインデックスホールが存在する)。 これは、昔の 8 インチフロッピーで一般的に使われていた方式である。
.SH 関連項目
\fBchown\fP(1), \fBfloppycontrol\fP(1), \fBgetfdprm\fP(1), \fBmknod\fP(1),
\fBsuperformat\fP(1), \fBmount\fP(8), \fBsetfdprm\fP(8)
.SH この文書について
この man ページは Linux \fIman\-pages\fP プロジェクトのリリース 5.10 の一部である。プロジェクトの説明とバグ報告に関する情報は
\%https://www.kernel.org/doc/man\-pages/ に書かれている。
