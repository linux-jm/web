.\" Copyright 1997 Nicolás Lichtmaier <nick@debian.org>
.\" Created Wed Jul  2 23:27:34 ART 1997
.\"
.\" %%%LICENSE_START(GPLv2+_DOC_FULL)
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, see
.\" <http://www.gnu.org/licenses/>.
.\" %%%LICENSE_END
.\"
.\" Added info on availability, aeb, 971207
.\" Added -lutil remark, 030718
.\" 2008-07-02, mtk, document updwtmpx()
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.\"
.\" Japanese Version Copyright (c) 1998 Tomoyuki NISHIOKA
.\"         all rights reserved.
.\" Translated Sat May 23 18:46:34 JST 1998
.\"         by Tomoyuki NISHIOKA <nishioka@a.tsukuba-tech.ac.jp>
.\" Updated 2003-09-14 by Kentaro Shirakata <argrath@ub32.org>
.\" Updated 2008-07-30 by Kentaro Shirakata <argrath@ub32.org>
.\"
.TH UPDWTMP 3 2017\-09\-15 GNU "Linux Programmer's Manual"
.SH 名前
updwtmp, logwtmp \- wtmp ファイルにエントリーを追加する
.SH 書式
.nf
\fB#include <utmp.h>\fP
.PP
\fBvoid updwtmp(const char *\fP\fIwtmp_file\fP\fB, const struct utmp *\fP\fIut\fP\fB);\fP
\fBvoid logwtmp(const char *\fP\fIline\fP\fB, const char *\fP\fIname\fP\fB, const char *\fP\fIhost\fP\fB);\fP
.fi
.PP
\fBlogwtmp\fP() は \fI\-lutil\fP でリンクする。
.SH 説明
\fBupdwtmp\fP()  は、utmp 構造体 \fIut\fP を wtmp ファイルに追加する。
.PP
\fBlogwtmp\fP()  は、 \fIline\fP, \fIname\fP, \fIhost\fP, 現在時刻、現プロセスID から utmp 構造体を作り、
\fBupdwtmp\fP()  を呼び出してその構造体を wtmp ファイルに追加する。
.SH ファイル
.TP 
\fI/var/log/wtmp\fP
ユーザーログインの履歴データベース
.SH 属性
この節で使用されている用語の説明については、 \fBattributes\fP(7) を参照。
.TS
allbox;
lb lb lbw24
l l l.
インターフェース	属性	値
T{
\fBupdwtmp\fP(),
.br
\fBlogwtmp\fP()
T}	Thread safety	MT\-Unsafe sig:ALRM timer
.TE
.sp 1
.SH 準拠
POSIX.1 にはない。 Solaris, NetBSD に存在し、おそらく他のシステムにもあるだろう。
.SH 注意
他の "utmpx" 関数群 (\fBgetutxent\fP(3)  参照) との一貫性のために、glibc (バージョン 2.1 以降) は以下の関数を
提供している:
.PP
.in +4n
.EX
\fB#include <utmpx.h>\fP
\fBvoid updwtmpx (const char *\fP\fIwtmpx_file\fP\fB, const struct utmpx *\fP\fIutx\fP\fB);\fP
.EE
.in
.PP
この関数は \fBupdwtmp\fP()  と同じ作業を行うが、最後の引数として \fIutmpx\fP 構造体を取るところが異なる。
.SH 関連項目
\fBgetutxent\fP(3), \fBwtmp\fP(5)
.SH この文書について
この man ページは Linux \fIman\-pages\fP プロジェクトのリリース 5.10 の一部である。プロジェクトの説明とバグ報告に関する情報は
\%https://www.kernel.org/doc/man\-pages/ に書かれている。
