.\" Copyright (c) 1985 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" This code is derived from software contributed to Berkeley by
.\" Ken Arnold.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@(#)fortune.6	6.8 (Berkeley) 6/23/90
.\"
.\" Japanese Version Copyright (c) 1997,1998 MAEHARA Kohichi
.\" Japanese Version Copyright (c) 1997,1998 HANAYAKA Sinya
.\"         all rights reserved.
.\" Translated Tue Feb 10 00:00:00 JST 1998
.\"         by HANATAKA Sinya <hanataka@abyss.rim.or.jp>
.\"         by MAEHARA Kohichi <maeharak@kw.netlaputa.ne.jp>
.\"
.\"
.TH FORTUNE 6 "June 23, 1990"
.UC 4
.SH 名前
fortune \- 無作為におもしろくためになる格言を表示する。
.SH 書式
.B fortune
[
.B \-aefilosw
]
[
.B \-m
.I pattern
]
[ [
.IR N%
]
.I file/dir/all
]
.SH 説明
.I fortune
を引数なしで実行すると、無作為に格言を表示する。
格言はいくつかの種類に分類されていて、それぞれの分類はさらに、
耳に痛い気に触るかもしれないものとそうでないものとに分けられている。
オプションを下に示す:
.TP
.B \-a
耳に痛い気に触りそうなものもそうでないものも含む、
すべての格言のリストから選ぶ。
.TP
.B \-e
すべての fortune のファイルが同一サイズであることを仮定する
(複数ファイルの扱いについての下記の解説を参照のこと)。
.TP
.B \-f
利用可能なファイルの一覧を表示し、格言は表示しない。
.TP
.B \-l
長めの格言に限る。
.TP
.B \-m
正規表現の
.IR pettern
に合致するものを表示する。
正規表現のパターンについては
.BR regex (3)
を参照せよ。
.TP
.B \-o
耳に痛い気に触るかもしれない格言に限る。
.ft B
ぜひ、ぜひ、ぜひとも、心の底から腹の立つ、耳に痛い格言を
探し出してみていただきたい(そしてその文言について
われわれに文句を言うよりは -o オプションの使用を止めるべきだ、いいかな?)。
.ft R
.PP
.in +5
\&...人類愛について基本的かつ支配的な哲学を心に留めるよう
にしよう、  これは以下の言葉に簡潔にまとめられている:
心からの笑いは健康のためによい -- 必要ならば全人類を
犠牲にしたとしても。
.br
.in +10
-- H. Allen Smith, "Rude Jokes"
.TP
.B \-s
短めの格言に限る。
.TP
.B \-i
.B \-m
オプションで指定された(正規表現の)パターンについて大文字小文字の別を無視する。
.TP
.B \-w
終了前にメッセージの文字数に応じた長さから算出される時間だけ、停止する。
これは ログアウト手順に組み込んだときにスクリーンがクリアされる前に
メッセージを読み取る時間を確保するのに役に立つ。
.PP
利用者は格言集を指定できる。
fortune 用のファイル、一つ以上のファイルを含むディレクトリ、もしくは、
全ての標準データベースを使用することを表す特別な単語である
.B all
を指定することができる。
どれを用いるかについては
0 から 100 までの数字
.I N
に
.B % 
を続けて、すなわちパーセント表示で優先順位を付けることができる。
この場合、 ある格言が
.I N
パーセントの確率でファイルあるいはディレクトリから選択される。
パーセントの合計が 100 に満たない場合、あるいはパーセントによる優先順位の
指示がない場合、残りのパーセントがそれぞれファイルにそのサイズに応じた割合で
適用される。
.PP
例を示す。二個のデータベース
.B funny
と
.B not-funny
とを用いる場合。この時
.B funny
が二倍の大きさとするならば、
.RS
fortune funny not-funny
.RE
と指示すると三回に二回の割合で
.B funny
から選択される。
コマンドを
.RS
fortune 90% funny 10% not-funny
.RE
のように指定すると 90 % を
.B funny
から選びだす。
(この場合残りが 10% であることが明らかなので ``10% not-funny'' は不要である).
.B \-e
オプションは全てのファイルから均等に選びだす。すなわち
.RS
fortune \-e
.RE
とするのは
.RS
fortune 50% funny 50% not-funny
.RE
と指定するのと同等である。
.SH ファイル
/usr/share/games/fortune
.SH 著者
Ken Arnold
.SH 関連項目
regex(3)、regcmp(3)、strfile(8)
