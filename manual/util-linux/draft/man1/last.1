.\"O .TH "LAST" "1" "2021-06-02" "util\-linux 2.37.2" "User Commands"
.\"O .ie \n(.g .ds Aq \(aq
.\"O .el       .ds Aq '
.\"O .ss \n[.ss] 0
.\"O .nh
.\"O .ad l
.\"O .de URL
.\"O \fI\\$2\fP <\\$1>\\$3
.\"O ..
.\"O .als MTO URL
.\"O .if \n[.g] \{\
.\"O .  mso www.tmac
.\"O .  am URL
.\"O .    ad l
.\"O .  .
.\"O .  am MTO
.\"O .    ad l
.\"O .  .
.\"O .  LINKSTYLE blue R < >
.\"O .\}
.TH LAST 1 2021\-06\-02 "util\-linux 2.37.2" ユーザーコマンド
.ie  \n(.g .ds Aq \(aq
.el       .ds Aq '
.ss \n[.ss] 0
.nh
.ad l
.de  URL
\fI\\$2\fP <\\$1>\\$3
..
.als MTO URL
.if  \n[.g] \{\
.  mso www.tmac
.  am URL
.    ad l
.  .
.  am MTO
.    ad l
.  .
.  LINKSTYLE blue R < >
.\}
.\"O ----------------------------------------
.\"O .SH "NAME"
.\"O last, lastb \- show a listing of last logged in users
.SH 名前
last, lastb \- 最近ログインしたユーザーを一覧表示する
.\"O ----------------------------------------
.\"O .SH "SYNOPSIS"
.\"O .sp
.\"O \fBlast\fP [options] [\fIusername\fP...] [\fItty\fP...]
.\"O .sp
.\"O \fBlastb\fP [options] [\fIusername\fP...] [\fItty\fP...]
.SH 書式
.sp
\fBlast\fP [options] [\fIusername\fP...] [\fItty\fP...]
.sp
\fBlastb\fP [options] [\fIusername\fP...] [\fItty\fP...]
.\"O ----------------------------------------
.\"O .SH "DESCRIPTION"
.\"O .sp
.\"O \fBlast\fP searches back through the \fI/var/log/wtmp\fP file (or the file designated by the \fB\-f\fP option) and displays a list of all users logged in (and out) since that file was created. One or more \fIusernames\fP and/or \fIttys\fP can be given, in which case \fBlast\fP will show only the entries matching those arguments. Names of \fIttys\fP can be abbreviated, thus \fBlast 0\fP is the same as \fBlast tty0\fP.
.\"O .sp
.\"O When catching a \fBSIGINT\fP signal (generated by the interrupt key, usually control\-C) or a SIGQUIT signal, \fBlast\fP will show how far it has searched through the file; in the case of the \fBSIGINT\fP signal \fBlast\fP will then terminate.
.\"O .sp
.\"O The pseudo user \fBreboot\fP logs in each time the system is rebooted. Thus \fBlast reboot\fP will show a log of all the reboots since the log file was created.
.\"O .sp
.\"O \fBlastb\fP is the same as \fBlast\fP, except that by default it shows a log of the \fI/var/log/btmp\fP file, which contains all the bad login attempts.
.SH 説明
.sp
\fBlast\fP は、\fI/var/log/wtmp\fP ファイルを (または、\fB\-f\fP オプションによって指定されたファイルを) 遡って調べて、
そのファイルが作成されて以来ログインした (そして、ログアウトした) すべてのユーザーのリストを表示する。 一つ以上のユーザー名
(\fIusername\fP) や端末名 (\fItty\fP) を引数として渡すこともでき、 その場合は、 そうした引数にマッチした記録 (entry)
のみを表示することになる。 \fItty\fP の名前は、短縮することができる。 たとえば \fBlast 0\fP は、 \fBlast tty0\fP と同じである。
.sp
\fBSIGINT\fP シグナル (割り込みキーにより発生、通常は Control\-C 押下による) や \fBSIGQUIT\fP シグナルを受け取ると、
\fBlast\fP は、ログファイルの検索を行ったところまで表示し、 \fBSIGINT\fP シグナルの場合は、そこで動作を打ち切る。
.sp
システムをリブートするたびに、疑似ユーザーの \fBreboot\fP がログインする。 したがって、\fBlast reboot\fP を実行すると、
ログファイルが作成されて以来のすべてのリブートの記録を表示することになる。
.sp
\fBlastb\fP は、\fBlast\fP とよく似ている。ただし、こちらがデフォルトで表示するのは、 ファイル \fI/var/log/btmp\fP
に記録されたログである。 そこには、ログインに失敗したすべての試みが記録されている。
.\"O ----------------------------------------
.\"O .SH "OPTIONS"
.\"O .sp
.\"O \fB\-a\fP, \fB\-\-hostlast\fP
.SH オプション
.sp
\fB\-a\fP, \fB\-\-hostlast\fP
.\"O ----------------------------------------
.\"O .RS 4
.\"O Display the hostname in the last column. Useful in combination with the \fB\-\-dns\fP option.
.RS 4
ホスト名を最後の列に表示する。 \fB\-\-dns\fP オプションと組み合わせて使うと便利である。
.\"O ----------------------------------------
.\"O .RE
.\"O .sp
.\"O \fB\-d\fP, \fB\-\-dns\fP
.RE
.sp
\fB\-d\fP, \fB\-\-dns\fP
.\"O ----------------------------------------
.\"O .RS 4
.\"O For non\-local logins, Linux stores not only the host name of the remote host, but its IP number as well. This option translates the IP number back into a hostname.
.RS 4
ローカル以外のログインに対して、Linux はそのリモートホストのホスト名だけでなく、IP アドレスも記録する。 このオプションは、IP
アドレスを変換して、ホスト名に戻す。
.\"O ----------------------------------------
.\"O .RE
.\"O .sp
.\"O \fB\-f\fP, \fB\-\-file\fP \fIfile\fP
.RE
.sp
\fB\-f\fP, \fB\-\-file\fP \fIfile\fP
.\"O ----------------------------------------
.\"O .RS 4
.\"O Tell \fBlast\fP to use a specific \fIfile\fP instead of \fI/var/log/wtmp\fP. The \fB\-\-file\fP option can be given multiple times, and all of the specified files will be processed.
.RS 4
\fI/var/log/wtmp\fP の代わりに特定のファイル \fIfile\fP を使用することを \fBlast\fP に指示する。 \fB\-\-file\fP
オプションは複数回指定することができ、 その場合は、指定されたすべてのファイルが処理されることになる。
.\"O ----------------------------------------
.\"O .RE
.\"O .sp
.\"O \fB\-F\fP, \fB\-\-fulltimes\fP
.RE
.sp
\fB\-F\fP, \fB\-\-fulltimes\fP
.\"O ----------------------------------------
.\"O .RS 4
.\"O Print full login and logout times and dates.
.RS 4
ログイン、ログアウトの詳細な日時を表示する。
.\"O ----------------------------------------
.\"O .RE
.\"O .sp
.\"O \fB\-i\fP, \fB\-\-ip\fP
.RE
.sp
\fB\-i\fP, \fB\-\-ip\fP
.\"O ----------------------------------------
.\"O .RS 4
.\"O Like \fB\-\-dns ,\fP but displays the host\(cqs IP number instead of the name.
.RS 4
\fB\-\-dns\fP と同様であるが、 ホスト名前ではなく、 IP アドレスを表示する。
.\"O ----------------------------------------
.\"O .RE
.\"O .sp
.\"O \fB\-\fP\fInumber\fP; \fB\-n\fP, \fB\-\-limit\fP \fInumber\fP
.RE
.sp
\fB\-\fP\fInumber\fP; \fB\-n\fP, \fB\-\-limit\fP \fInumber\fP
.\"O ----------------------------------------
.\"O .RS 4
.\"O Tell \fBlast\fP how many lines to show.
.RS 4
何行表示すべきかを \fBlast\fP に指示する。
.\"O ----------------------------------------
.\"O .RE
.\"O .sp
.\"O \fB\-p\fP, \fB\-\-present\fP \fItime\fP
.RE
.sp
\fB\-p\fP, \fB\-\-present\fP \fItime\fP
.\"O ----------------------------------------
.\"O .RS 4
.\"O Display the users who were present at the specified time. This is like using the options \fB\-\-since\fP and \fB\-\-until\fP together with the same \fItime\fP.
.RS 4
指定された日時にログインしていたユーザーを表示する。 このオプションは、\fB\-\-since\fP と \fB\-\-until\fP オプションに同じ日時
\fItime\fP を指定して、 一緒に使うのとほぼ同じである。
.\"O ----------------------------------------
.\"O .RE
.\"O .sp
.\"O \fB\-R\fP, \fB\-\-nohostname\fP
.RE
.sp
\fB\-R\fP, \fB\-\-nohostname\fP
.\"O ----------------------------------------
.\"O .RS 4
.\"O Suppresses the display of the hostname field.
.RS 4
ホスト名のフィールドを表示しない。
.\"O ----------------------------------------
.\"O .RE
.\"O .sp
.\"O \fB\-s\fP, \fB\-\-since\fP \fItime\fP
.RE
.sp
\fB\-s\fP, \fB\-\-since\fP \fItime\fP
.\"O ----------------------------------------
.\"O .RS 4
.\"O Display the state of logins since the specified \fItime\fP. This is useful, e.g., to easily determine who was logged in at a particular time. The option is often combined with \fB\-\-until\fP.
.RS 4
指定した日時 \fItime\fP 以後のログイン状態を表示する。 このオプションは、 たとえば、
特定の日時に誰がログインしていたかを手早く突き止めたいときに、 便利である。 \fB\-\-until\fP と組み合わせて使うことが多い。
.\"O ----------------------------------------
.\"O .RE
.\"O .sp
.\"O \fB\-t\fP, \fB\-\-until\fP \fItime\fP
.RE
.sp
\fB\-t\fP, \fB\-\-until\fP \fItime\fP
.\"O ----------------------------------------
.\"O .RS 4
.\"O Display the state of logins until the specified \fItime\fP.
.RS 4
指定した日時 \fItime\fP までのログイン状態を表示する。
.\"O ----------------------------------------
.\"O .RE
.\"O .sp
.\"O \fB\-\-time\-format\fP \fIformat\fP
.RE
.sp
\fB\-\-time\-format\fP \fIformat\fP
.\"O ----------------------------------------
.\"O .RS 4
.\"O Define the output timestamp \fIformat\fP to be one of \fInotime\fP, \fIshort\fP, \fIfull\fP, or \fIiso\fP. The \fInotime\fP variant will not print any timestamps at all, \fIshort\fP is the default, and \fIfull\fP is the same as the \fB\-\-fulltimes\fP option. The \fIiso\fP variant will display the timestamp in ISO\-8601 format. The ISO format contains timezone information, making it preferable when printouts are investigated outside of the system.
.RS 4
出力するタイムスタンプの書式を \fIformat\fP にする。 \fIformat\fP は \fInotime\fP, \fIshort\fP, \fIfull\fP,
\fIiso\fP の内のどれかである。 \fInotime\fP はタイムスタンプを全く表示せず、 \fIshort\fP はデフォルト、 \fIfull\fP は
\fB\-\-fulltimes\fP オプションと同じである。 \fIiso\fP は ISO\-8601 のフォーマットでタイムスタンプを表示する。 ISO
フォーマットは、タイムゾーンの情報を含んでいるので、 ログのプリントアウトがシステムの外部で調べられるときに、 望ましい形式になる。
.\"O ----------------------------------------
.\"O .RE
.\"O .sp
.\"O \fB\-w\fP, \fB\-\-fullnames\fP
.RE
.sp
\fB\-w\fP, \fB\-\-fullnames\fP
.\"O ----------------------------------------
.\"O .RS 4
.\"O Display full user names and domain names in the output.
.RS 4
省略しないユーザー名とドメイン名を出力に表示する。
.\"O ----------------------------------------
.\"O .RE
.\"O .sp
.\"O \fB\-x\fP, \fB\-\-system\fP
.RE
.sp
\fB\-x\fP, \fB\-\-system\fP
.\"O ----------------------------------------
.\"O .RS 4
.\"O Display the system shutdown entries and run level changes.
.RS 4
システムのシャットダウンとランレベル変更の記録を表示する。
.\"O ----------------------------------------
.\"O .RE
.RE
.\"O ----------------------------------------
.\"O .SH "TIME FORMATS"
.\"O .sp
.\"O The options that take the \fItime\fP argument understand the following formats:
.\"O .TS
.\"O allbox tab(:);
.\"O lt lt.
.\"O T{
.\"O .sp
.\"O YYYYMMDDhhmmss
.\"O T}:T{
.\"O .sp
.SH 日時の書式
.sp
引数に \fItime\fP を取るオプションは、以下の書式を解する。
.TS
allbox tab(:);
lt lt.
T{
.sp
YYYYMMDDhhmmss
T}:T{
.sp
.\"O ----------------------------------------
.\"O 
.\"O T}
.\"O T{
.\"O .sp
.\"O YYYY\-MM\-DD hh:mm:ss
.\"O T}:T{
.\"O .sp

T}
T{
.sp
YYYY\-MM\-DD hh:mm:ss
T}:T{
.sp
.\"O ----------------------------------------
.\"O 
.\"O T}
.\"O T{
.\"O .sp
.\"O YYYY\-MM\-DD hh:mm
.\"O T}:T{
.\"O .sp
.\"O (seconds will be set to 00)
.\"O T}
.\"O T{
.\"O .sp
.\"O YYYY\-MM\-DD
.\"O T}:T{
.\"O .sp
.\"O (time will be set to 00:00:00)
.\"O T}
.\"O T{
.\"O .sp
.\"O hh:mm:ss
.\"O T}:T{
.\"O .sp
.\"O (date will be set to today)
.\"O T}
.\"O T{
.\"O .sp
.\"O hh:mm
.\"O T}:T{
.\"O .sp
.\"O (date will be set to today, seconds to 00)
.\"O T}
.\"O T{
.\"O .sp
.\"O now
.\"O T}:T{
.\"O .sp

T}
T{
.sp
YYYY\-MM\-DD hh:mm
T}:T{
.sp
(秒は 00 になる)
T}
T{
.sp
YYYY\-MM\-DD
T}:T{
.sp
(時刻は 00:00:00 になる)
T}
T{
.sp
hh:mm:ss
T}:T{
.sp
(日付は今日になる)
T}
T{
.sp
hh:mm
T}:T{
.sp
(日付は今日、秒は 00)
T}
T{
.sp
now
T}:T{
.sp
.\"O ----------------------------------------
.\"O 
.\"O T}
.\"O T{
.\"O .sp
.\"O yesterday
.\"O T}:T{
.\"O .sp
.\"O (time is set to 00:00:00)
.\"O T}
.\"O T{
.\"O .sp
.\"O today
.\"O T}:T{
.\"O .sp
.\"O (time is set to 00:00:00)
.\"O T}
.\"O T{
.\"O .sp
.\"O tomorrow
.\"O T}:T{
.\"O .sp
.\"O (time is set to 00:00:00)
.\"O T}
.\"O T{
.\"O .sp
.\"O +5min
.\"O T}:T{
.\"O .sp

T}
T{
.sp
yesterday
T}:T{
.sp
(時刻は 00:00:00 になる)
T}
T{
.sp
today
T}:T{
.sp
(時刻は 00:00:00 になる)
T}
T{
.sp
tomorrow
T}:T{
.sp
(時刻は 00:00:00 になる)
T}
T{
.sp
+5min
T}:T{
.sp
.\"O ----------------------------------------
.\"O 
.\"O T}
.\"O T{
.\"O .sp
.\"O \-5days
.\"O T}:T{
.\"O .sp

T}
T{
.sp
\-5days
T}:T{
.sp
.\"O ----------------------------------------
.\"O 
.\"O T}
.\"O .TE
.\"O .sp

T}
.TE
.sp
.\"O ----------------------------------------
.\"O .SH "FILES"
.\"O .sp
.\"O \fI/var/log/wtmp\fP,
.\"O \fI/var/log/btmp\fP
.SH ファイル
.sp
\fI/var/log/wtmp\fP, \fI/var/log/btmp\fP
.\"O ----------------------------------------
.\"O .SH "NOTES"
.\"O .sp
.\"O The files \fIwtmp\fP and \fIbtmp\fP might not be found. The system only logs information in these files if they are present. This is a local configuration issue. If you want the files to be used, they can be created with a simple \fBtouch\fP(1) command (for example, \fBtouch /var/log/wtmp\fP).
.SH 注意
.sp
\fIwtmp\fP や \fIbtmp\fP といったファイルは、 存在しないことがある。 システムは、そうしたファイルが存在するときにだけ、
情報をそこに記録する。 これは、個々のサイトにおける設定の問題である。 もし、こうしたファイルを使用したい場合は、 \fBtouch\fP
のような単純なコマンドで作成すればよい (たとえば \fBtouch /var/log/wtmp\fP)。
.\"O ----------------------------------------
.\"O .SH "AUTHORS"
.\"O .sp
.\"O .MTO "miquels\(atcistron.nl" "Miquel van Smoorenburg" ""
.SH 作者
.sp
.MTO miquels\(atcistron.nl "Miquel van Smoorenburg" ""
.\"O ----------------------------------------
.\"O .SH "SEE ALSO"
.\"O .sp
.\"O \fBlogin\fP(1),
.\"O \fBwtmp\fP(5),
.\"O \fBinit\fP(8),
.\"O \fBshutdown\fP(8)
.SH 関連項目
.sp
\fBlogin\fP(1), \fBwtmp\fP(5), \fBinit\fP(8), \fBshutdown\fP(8)
.\"O ----------------------------------------
.\"O .SH "REPORTING BUGS"
.\"O .sp
.\"O For bug reports, use the issue tracker at \c
.\"O .URL "https://github.com/karelzak/util\-linux/issues" "" "."
.SH バグ報告
.sp
バグ報告は、 以下にある issue トラッカーを利用すること。
.URL https://github.com/karelzak/util\-linux/issues "" .
.\"O ----------------------------------------
.\"O .SH "AVAILABILITY"
.\"O .sp
.\"O The \fBlast\fP command is part of the util\-linux package which can be downloaded from \c
.\"O .URL "https://www.kernel.org/pub/linux/utils/util\-linux/" "Linux Kernel Archive" "."
.SH 入手方法
.sp
\fBlast\fP コマンドは util\-linux パッケージの一部であり、 以下からダウンロードできる。
.URL https://www.kernel.org/pub/linux/utils/util\-linux/ "Linux Kernel Archive" .
.\"O ----------------------------------------
