.\"
.\"  chfn.1 -- change your finger information
.\"  (c) 1994 by salvatore valente <svalente@athena.mit.edu>
.\"
.\"  This program is free software.  You can redistribute it and
.\"  modify it under the terms of the GNU General Public License.
.\"  There is no warranty.
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.\"  Japanese Version Copyright (c) 2001 Maki KURODA,
.\"          and 2020 Yuichi Sato, Yoichi Chonan,
.\"          all right reserved,
.\"  Translated Mon Feb 26 16:38:01 JST 2001
.\"          by Maki KURODA <mkuroda@mail.tsagrp.co.jp>
.\"  Updated & Modified (util-linux 2.35.2) Sat Oct 10 21:21:55 JST 2020
.\"          by Yuichi SATO <ysato@ybb.ne.jp>
.\"          and by Yoichi Chonan <cyoichi@maple.ocn.ne.jp>
.\"
.TH CHFN 1 "November 2015" util\-linux "User Commands"
.SH 名前
chfn \- ユーザの finger 情報を変更する
.SH 書式
\fBchfn\fP [\fB\-f\fP \fIfull\-name\fP] [\fB\-o\fP \fIoffice\fP] [\fB\-p\fP \fIoffice\-phone\fP]
[\fB\-h\fP \fIhome\-phone\fP] [\fB\-u\fP] [\fB\-v\fP] [\fIusername\fP]
.SH 読者へのご注意
これは、util-linux 版の \fBchfn\fP コマンドのマニュアルである。\fBchfn\fP
コマンドの実装には、いくつかの系統がある。御使用のディストリビューションが
util-linux 版以外の \fBchfn\fP コマンドを採用している場合には、
動作やオプションがここで説明しているものとかなり違っているかもしれない。
そういうときは、英語版しかないかもしれないが、お手元の \fBchfn\fP
コマンドに付属するマニュアルに当たってみていただきたい。
.SH 説明
\fBchfn\fP の用途は、ユーザの finger
情報を変更することである。そうした情報は、\fI/etc/passwd\fP
ファイルに記録されており、\fBfinger\fP プログラムによって表示される。
Linux の \fBfinger\fP コマンドは、4 種の情報を表示するが、\fBchfn\fP
を使えば、そうしたものを変更することが可能なのだ。
4 種の情報とは、ユーザのフルネーム、オフィスの部屋番号、その電話番号、
それに自宅の電話番号である。
.PP
4 種の情報は、いずれもコマンドラインで指定することができる。
コマンドラインでどの情報も指定しなかった場合、\fBchfn\fP は対話モードになる。
.PP
対話モードでは、\fBchfn\fP が各フィールドごとにプロンプトを出して、入力を促す。
プロンプトが出たら、新しい情報を入力する。フィールドを変更しないでおきたかったら、
何も入力せずにリターンキーを押せばよい。"none"
というキーワードを打ち込めば、フィールドを空にすることができる。
.PP
\fBchfn\fP は、libuser
ライブラリとリンクしていれば、ユーザアカウント情報がローカルにない場合
(kerberos や LDAP などを使用している場合) にも対応する。
リンクしていない場合は、\fBypchfn\fP や \fBlchfn\fP
のような、非ローカルなアカウント情報に対応している chfn の実装を使用すればよい。
.SH オプション
.TP 
\fB\-f\fP,\fB \-\-full\-name \fP\fIfull\-name\fP
ユーザのフルネームを指定する。
.TP 
\fB\-o\fP,\fB \-\-office \fP\fIoffice\fP
オフィスの部屋番号を指定する。
.TP 
\fB\-p\fP,\fB \-\-office\-phone \fP\fIoffice\-phone\fP
オフィスの電話番号を指定する。
.TP 
\fB\-h\fP,\fB \-\-home\-phone \fP\fIhome\-phone\fP
自宅の電話番号を指定する。
.TP 
\fB\-u\fP,\fB \-\-help\fP
ヘルプを表示して終了する。
.TP 
\fB\-v\fP,\fB \-\-version\fP
バージョン情報を表示して終了する。
.SH 設定ファイルの項目
\fBchfn\fP は、設定ファイル \fI/etc\:/login.defs\fP(5)
を読み込む。なお、この設定ファイルは、他のパッケージ (たとえば、shadow\-utils)
の一部として配布されているかもしれない。\fBchfn\fP(1)
に関係があるのは、次の設定項目である。
.PP
\fBCHFN_RESTRICT\fP\fI string\fP
.RS 4
どのフィールドが \fBchfn\fP によって変更できるかを指示する。

これをブール値の \fByes\fP
に設定すると、変更可能なフィールドが、オフィス、オフィスの電話番号、自宅電話番号の
3 箇所のみになり、ブール値の \fBno\fP にすると、さらにフルネームも変更可能になる。

変更可能なフィールドを指定するもう一つの方法は、略号を使うことだ。
すなわち、f = フルネーム (\fIf\fPull name), r = オフィス (office \fIr\fPoom),
w = オフィスの電話番号 (\fIw\fPork phone), h = 自宅電話番号
(\fIh\fPome phone) である。たとえば、\fBCHFN_RESTRICT "wh"\fP
と指定すれば、オフィスと自宅の電話番号を変更できることになる。

CHFN_RESTRICT が未定義だと、すべての finger
情報が読み取り専用になる。これがデフォルトである。
.RE
.PP
.SH 終了ステータス
操作に成功すれば、0 を返し、操作に失敗したり、コマンドの書式が無効なときは、1 を返す。
.SH 関連項目
\fBchsh\fP(1), \fBfinger\fP(1), \fBlogin.defs\fP(5), \fBpasswd\fP(5)
.SH 作者
Salvatore Valente <svalente@mit.edu>
.SH 入手方法
この chfn コマンドは、util\-linux パッケージの一部であり、次の URL
から入手できる。https://www.kernel.org/pub/linux/utils/util\-linux/
