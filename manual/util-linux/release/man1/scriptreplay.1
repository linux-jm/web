.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.\"
.\" Copyright (C) 2008-2019, Karel Zak <kzak@redhat.com>
.\" Copyright (C) 2008, James Youngman <jay@gnu.org>
.\"
.\" This file is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This file is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" Based on scriptreplay.pl by Joey Hess <joey@kitenet.net>
.\"
.\" Japanese Version Copyright (c) 2001-2020 Yuichi SATO
.\"         and 2020 Yoichi Chonan
.\"       all rights reserved.
.\" Translated Mon Nov 19 21:46:46 JST 2001
.\"         by Yuichi SATO <ysato@h4.dion.ne.jp>
.\" Updated & Modified Sun Mar 24 02:43:47 JST 2002
.\"         by Yuichi SATO
.\" Updated & Modified (util-linux 2.36) Sat Nov 14 11:06:10 JST 2020
.\"         by Yuichi SATO <ysato444@ybb.ne.jp>
.\"         and Yoichi Chonan <cyoichi@maple.ocn.ne.jp>
.\"
.TH SCRIPTREPLAY 1 "October 2019" util\-linux "User Commands"
.SH 名前
scriptreplay \- タイミング情報を使って、タイプスクリプトを再生する
.SH 書式
\fBscriptreplay\fP [options] [\fB\-t\fP] \fItimingfile\fP [\fItypescript\fP [\fIdivisor\fP]]
.SH バージョンについて
このマニュアルは、util-linux 2.36 所収の \fBscriptreplay\fP
コマンドのマニュアルである。\fBscript\fP や \fBscriptreplay\fP
コマンドは util-linux 2.35 でかなり大幅な改訂が行われた。そのため、バージョン
2.34 以前の \fBscriptreplay\fP
では、このマニュアルで述べている機能やオプションに使えないものがあると思う。
バージョン 2.34 やそれ以前の \fBscriptreplay\fP
の動作やオプションについては、付属の英語マニュアルをご覧いただきたい。
.SH 説明
このプログラムは、タイプスクリプトを再生する。その際、タイミング情報を使って、
スクリプトが記録されたときの、元の出力表示と同じリズムで、出力が行われるようにする。
.IP "[\fB訳注\fP]" 8
タイプスクリプト (typescript) というのは、\fBscript\fP
コマンドで作った端末セッションのログである。\fBscript\fP
コマンド関連のマニュアルの中で、ログファイル、タイプスクリプトファイルなどと呼ばれることもある。
\fBscript\fP(1) を参照。
.PP
この再生は、記録された情報を再表示するだけである。
タイプスクリプトが記録されていたときに実行されていたプログラムが、再実行されるわけではない。
単に同じ情報を表示しているだけなので、\fBscriptreplay\fP が正確に動作すると保証できるのは、
タイプスクリプトが記録されたのと同じタイプの端末で実行される場合だけである。
そうでない場合は、タイプスクリプト中のどのエスケープ文字も、\fBscriptreplay\fP
がその出力を送り出す端末によって異なった解釈をされるかもしれない。
.IP "[\fB訳注\fP]" 8
util-linux 2.35 以後なら、\fBscriptreplay\fP の代わりに \fBscriptlive\fP
を使えば、タイプスクリプト記録時のコマンドの\fB再実行\fPをすることができる。
\fBscriptlive\fP(1) を参照。
.PP
タイミング情報とは、\fBscript\fP(1) が \fB\-\-log\-timing\fP
によって指定されたファイルに出力するものである。
.PP
デフォルトでは、再生対象になるタイプスクリプトには、\fItypescript\fP
という名前が付いていることになっている。しかし、他のファイル名を 2
番目のパラメータとして、あるいは \fB\-\-log\-out\fP オプションで指定することもできる。
.PP
3 番目のパラメータや \fB\-\-divisor\fP
を指定すると、それはスピードアップ乗数として使用される。
たとえば、スピードアップ乗数に 2 を指定すると、\fBscriptreplay\fP
は、オリジナルセッションの 2 倍の速度で再生を行う。0.1
を指定すると、オリジナルセッションより動作速度が 10 倍遅くなる。
.SH オプション
.TP 
\fB\-I\fP,\fB \-\-log\-in \fP\fIfile\fP
\fBscript\fP の端末入力を記録しているファイル。
.TP 
\fB\-O\fP,\fB \-\-log\-out \fP\fIfile\fP
\fBscript\fP の端末出力を記録しているファイル。
.TP 
\fB\-B\fP,\fB \-\-log\-io \fP\fIfile\fP
\fBscript\fP の端末入力と端末出力を記録しているファイル。
.TP 
\fB\-t\fP,\fB \-\-timing \fP\fIfile\fP
\fBscript\fP のタイミング出力を記録しているファイル。
このオプションは、旧式の引き数に優先する。
.TP 
\fB\-T\fP,\fB \-\-log\-timing \fP\fIfile\fP
このオプションは、\fB\-t\fP の別名である。\fBscript\fP(1)
のコマンドラインオプションと名前を合わせるために維持されている。
.TP 
\fB\-s\fP,\fB \-\-typescript \fP\fIfile\fP
\fBscript\fP の端末出力を記録しているファイル。\fB\-\-log\-out\fP
の別名だが、非推奨である。このオプションは、旧式の引き数に優先する。
.TP 
\fB\-c\fP,\fB \-\-cr\-mode \fP\fImode\fP
ログファイルにある CR 文字 (0x0D, キャリッジリターン) の使い方を指定する。
デフォルトのモードは、\fIauto\fP であり、その場合、標準入力のログでは、CR
は改行に置き換えられる。何故なら、そうしないと、\fBscriptreplay\fP
が同一行を上書きすることになるからである。他のモードに \fInever\fP と
\fIalways\fP がある。
.TP 
\fB\-d\fP,\fB \-\-divisor \fP\fInumber\fP
再生の表示を \fInumber\fP 倍にスピードアップする。この引き数
\fInumber\fP は浮動小数点数である。このオプションが divisor (除数)
と呼ばれるのは、タイミングをこの要素で割るからである。
このオプションは、旧式の引き数に優先する。
.TP 
\fB\-m\fP,\fB \-\-maxdelay \fP\fInumber\fP
表示の更新間の待ち時間の最大を \fInumber\fP 秒にする。この引き数
\fInumber\fP は浮動小数点数である。
このオプションを使えば、タイプスクリプトの再生で長い間が明いてしまうのを避けることができる。
.TP 
\fB\-\-summary\fP
指定されたタイミングファイルに記録されたセッションについての詳細を表示して、終了する。
対象になるセッションは、\fIadvanced\fP フォーマットで記録されていなければならない
(詳しいことは、\fBscript\fP(1) のオプション \fB\-\-logging\-format\fP
の説明をご覧になっていただきたい)。
.TP 
\fB\-x\fP,\fB \-\-stream \fP\fItype\fP
指定されたストリームのみを \fBscriptreplay\fP
に表示させる。指定できるストリームのタイプは、\fIin\fP, \fIout\fP,
\fIsignal\fP, \fIinfo\fP である。このオプションは、マルチストリームのログに
(たとえば、\fB\-\-log\-io\fP を使ったときに)
指定したストリームのデータだけを表示させたい場合にお使いになるとよい。
.TP 
\fB\-V\fP,\fB \-\-version\fP
バージョン情報を表示して終了する。
.TP 
\fB\-h\fP,\fB \-\-help\fP
ヘルプを表示して終了する。
.SH 用例
.nf
% script \-\-log\-timing file.tm \-\-log\-out script.out
Script started, file is script.out
% ls
<etc, etc>
% exit
Script done, file is script.out
% scriptreplay \-\-log\-timing file.tm \-\-log\-out script.out
.fi
.SH 作者
\fBscriptreplay\fP プログラムの原型を書いたのは、Joey Hess
<joey@kitenet.net> だった。プログラムを
C で書き直したのは、James Youngman <jay@gnu.org> と
Karel Zak <kzak@redhat.com> である。
.SH 著作権
Copyright \(co 2008 James Youngman
.br
Copyright \(co 2008\-2019 Karel Zak
.PP
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
.PP
Released under the GNU General Public License version 2 or later.
.SH 関連項目
\fBscript\fP(1), \fBscriptlive\fP(1)
.SH 入手方法
この scriptreplay コマンドは util\-linux パッケージの一部であり、Linux Kernel Archive
<https://www.kernel.org/pub/linux/utils/util\-linux/>
から入手できる。
