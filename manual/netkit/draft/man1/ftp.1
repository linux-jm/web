.\" Copyright (c) 1985, 1989, 1990 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	from: @(#)ftp.1	6.18 (Berkeley) 7/30/91
.\"	$Id: ftp.1,v 1.14 2000/07/30 23:56:59 dholland Exp $
.\"
.\" Japanese Version Copyright (c) 2000 Yuichi SATO
.\"		all rights reserved.   
.\" Translated Fri Sep 08 1995
.\"	by NetBSD jman proj. <jman@spa.is.uec.ac.jp>
.\" Updated Tue Nov 14 21:18:31 JST 2000
.\"	by Yuichi SATO <sato@complex.eng.hokudai.ac.jp>
.\"
.\"WORD:	inactivity timer	無活動タイマ
.\"
.Dd August 15, 1999
.Dt FTP 1
.Os "Linux NetKit (0.17)"
.\"O .Sh NAME
.Sh 名前
.Nm ftp
.Nd
.Tn Internet
.\"O file transfer program
ファイル転送プログラム
.\"O .Sh SYNOPSIS
.Sh 書式
.Nm ftp
.Op Fl pinegvd
.Op Ar host
.Nm pftp
.Op Fl inegvd
.Op Ar host
.\"O .Sh DESCRIPTION
.Sh 説明
.\"O .Nm Ftp
.\"O is the user interface to the
.\"O .Tn Internet
.\"O standard File Transfer Protocol.
.\"O The program allows a user to transfer files to and from a
.\"O remote network site.
.Nm ftp
は、
.Tn Internet
標準のファイル転送プロトコル (File Transfer Protocol) の
ユーザーインターフェースである。
このプログラムにより、ユーザーはリモートのネットワークサイトと
相互にファイルを転送できる。
.Pp
.\"O Options may be specified at the command line, or to the
.\"O command interpreter.
オプションは、コマンドライン上か、コマンドインタプリタで指定できる。
.Bl -tag -width flag
.It Fl p
.\"O Use passive mode for data transfers. Allows use of ftp in environments
.\"O where a firewall prevents connections from the outside world back to
.\"O the client machine. Requires that the ftp server support the PASV
.\"O command. This is the default if invoked as
.\"O .Nm pftp.
データ転送にパッシブ (passive) モードを使う。
ファイヤーウォールが背後にあるクライアントマシンへの
外部からの接続を防いでいるような環境で ftp が使えるようになる。
FTP サーバが PASV コマンドをサポートしている必要がある。
.Nm pftp
として起動された場合のデフォルトである。
.It Fl i
.\"O Turns off interactive prompting during multiple file transfers.
複数のファイルの転送中に対話 (interactive) プロンプトを出さないようにする。
.It Fl n
.\"O Restrains
.\"O .Nm ftp
.\"O from attempting \*(Lqauto-login\*(Rq upon initial connection.
.\"O If auto-login is enabled,
.\"O .Nm ftp
.\"O will check the
.\"O .Pa .netrc
.\"O (see 
.\"O .Xr netrc 5) 
.\"O file in the user's home directory for an entry describing
.\"O an account on the remote machine.
.\"O If no entry exists,
.\"O .Nm ftp
.\"O will prompt for the remote machine login name (default is the user
.\"O identity on the local machine), and, if necessary, prompt for a password
.\"O and an account with which to login.
.Nm ftp
が最初の接続で \*(Lq自動ログイン (auto-login)\*(Rq しようとするのを抑制する。
自動ログインが可能な場合、
.Nm ftp
はユーザーのホームディレクトリにある
.Pa .netrc
ファイル
.Ns ( Xr netrc 5
を参照) 
でリモートマシンのアカウントが記述されているエントリをチェックする。
エントリがない場合、
.Nm ftp
はリモートマシンのログイン名 (デフォルトではローカルマシンでログイン名)
を要求するプロンプトを出す。
必要ならば、ログインに使うパスワードとアカウントを要求するプロンプトを出す。
.It Fl e
.\"O Disables command editing and history support, if it was compiled into
.\"O the
.\"O .Nm ftp
.\"O executable. Otherwise, does nothing.
.Nm ftp
プログラムにコマンドライン編集 (edit) とヒストリ機能が組み込まれている場合、
それを使用不可にする。
組み込まれていない場合は、何も影響しない。
.It Fl g
.\"O Disables file name globbing.
ファイル名展開 (glob) をさせない。
.It Fl v
.\"O Verbose option forces
.\"O .Nm ftp
.\"O to show all responses from the remote server, as well
.\"O as report on data transfer statistics.
詳細表示 (verbose) オプションを使うと、
.Nm ftp
はデータ転送の結果だけでなく、
リモートサーバからの全てのレスポンスを表示する。
.It Fl d
.\"O Enables debugging.
デバッグ (debug) を有効にする。
.El
.Pp
.\"O The client host with which
.\"O .Nm ftp
.\"O is to communicate may be specified on the command line.
.\"O If this is done,
.\"O .Nm ftp
.\"O will immediately attempt to establish a connection to an
.\"O .Tn FTP
.\"O server on that host; otherwise,
.\"O .Nm ftp
.\"O will enter its command interpreter and await instructions
.\"O from the user.
.\"O When
.\"O .Nm ftp
.\"O is awaiting commands from the user the prompt
.\"O .Ql ftp>
.\"O is provided to the user.
.\"O The following commands are recognized
.\"O by
.\"O .Nm ftp  :
.Nm ftp
が通信するクライアントホストは、コマンドラインで指定される。
通信相手が指定された場合、
.Nm ftp
はすぐにそのホスト上の
.Tn FTP
サーバと通信を確立しようと試みる。
指定されない場合、
.Nm ftp
はコマンドインタプリタとして動作し、ユーザーからのコマンド入力を待つ。
.Nm ftp
がユーザーからのコマンドを待つ場合、ユーザーに対して
.Ql ftp>
というプロンプトが出される。
.Nm ftp
は以下のコマンドを認識する。
.Bl -tag -width Fl
.It Ic \&! Op Ar command Op Ar args
.\"O Invoke an interactive shell on the local machine.
.\"O If there are arguments, the first is taken to be a command to execute
.\"O directly, with the rest of the arguments as its arguments.
ローカルマシン上で対話シェルを起動する。
複数の引き数がある場合、
最初の引き数は実際に実行されるコマンドとして解釈される。
残りはそのコマンドの引き数となる。
.It Ic \&$ Ar macro-name Op Ar args
.\"O Execute the macro
.\"O .Ar macro-name
.\"O that was defined with the
.\"O .Ic macdef
.\"O command.
.\"O Arguments are passed to the macro unglobbed.
.Ic macdef
コマンドで定義されたマクロ
.Ar macro-name
を実行する。
引き数は展開されずにマクロに渡される。
.It Ic account Op Ar passwd
.\"O Supply a supplemental password required by a remote system for access
.\"O to resources once a login has been successfully completed.
.\"O If no argument is included, the user will be prompted for an account
.\"O password in a non-echoing input mode.
一度ログインが完了してから、リソースにアクセスするために
リモートシステムから要求される追加のパスワードを入力する。
引き数が指定されない場合、エコーなしの入力モードで、
そのアカウントのパスワードの入力を促すプロンプトが出される。
.It Ic append Ar local-file Op Ar remote-file
.\"O Append a local file to a file on the remote machine.
.\"O If
.\"O .Ar remote-file
.\"O is left unspecified, the local file name is used in naming the
.\"O remote file after being altered by any
.\"O .Ic ntrans
.\"O or
.\"O .Ic nmap
.\"O setting.
.\"O File transfer uses the current settings for
.\"O .Ic type  ,
.\"O .Ic format ,
.\"O .Ic mode  ,
.\"O and
.\"O .Ic structure .
ローカルファイルをリモートマシン上のファイルに追加書き込みする。
.Ar remote-file
が指定されない場合、ローカルファイル名を
.Ic ntrans
と
.Ic nmap
の設定で変更した後の名前をリモートファイルの名前として使う。
ファイル転送では
.Ic type  ,
.Ic format ,
.Ic mode  ,
.Ic structure
の現在の設定が使われる。
.It Ic ascii
.\"O Set the file transfer
.\"O .Ic type
.\"O to network
.\"O .Tn ASCII .
.\"O This is the default type.
ファイル転送の
.Ic type
をネットワーク
.Tn ASCII
に設定する。これがデフォルトである。
.It Ic bell
.\"O Arrange that a bell be sounded after each file transfer
.\"O command is completed.
各ファイル転送コマンドが完了する毎にベルを鳴らすように設定する。
.It Ic binary
.\"O Set the file transfer
.\"O .Ic type
.\"O to support binary image transfer.
バイナリイメージなどの転送をサポートするために、ファイル転送の
.Ic type
を設定する。
.It Ic bye
.\"O Terminate the
.\"O .Tn FTP
.\"O session with the remote server
.\"O and exit
.\"O .Nm ftp  .
.\"O An end of file will also terminate the session and exit.
リモートサーバとの
.Tn FTP
セッションを閉じて、
.Nm ftp
を終了させる。
同様に、end of file でもセッションを閉じて終了する。
.It Ic case
.\"O Toggle remote computer file name case mapping during
.\"O .Ic mget
.\"O commands.
.\"O When
.\"O .Ic case
.\"O is on (default is off), remote computer file names with all letters in
.\"O upper case are written in the local directory with the letters mapped
.\"O to lower case.
.Ic mget
コマンドの場合に行われるリモート計算機上のファイル名に対する
大文字から小文字への変換を切替える。
.Ic case
が on の場合 (デフォルトでは off)、
リモート計算機上でファイル名が全て大文字のファイルは、
ローカルディレクトリに小文字に変換された
ファイル名で書き込まれる。
.It Ic \&cd Ar remote-directory
.\"O Change the working directory on the remote machine
.\"O to
.\"O .Ar remote-directory  .
リモートマシン上のワーキングディレクトリを
.Ar remote-directory
に変更する。
.It Ic cdup
.\"O Change the remote machine working directory to the parent of the
.\"O current remote machine working directory.
リモートマシン上のワーキングディレクトリを
リモートマシン上でのカレントワーキングディレクトリの親ディレクトリにする。
.It Ic chmod Ar mode file-name
.\"O Change the permission modes of the file
.\"O .Ar file-name
.\"O on the remote
.\"O sytem to
.\"O .Ar mode  .
リモートマシン上のファイル
.Ar file-name
のアクセス権を
.Ar mode
に変更する。
.It Ic close
.\"O Terminate the
.\"O .Tn FTP
.\"O session with the remote server, and
.\"O return to the command interpreter.
.\"O Any defined macros are erased.
リモートサーバとの
.Tn FTP
セッションを閉じて、コマンドインタプリタに戻る。
定義された全てのマクロは消去される。
.It Ic \&cr
.\"O Toggle carriage return stripping during
.\"O ascii type file retrieval.
.\"O Records are denoted by a carriage return/linefeed sequence
.\"O during ascii type file transfer.
ascii タイプでファイル転送をする場合に行われる
キャリッジリターンの除去を切替える。
ascii タイプのファイル転送では、
レコードはキャリッジリターン / ラインフィードという文字列で表される。
.\"O When
.\"O .Ic \&cr
.\"O is on (the default), carriage returns are stripped from this
.\"O sequence to conform with the
.\"O .Ux
.\"O single linefeed record
.\"O delimiter.
.Ic \&cr
が on の場合 (これがデフォルトである)、
キャリッジリターンは
.Ux
のラインフィードのみによるレコード区切りに合わせるために
文字列から取り除かれる。
.\"O Records on
.\"O .Pf non\- Ns Ux
.\"O remote systems may contain single linefeeds;
.\"O when an ascii type transfer is made, these linefeeds may be
.\"O distinguished from a record delimiter only when
.\"O .Ic \&cr
.\"O is off.
.Ux
以外のリモートシステム上のレコードでは、
ラインフィードしか含まれない場合がある。
ascii タイプの転送の場合、
.Ic \&cr
が off になっているときにのみ、
これらのラインフィードがレコード区切りと区別される。
.It Ic delete Ar remote-file
.\"O Delete the file
.\"O .Ar remote-file
.\"O on the remote machine.
リモートマシン上のファイル
.Ar remote-file
を削除する。
.It Ic debug Op Ar debug-value
.\"O Toggle debugging mode.
.\"O If an optional
.\"O .Ar debug-value
.\"O is specified it is used to set the debugging level.
.\"O When debugging is on,
.\"O .Nm ftp
.\"O prints each command sent to the remote machine, preceded
.\"O by the string
.\"O .Ql \-\->
デバッグモードを切替える。
オプション
.Ar debug-value
が指定されると、デバッグレベルを指定するために使われる。
debug が on の場合、
.Nm ftp
はリモートマシンに送られた各コマンドを
.Ql \-\->
に続けて表示する。
.It Xo
.Ic dir
.Op Ar remote-directory
.Op Ar local-file
.Xc
.\"O Print a listing of the directory contents in the
.\"O directory,
.\"O .Ar remote-directory  ,
.\"O and, optionally, placing the output in
.\"O .Ar local-file  .
.\"O If interactive prompting is on,
.\"O .Nm ftp
.\"O will prompt the user to verify that the last argument is indeed the
.\"O target local file for receiving
.\"O .Ic dir
.\"O output.
.\"O If no directory is specified, the current working
.\"O directory on the remote machine is used.
.\"O If no local
.\"O file is specified, or
.\"O .Ar local-file
.\"O is
.\"O .Fl  ,
.\"O output comes to the terminal.
リモートマシン上のディレクトリ
.Ar remote-directory
の内容をリスト表示する。
オプションとして、出力をローカルのファイル
.Ar local-file
に書き出す。
対話プロンプトが on である場合、
.Nm ftp
は最後の引き数が本当に
.Ic dir
の出力を書き込むローカルファイルであるかを確認するプロンプトを出す。
ディレクトリが指定されていない場合、
リモートマシン上のカレントワーキングディレクトリの内容が表示される。
ローカルファイルが指定されていない場合、または
.Ar local-file
が
.Fl 
の場合、出力は端末に送られる。
.It Ic disconnect
.\"O A synonym for
.\"O .Ar close  .
.Ar close
と同じ。
.It Ic form Ar format
.\"O Set the file transfer
.\"O .Ic form
.\"O to
.\"O .Ar format  .
.\"O The default format is \*(Lqfile\*(Rq.
ファイル転送形式
.Ic form
を
.Ar format
に設定する。
デフォルトの転送形式は \*(Lqfile\*(Rq である。
.It Ic get Ar remote-file Op Ar local-file
.\"O Retrieve the
.\"O .Ar remote-file
.\"O and store it on the local machine.
.\"O If the local
.\"O file name is not specified, it is given the same
.\"O name it has on the remote machine, subject to
.\"O alteration by the current
.\"O .Ic case  ,
.\"O .Ic ntrans ,
.\"O and
.\"O .Ic nmap
.\"O settings.
.\"O The current settings for
.\"O .Ic type  ,
.\"O .Ic form ,
.\"O .Ic mode  ,
.\"O and
.\"O .Ic structure
.\"O are used while transferring the file.
リモートファイル
.Ar remote-file
を取得しローカルマシンに保存する。
ローカルファイル名が指定されていない場合、
リモートマシン上でのファイル名を現在の
.Ic case  ,
.Ic ntrans ,
.Ic nmap
の設定に従って変更した名前になる。
現在の
.Ic type  ,
.Ic form ,
.Ic mode  ,
.Ic structure
の設定がファイル転送の際に使われる。
.It Ic glob
.\"O Toggle filename expansion for
.\"O .Ic mdelete  ,
.\"O .Ic mget
.\"O and
.\"O .Ic mput  .
.\"O If globbing is turned off with
.\"O .Ic glob  ,
.\"O the file name arguments
.\"O are taken literally and not expanded.
.\"O Globbing for
.\"O .Ic mput
.\"O is done as in
.\"O .Xr csh 1 .
.\"O For
.\"O .Ic mdelete
.\"O and
.\"O .Ic mget  ,
.\"O each remote file name is expanded
.\"O separately on the remote machine and the lists are not merged.
.\"O Expansion of a directory name is likely to be
.\"O different from expansion of the name of an ordinary file:
.\"O the exact result depends on the foreign operating system and ftp server,
.\"O and can be previewed by doing
.\"O .Ql mls remote-files \-
.\"O Note:
.\"O .Ic mget
.\"O and
.\"O .Ic mput
.\"O are not meant to transfer
.\"O entire directory subtrees of files.
.\"O That can be done by
.\"O transferring a
.\"O .Xr tar 1
.\"O archive of the subtree (in binary mode).
.Ic mdelete  ,
.Ic mget ,
.Ic mput
で使われるファイル名展開の使用・不使用を切替える。
.Ic glob
がオフの場合、ファイル名の引き数は文字通り扱われ、展開されない。
.Ic mput
の場合のファイル名展開は、
.Xr csh 1
と行われるものと同様である。
.Ic mdelete
と
.Ic mget
の場合、リモートファイル名はリモートマシン上で個々に展開され、
リストはマージされない。
ディレクトリ名の展開は、通常ファイルの名前展開と異なる場合がある。
つまり、展開の結果は OS と FTP サーバに依存する。
また、展開結果は
.Ql mls remote-files \-
によって、あらかじめ知ることができる。
注意:
.Ic mget
と
.Ic mput
はファイルのディレクトリサブツリー全体を転送するわけではない。
サブツリー全体を転送するには、
サブツリーの
.Xr tar 1
書庫を (binary モードで) 転送すればよい。
.It Ic hash
.\"O Toggle hash-sign (``#'') printing for each data block
.\"O transferred.
.\"O The size of a data block is 1024 bytes.
各データブロックが転送される毎に表示されるハッシュ記号 (``#'') の
表示・非表示を切替える。
データブロックのサイズは 1024 バイトである。
.It Ic help Op Ar command
.\"O Print an informative message about the meaning of
.\"O .Ar command  .
.\"O If no argument is given,
.\"O .Nm ftp
.\"O prints a list of the known commands.
コマンド
.Ar command
の意味についての情報メッセージを表示する。
引き数がない場合、
.Nm ftp
は使用可能なコマンドの一覧を表示する。
.It Ic idle Op Ar seconds
.\"O Set the inactivity timer on the remote server to
.\"O .Ar seconds
.\"O seconds.
.\"O If
.\"O .Ar seconds
.\"O is ommitted, the current inactivity timer is printed.
リモートサーバの無活動タイマを
.Ar seconds
秒に設定する。
.Ar seconds
を省略すると、現在の無活動タイマの値が表示される。
.It Ic lcd Op Ar directory
.\"O Change the working directory on the local machine.
.\"O If
.\"O no
.\"O .Ar directory
.\"O is specified, the user's home directory is used.
ローカルマシン上のワーキングディレクトリを変更する。
ディレクトリ
.Ar directory
が指定されない場合、ユーザーのホームディレクトリが指定される。
.It Xo
.Ic \&ls
.Op Ar remote-directory
.Op Ar local-file
.Xc
.\"O Print a listing of the contents of a
.\"O directory on the remote machine.
.\"O The listing includes any system-dependent information that the server
.\"O chooses to include; for example, most
.\"O .Ux
.\"O systems will produce
.\"O output from the command
.\"O .Ql ls \-l .
.\"O (See also
.\"O .Ic nlist . )
.\"O If
.\"O .Ar remote-directory
.\"O is left unspecified, the current working directory is used.
.\"O If interactive prompting is on,
.\"O .Nm ftp
.\"O will prompt the user to verify that the last argument is indeed the
.\"O target local file for receiving
.\"O .Ic \&ls
.\"O output.
.\"O If no local file is specified, or if
.\"O .Ar local-file
.\"O is
.\"O .Sq Fl ,
.\"O the output is sent to the terminal.
リモートマシン上のディレクトリの内容をリスト表示する。
リストにはサーバが選択したシステム依存の情報が含まれる。
例えば、大部分の
.Ux
システムでは
.Ql ls \-l
コマンド
.Ns ( Ic nlist
を参照) による出力が行われる。
リモートディレクトリ
.Ar remote-directory
が指定されない場合、カレントワーキングディレクトリが指定される。
対話プロンプトが on の場合、
.Nm ftp
は最後の引き数が本当に
.Ic \&ls
の出力を書き込むローカルファイルであるかを確認するプロンプトを出す。
ローカルファイルが指定されない場合、または
.Ar local-file
が
.Sq Fl 
の場合、出力は端末に送られる。
.It Ic macdef Ar macro-name
.\"O Define a macro.
.\"O Subsequent lines are stored as the macro
.\"O .Ar macro-name  ;
.\"O a null line (consecutive newline characters
.\"O in a file or
.\"O carriage returns from the terminal) terminates macro input mode.
.\"O There is a limit of 16 macros and 4096 total characters in all
.\"O defined macros.
.\"O Macros remain defined until a
.\"O .Ic close
.\"O command is executed.
.\"O The macro processor interprets `$' and `\e' as special characters.
.\"O A `$' followed by a number (or numbers) is replaced by the
.\"O corresponding argument on the macro invocation command line.
.\"O A `$' followed by an `i' signals that macro processor that the
.\"O executing macro is to be looped.
.\"O On the first pass `$i' is
.\"O replaced by the first argument on the macro invocation command line,
.\"O on the second pass it is replaced by the second argument, and so on.
.\"O A `\e' followed by any character is replaced by that character.
.\"O Use the `\e' to prevent special treatment of the `$'.
マクロを定義する。
後続の行がマクロ
.Ar macro-name
として保存される。
空行 (ファイル中の連続した改行文字、
または端末からのキャリッジリターン) により
マクロ入力モードは終了する。
定義された全てのマクロで、マクロ数 16 個、合計 4096 文字という制限がある。
.Ic close
コマンドが実行されるまで、マクロは定義されたまま継続する (有効である)。
マクロプロセッサは `$' と `\e' を特殊文字として解釈する。
1 つ以上の数字が続く `$' は、マクロを呼び出したコマンドラインの
対応する引き数に置き換えられる。
`i' が続く `$' は、マクロプロセッサに対して
マクロをループさせるように指示する。
最初のパスで `$i' は、マクロを呼び出したコマンドラインの
最初の引き数に置き換えられる。
そして、2 回目のパスでは 2 番目の引き数に置き換えられ、
それ以降も同様に順番に置き換えられる。
任意の文字が続く `\e' は、その文字に置き換えられる。
`$' を特殊文字として扱わせないためには `\e' を使うこと。
.It Ic mdelete Op Ar remote-files
.\"O Delete the
.\"O .Ar remote-files
.\"O on the remote machine.
リモートマシン上のファイル
.Ar remote-files
を削除する。
.It Ic mdir Ar remote-files local-file
.\"O Like
.\"O .Ic dir  ,
.\"O except multiple remote files may be specified.
.\"O If interactive prompting is on,
.\"O .Nm ftp
.\"O will prompt the user to verify that the last argument is indeed the
.\"O target local file for receiving
.\"O .Ic mdir
.\"O output.
複数のリモートファイルを指定できることを除くと、
.Ic dir
と同じ。
対話プロンプトが on の場合、
.Nm ftp
は最後の引き数が本当に
.Ic mdir
の出力を書き込むローカルファイルであるかを確認するプロンプトを出す。
.It Ic mget Ar remote-files
.\"O Expand the
.\"O .Ar remote-files
.\"O on the remote machine
.\"O and do a
.\"O .Ic get
.\"O for each file name thus produced.
.\"O See
.\"O .Ic glob
.\"O for details on the filename expansion.
.\"O Resulting file names will then be processed according to
.\"O .Ic case  ,
.\"O .Ic ntrans ,
.\"O and
.\"O .Ic nmap
.\"O settings.
.\"O Files are transferred into the local working directory,
.\"O which can be changed with
.\"O .Ql lcd directory ;
.\"O new local directories can be created with
.\"O .Ql "\&! mkdir directory" .
リモートマシン上でファイル名
.Ar remote-files
を展開し、その名前のファイルに対して
.Ic get
を実行する。
ファイル名展開の詳細は、
.Ic glob
を参照すること。
結果として得られたファイル名は、
.Ic case  ,
.Ic ntrans ,
.Ic nmap
の設定に従って処理される。
ファイルはローカルのワーキングディレクトリに転送される。
このディレクトリは
.Ql lcd directory
で変更できる。
新しいローカルディレクトリは
.Ql "\&! mkdir directory"
で作成することができる。
.It Ic mkdir Ar directory-name
.\"O Make a directory on the remote machine.
リモートマシン上にディレクトリを作成する。
.It Ic mls Ar remote-files local-file
.\"O Like
.\"O .Ic nlist  ,
.\"O except multiple remote files may be specified,
.\"O and the
.\"O .Ar local-file
.\"O must be specified.
.\"O If interactive prompting is on,
.\"O .Nm ftp
.\"O will prompt the user to verify that the last argument is indeed the
.\"O target local file for receiving
.\"O .Ic mls
.\"O output.
複数のリモートファイルを指定できる点とローカルファイル
.Ar local-file
を指定しなければならない点を除くと、
.Ic nlist
と同じ。
対話プロンプトが on の場合、
.Nm ftp
は最後の引き数が本当に
.Ic mls
の出力を書き込むローカルファイルであるかを確認するプロンプトを出す。
.It Ic mode Op Ar mode-name
.\"O Set the file transfer
.\"O .Ic mode
.\"O to
.\"O .Ar mode-name  .
.\"O The default mode is \*(Lqstream\*(Rq mode.
ファイル転送モード
.Ic mode
を
.Ar mode-name
に設定する。
デフォルトは \*(Lqstream\*(Rq モードである。
.It Ic modtime Ar file-name
.\"O Show the last modification time of the file on the remote machine.
リモートマシン上のファイルの最終修正時刻を表示する。
.It Ic mput Ar local-files
.\"O Expand wild cards in the list of local files given as arguments
.\"O and do a
.\"O .Ic put
.\"O for each file in the resulting list.
.\"O See
.\"O .Ic glob
.\"O for details of filename expansion.
.\"O Resulting file names will then be processed according to
.\"O .Ic ntrans
.\"O and
.\"O .Ic nmap
.\"O settings.
引き数で与えられたローカルファイルのリストにあるワイルドカードを展開し、
結果として得られたファイルリストにある各ファイルに対して
.Ic put
を実行する。
ファイル名展開の詳細は、
.Ic glob
を参照すること。
結果として得られたファイル名は、
.Ic ntrans
と
.Ic nmap
の設定に従って処理される。
.It Ic newer Ar file-name Op Ar local-file
.\"O Get the file only if the modification time of the remote file is more
.\"O recent that the file on the current system.
.\"O If the file does not
.\"O exist on the current system, the remote file is considered
.\"O .Ic newer  .
.\"O Otherwise, this command is identical to
.\"O .Ar get  .
リモートファイルの修正時刻が
ローカルマシン上のファイルのものより新しい場合にのみ、
ファイルを取得する。
ファイルがローカルマシンに存在しない場合、リモートファイルは
.Ic 新しい
ものとして扱われる。
その他について、このコマンドは
.Ar get
と同じである。
.It Xo
.Ic nlist
.Op Ar remote-directory
.Op Ar local-file
.Xc
.\"O Print a  list of the files in a
.\"O directory on the remote machine.
.\"O If
.\"O .Ar remote-directory
.\"O is left unspecified, the current working directory is used.
.\"O If interactive prompting is on,
.\"O .Nm ftp
.\"O will prompt the user to verify that the last argument is indeed the
.\"O target local file for receiving
.\"O .Ic nlist
.\"O output.
.\"O If no local file is specified, or if
.\"O .Ar local-file
.\"O is
.\"O .Fl  ,
.\"O the output is sent to the terminal.
リモートマシン上のディレクトリにあるファイルのリストを表示する。
リモートディレクトリ
.Ar remote-directory
が指定されない場合、カレントワーキングディレクトリが指定される。
対話プロンプトが on の場合、
.Nm ftp
は最後の引き数が本当に
.Ic nlist
の出力を書き出すローカルファイルであるかを確認するプロンプトを出す。
ローカルファイルが指定されない場合、または
.Ar local-file
が
.Fl
の場合、出力は端末に送られる。
.It Ic nmap Op Ar inpattern outpattern
.\"O Set or unset the filename mapping mechanism.
.\"O If no arguments are specified, the filename mapping mechanism is unset.
.\"O If arguments are specified, remote filenames are mapped during
.\"O .Ic mput
.\"O commands and
.\"O .Ic put
.\"O commands issued without a specified remote target filename.
.\"O If arguments are specified, local filenames are mapped during
.\"O .Ic mget
.\"O commands and
.\"O .Ic get
.\"O commands issued without a specified local target filename.
ファイル名のマッピング機能を設定・解除する。
引き数が指定されない場合、ファイル名のマッピング機能は解除される。
引き数が指定された場合、リモートの転送先ファイル名が指定されていない
.Ic mput
コマンドと
.Ic put
コマンドの実行時に、リモートファイル名がマッピングされる。
また、引き数が指定された場合、ローカルの転送先ファイル名が指定されていない
.Ic mget
コマンドと
.Ic get
コマンドの実行時に、ローカルファイル名がマッピングされる。
.\"O This command is useful when connecting to a
.\"O .No non\- Ns Ux
.\"O remote computer
.\"O with different file naming conventions or practices.
.\"O The mapping follows the pattern set by
.\"O .Ar inpattern
.\"O and
.\"O .Ar outpattern  .
このコマンドは、ファイル名の命名規則が異なる
.Ns Ux
以外のリモートマシンとの接続時に役立つ。
マッピングは
.Ar inpattern
と
.Ar outpattern
というパターンの組に従う。
.\"O .Op Ar Inpattern
.\"O is a template for incoming filenames (which may have already been
.\"O processed according to the
.\"O .Ic ntrans
.\"O and
.\"O .Ic case
.\"O settings).
.\"O Variable templating is accomplished by including the
.\"O sequences `$1', `$2', ..., `$9' in
.\"O .Ar inpattern  .
.Op Ar inpattern
は入力ファイル名のテンプレートである
(入力ファイル名は
.Ic ntrans
と
.Ic case
の設定に従って処理されている場合もある)。
.Ar inpattern
に `$1', `$2', ..., `$9' という文字列を入れることで、
変数を使ったテンプレートを作ることができる。
.\"O Use `\\' to prevent this special treatment of the `$' character.
.\"O All other characters are treated literally, and are used to determine the
.\"O .Ic nmap
.\"O .Op Ar inpattern
.\"O variable values.
.\"O For example, given
.\"O .Ar inpattern
.\"O $1.$2 and the remote file name "mydata.data", $1 would have the value
.\"O "mydata", and $2 would have the value "data".
`$' 文字を特殊文字として扱わなくするには `\\' を使うこと。
その他の全ての文字は、文字通りに扱われるとともに、
.Ic nmap
の
.Op Ar inpattern
変数の値を決定するために使われる。
例えば、
.Ar inpattern
として $1.$2、リモートファイル名として "mydata.data" が与えられた場合、
$1 は "mydata" という値になり、$2 は "data" という値になる。
.\"O The
.\"O .Ar outpattern
.\"O determines the resulting mapped filename.
.\"O The sequences `$1', `$2', ...., `$9' are replaced by any value resulting
.\"O from the
.\"O .Ar inpattern
.\"O template.
.\"O The sequence `$0' is replace by the original filename.
.\"O Additionally, the sequence
.\"O .Ql Op Ar seq1 , Ar seq2
.\"O is replaced by
.\"O .Op Ar seq1
.\"O if
.\"O .Ar seq1
.\"O is not a null string; otherwise it is replaced by
.\"O .Ar seq2 .
.Ar outpattern
はマップされた結果のファイル名を決定する。
文字列 `$1', `$2', ...., `$9' はテンプレート
.Ar inpattern
から生成された値に置き換えられる。
文字列 `$0' は元のファイル名に置き換えられる。
さらに、文字列
.Ql Op Ar seq1 , Ar seq2
は、
.Ar seq1
が空文字列でない場合は
.Op Ar seq1
に置き換えられ、
.Ar seq1
が空文字列の場合は
.Ar seq2
に置き換えられる。
.\"O For example, the command
.\"O .Pp
.\"O .Bd -literal -offset indent -compact
.\"O nmap $1.$2.$3 [$1,$2].[$2,file]
.\"O .Ed
.\"O .Pp
.\"O would yield
.\"O the output filename "myfile.data" for input filenames "myfile.data" and
.\"O "myfile.data.old", "myfile.file" for the input filename "myfile", and
.\"O "myfile.myfile" for the input filename ".myfile".
例えば、コマンド
.Pp
.Bd -literal -offset indent -compact
nmap $1.$2.$3 [$1,$2].[$2,file]
.Ed
.Pp
は、
入力ファイル名 "myfile.data" と "myfile.data.old" に対して
出力ファイル名 "myfile.data" を、
入力ファイル名 "myfile" に対して
出力ファイル名 "myfile.file" を、
入力ファイル名 ".myfile" に対して
出力ファイル名 "myfile.myfile" を生成する。
.\"O Spaces may be included in
.\"O .Ar outpattern  ,
.\"O as in the example: `nmap $1 sed "s/  *$//" > $1' .
.\"O Use the `\e' character to prevent special treatment
.\"O of the `$','[','[', and `,' characters.
`nmap $1 sed "s/  *$//" > $1' という例のように、
.Ar outpattern
にスペースを入れても構わない。
`$', '[', '[', `,' を特殊文字として扱いたくない場合は、
`\e' を使うこと。
.It Ic ntrans Op Ar inchars Op Ar outchars
.\"O Set or unset the filename character translation mechanism.
.\"O If no arguments are specified, the filename character
.\"O translation mechanism is unset.
.\"O If arguments are specified, characters in
.\"O remote filenames are translated during
.\"O .Ic mput
.\"O commands and
.\"O .Ic put
.\"O commands issued without a specified remote target filename.
.\"O If arguments are specified, characters in
.\"O local filenames are translated during
.\"O .Ic mget
.\"O commands and
.\"O .Ic get
.\"O commands issued without a specified local target filename.
.\"O This command is useful when connecting to a
.\"O .No non\- Ns Ux
.\"O remote computer
.\"O with different file naming conventions or practices.
ファイル名の文字変換機能を設定・解除する。
引き数が指定されない場合、ファイル名の文字変換機能は解除される。
引き数が指定された場合、リモートの転送先ファイル名が指定されていない
.Ic mput
コマンドと
.Ic put
コマンドの実行時に、リモートファイル名が文字変換される。
また、引き数が指定された場合、ローカルの転送先ファイル名が指定されていない
.Ic mget
コマンドと
.Ic get
コマンドの実行時に、ローカルファイル名が文字変換される。
このコマンドは、ファイル名の命名規則が異なる
.Ns Ux
以外のリモートマシンとの接続時に役立つ。
.\"O Characters in a filename matching a character in
.\"O .Ar inchars
.\"O are replaced with the corresponding character in
.\"O .Ar outchars  .
.\"O If the character's position in
.\"O .Ar inchars
.\"O is longer than the length of
.\"O .Ar outchars  ,
.\"O the character is deleted from the file name.
ファイル名に含まれる文字で
.Ar inchars
の中の文字に一致するものが、
.Ar outchars
の中にある対応する文字で置き換えられる。
.Ar inchars
の中での文字の位置が
.Ar outchars
の長さを越えている場合、その文字はファイル名から削除される。
.It Ic open Ar host Op Ar port
.\"O Establish a connection to the specified
.\"O .Ar host
.\"O .Tn FTP
.\"O server.
.\"O An optional port number may be supplied,
.\"O in which case,
.\"O .Nm ftp
.\"O will attempt to contact an
.\"O .Tn FTP
.\"O server at that port.
.\"O If the
.\"O .Ic auto-login
.\"O option is on (default),
.\"O .Nm ftp
.\"O will also attempt to automatically log the user in to
.\"O the
.\"O .Tn FTP
.\"O server (see below).
指定したホスト
.Ar host
の
.Tn FTP
サーバとの接続を確立する。
オプションとしてポート番号を指定した場合、
.Nm ftp
は指定したポートで
.Tn FTP
サーバーと接続を試みる。
.Ic auto-login
が on (デフォルト) の場合、
.Nm ftp
は
.Tn FTP
サーバーに自動ログインを試みる (以下を参照)。
.It Ic prompt
.\"O Toggle interactive prompting.
.\"O Interactive prompting
.\"O occurs during multiple file transfers to allow the
.\"O user to selectively retrieve or store files.
.\"O If prompting is turned off (default is on), any
.\"O .Ic mget
.\"O or
.\"O .Ic mput
.\"O will transfer all files, and any
.\"O .Ic mdelete
.\"O will delete all files.
対話プロンプトの使用・不使用を切替える。
(prompt が on の場合) 複数のファイルを転送するときに
ユーザーが選択的にファイルを取得・保存できるように、
対話的な問い合わせが行われる。
prompt が off (デフォルトは on) の場合、
.Ic mget
または
.Ic mput
では全てのファイルが転送され、
.Ic mdelete
では全てのファイルが削除される。
.It Ic proxy Ar ftp-command
.\"O Execute an ftp command on a secondary control connection.
.\"O This command allows simultaneous connection to two remote ftp
.\"O servers for transferring files between the two servers.
.\"O The first
.\"O .Ic proxy
.\"O command should be an
.\"O .Ic open  ,
.\"O to establish the secondary control connection.
.\"O Enter the command "proxy ?" to see other ftp commands executable on the
.\"O secondary connection.
ftp コマンドを 2 次的な制御接続上から実行する。
このコマンドを使うと、2 つのリモート FTP サーバ間でファイルを転送するために、
同時に 2 つのサーバに接続できる。
最初の
.Ic proxy
コマンドは、2 次的な制御接続を確立するための
.Ic open
コマンドである必要がある。
2 次接続上で実行可能な他の ftp コマンドを閲覧するためには、
"proxy ?" というコマンドを入力すること。
.\"O The following commands behave differently when prefaced by
.\"O .Ic proxy  :
.\"O .Ic open
.\"O will not define new macros during the auto-login process,
.\"O .Ic close
.\"O will not erase existing macro definitions,
.\"O .Ic get
.\"O and
.\"O .Ic mget
.\"O transfer files from the host on the primary control connection
.\"O to the host on the secondary control connection, and
.\"O .Ic put  ,
.\"O .Ic mput ,
.\"O and
.\"O .Ic append
.\"O transfer files from the host on the secondary control connection
.\"O to the host on the primary control connection.
.\"O Third party file transfers depend upon support of the ftp protocol
.\"O .Dv PASV
.\"O command by the server on the secondary control connection.
以下のコマンドは
.Ic proxy
が前に置かれると別の動作をする: 
.Ic open
は自動ログインの処理中に新しいマクロを定義しない。
.Ic close
は既に存在するマクロ定義を削除しない。
.Ic get
と
.Ic mget
は、1 次制御接続のホストから 2 次制御接続のホストへファイルを転送する。
.Ic put  ,
.Ic mput ,
.Ic append
は、2 次制御接続のホストから 1 次制御接続のホストへファイルを転送する。
第三者によるファイル転送が可能かどうかは、
2 次制御接続上のサーバが FTP プロトコルの
.Dv PASV
コマンドをサポートしているかどうかに依存する。
.It Ic put Ar local-file Op Ar remote-file
.\"O Store a local file on the remote machine.
.\"O If
.\"O .Ar remote-file
.\"O is left unspecified, the local file name is used
.\"O after processing according to any
.\"O .Ic ntrans
.\"O or
.\"O .Ic nmap
.\"O settings
.\"O in naming the remote file.
.\"O File transfer uses the
.\"O current settings for
.\"O .Ic type  ,
.\"O .Ic format ,
.\"O .Ic mode  ,
.\"O and
.\"O .Ic structure  .
ローカルファイルをリモートマシン上に保存する。
リモートファイル
.Ar remote-file
が指定されない場合、リモートファイル名として
.Ic ntrans
または
.Ic nmap
の設定に基づいて処理した後のローカルファイル名が使われる。
ファイル転送には
.Ic type  ,
.Ic format ,
.Ic mode  ,
.Ic structure
の現在の設定が使われる。
.It Ic pwd
.\"O Print the name of the current working directory on the remote
.\"O machine.
リモートマシン上のカレントワーキングディレクトリ名を表示する。
.It Ic quit
.\"O A synonym for
.\"O .Ic bye  .
.Ic bye
と同じ。
.It Ic quote Ar arg1 arg2 ...
.\"O The arguments specified are sent, verbatim, to the remote
.\"O .Tn FTP
.\"O server.
指定された引き数をそのまま
.Tn FTP
サーバに送信する。
.It Ic recv Ar remote-file Op Ar local-file
.\"O A synonym for get.
.Ic get
と同じ。
.It Ic reget Ar remote-file Op Ar local-file
.\"O Reget acts like get, except that if
.\"O .Ar local-file
.\"O exists and is
.\"O smaller than
.\"O .Ar remote-file  ,
.\"O .Ar local-file
.\"O is presumed to be
.\"O a partially transferred copy of
.\"O .Ar remote-file
.\"O and the transfer
.\"O is continued from the apparent point of failure.
.\"O This command
.\"O is useful when transferring very large files over networks that
.\"O are prone to dropping connections.
.Ic get
と似た動作をする。
ただし、ローカルファイル
.Ar local-file
が存在しているがリモートファイル
.Ar remote-file
より小さいという場合、ローカルファイル
.Ar local-file
がリモートファイル
.Ar remote-file
の部分的に転送されたコピーであると見做し、
転送の失敗が見つかった位置から転送を続行する。
このコマンドは非常に大きなファイルを
接続が切れやすいネットワーク上で転送する場合に役立つ。
.It Ic remotehelp Op Ar command-name
.\"O Request help from the remote
.\"O .Tn FTP
.\"O server.
.\"O If a
.\"O .Ar command-name
.\"O is specified it is supplied to the server as well.
リモートの
.Tn FTP
サーバに対してヘルプメッセージを要求する。
コマンド名
.Ar command-name
が指定された場合、そのコマンド名はサーバにも送られる
(サーバにそのコマンドのヘルプを要求する)。
.It Ic remotestatus Op Ar file-name
.\"O With no arguments, show status of remote machine.
.\"O If
.\"O .Ar file-name
.\"O is specified, show status of
.\"O .Ar file-name
.\"O on remote machine.
引き数が指定されない場合、リモートマシンの状態を表示する。
ファイル名
.Ar file-name
が指定された場合、リモートマシン上のファイル
.Ar file-name
の状態を表示する。
.It Xo
.Ic rename
.Op Ar from
.Op Ar to
.Xc
.\"O Rename the file
.\"O .Ar from
.\"O on the remote machine, to the file
.\"O .Ar to  .
リモートマシン上の
.Ar from
というファイルを
.Ar to
というファイル名に変更する。
.It Ic reset
.\"O Clear reply queue.
.\"O This command re-synchronizes command/reply sequencing with the remote
.\"O ftp server.
.\"O Resynchronization may be necessary following a violation of the ftp protocol
.\"O by the remote server.
応答キューをクリアする。
このコマンドは、リモートの FTP サーバとの間で
コマンドと応答のシーケンスを再同期させる。
リモートサーバによる FTP プロトコル違反があった場合、
その後に再同期が必要になることがある。
.It Ic restart Ar marker
.\"O Restart the immediately following
.\"O .Ic get
.\"O or
.\"O .Ic put
.\"O at the
.\"O indicated
.\"O .Ar marker  .
.\"O On
.\"O .Ux
.\"O systems, marker is usually a byte
.\"O offset into the file.
マーカー
.Ar marker
で示した位置から
.Ic get
や
.Ic put
をすぐに再開する。
.Ux
システムでは、通常 marker はファイルのバイトオフセットである。
.It Ic rmdir Ar directory-name
.\"O Delete a directory on the remote machine.
リモートマシン上のディレクトリを削除する。
.It Ic runique
.\"O Toggle storing of files on the local system with unique filenames.
.\"O If a file already exists with a name equal to the target
.\"O local filename for a
.\"O .Ic get
.\"O or
.\"O .Ic mget
.\"O command, a ".1" is appended to the name.
.\"O If the resulting name matches another existing file,
.\"O a ".2" is appended to the original name.
.\"O If this process continues up to ".99", an error
.\"O message is printed, and the transfer does not take place.
.\"O The generated unique filename will be reported.
.\"O Note that
.\"O .Ic runique
.\"O will not affect local files generated from a shell command
.\"O (see below).
.\"O The default value is off.
一意なファイル名でローカルシステムに保存するか否かを切替える。
.Ic get
や
.Ic mget
コマンドによる転送先ローカルファイル名と
同じ名前のファイルが既に存在する場合、
転送先ファイル名に ".1" が付加される。
そのファイル名も既に存在するファイル名と一致する場合、
元のファイル名に ".2" が付加される。
この処理が ".99" まで続いた場合、
エラーメッセージが表示され、転送は行われない。
生成された一意なファイル名が表示される。
.Ic runique
はシェルコマンドによって生成されるローカルファイル (以下を参照) には
影響しない点に注意すること。
デフォルトの値は off である。
.It Ic send Ar local-file Op Ar remote-file
.\"O A synonym for put.
.Ic put
と同じ。
.It Ic sendport
.\"O Toggle the use of
.\"O .Dv PORT
.\"O commands.
.\"O By default,
.\"O .Nm ftp
.\"O will attempt to use a
.\"O .Dv PORT
.\"O command when establishing
.\"O a connection for each data transfer.
.\"O The use of
.\"O .Dv PORT
.\"O commands can prevent delays
.\"O when performing multiple file transfers.
.\"O If the
.\"O .Dv PORT
.\"O command fails,
.\"O .Nm ftp
.\"O will use the default data port.
.\"O When the use of
.\"O .Dv PORT
.\"O commands is disabled, no attempt will be made to use
.\"O .Dv PORT
.\"O commands for each data transfer.
.\"O This is useful
.\"O for certain
.\"O .Tn FTP
.\"O implementations which do ignore
.\"O .Dv PORT
.\"O commands but, incorrectly, indicate they've been accepted.
.Dv PORT
コマンドの使用・不使用を切替える。
デフォルトでは、
.Nm ftp
はデータ転送のための接続を確立するため
.Dv PORT
コマンドを使おうとする。
.Dv PORT
コマンドを使用すると、複数のファイルを転送する場合に遅延を避けることができる。
.Dv PORT
コマンドが失敗した場合、
.Nm ftp
はデフォルトのデータポートを使う。
.Dv PORT
コマンドが off の場合、データ転送に
.Dv PORT
コマンドを使おうと試みない。
このオプションは、
.Dv PORT
コマンドを無視するにもかかわらず、
受け付けると間違って返答するような
.Tn FTP
の実装の場合に役立つ。
.It Ic site Ar arg1 arg2 ...
.\"O The arguments specified are sent, verbatim, to the remote
.\"O .Tn FTP
.\"O server as a
.\"O .Dv SITE
.\"O command.
指定された引き数を
.Dv SITE
コマンドの引き数としてそのままリモートの
.Tn FTP
サーバに送信する。
.It Ic size Ar file-name
.\"O Return size of
.\"O .Ar file-name
.\"O on remote machine.
リモートマシン上のファイル
.Ar file-name
のサイズを返す。
.It Ic status
.\"O .\"O .\"O Show the current status of
.\"O .Nm ftp  .
.Nm ftp
の現在の状態を表示する。
.It Ic struct Op Ar struct-name
.\"O Set the file transfer
.\"O .Ar structure
.\"O to
.\"O .Ar struct-name .
.\"O By default \*(Lqstream\*(Rq structure is used.
ファイル転送の構造
.Ar structure
を
.Ar struct-name
に設定する。
デフォルトでは、\*(Lqstream\*(Rq 構造が使われる。
.It Ic sunique
.\"O Toggle storing of files on remote machine under unique file names.
.\"O Remote ftp server must support ftp protocol
.\"O .Dv STOU
.\"O command for
.\"O successful completion.
.\"O The remote server will report unique name.
.\"O Default value is off.
一意なファイル名でリモート計算機上にファイルを保存するか否かを切替える。
この機能が使えるためには、リモートの FTP サーバが FTP プロトコルの
.Dv STOU
コマンドをサポートしていなければならない。
リモートサーバは一意なファイル名を表示する。
デフォルトの値は off である。
.It Ic system
.\"O Show the type of operating system running on the remote machine.
リモートマシンで稼働している OS のタイプを表示する。
.It Ic tenex
.\"O Set the file transfer type to that needed to
.\"O talk to
.\"O .Tn TENEX
.\"O machines.
.Tn TENEX
マシンと通信するために必要なファイル転送タイプに type を設定する。
.It Ic trace
.\"O Toggle packet tracing.
パケットトレースの使用・不使用を切替える。
.It Ic type Op Ar type-name
.\"O Set the file transfer
.\"O .Ic type
.\"O to
.\"O .Ar type-name  .
.\"O If no type is specified, the current type
.\"O is printed.
.\"O The default type is network
.\"O .Tn ASCII .
ファイル転送のタイプ
.Ic type
を
.Ar type-name
に設定する。
type を指定しない場合、現在の type が表示される。
デフォルトの type はネットワーク
.Tn ASCII
である。
.It Ic umask Op Ar newmask
.\"O Set the default umask on the remote server to
.\"O .Ar newmask  .
.\"O If
.\"O .Ar newmask
.\"O is ommitted, the current umask is printed.
リモートサーバのデフォルトの umask を
.Ar newmask
に設定する。
.Ar newmask
を省略すると、現在の umask が表示される。
.It Xo
.Ic user Ar user-name
.Op Ar password
.Op Ar account
.Xc
.\"O Identify yourself to the remote
.\"O .Tn FTP
.\"O server.
.\"O If the
.\"O .Ar password
.\"O is not specified and the server requires it,
.\"O .Nm ftp
.\"O will prompt the user for it (after disabling local echo).
リモートの
.Tn FTP
サーバにユーザーを識別させる。
パスワード
.Ar password
が指定されておらず、かつサーバがパスワードを必要とする場合、
.Nm ftp
は (ローカルエコーをオフにしてから) ユーザーにパスワードを問い合わせる。
.\"O If an
.\"O .Ar account
.\"O field is not specified, and the
.\"O .Tn FTP
.\"O server
.\"O requires it, the user will be prompted for it.
アカウントフィールド
.Ar account
が指定されておらず、かつ
.Tn FTP
サーバがアカウントを必要としている場合、ユーザーはアカウントを尋ねられる。
.\"O If an
.\"O .Ar account
.\"O field is specified, an account command will
.\"O be relayed to the remote server after the login sequence
.\"O is completed if the remote server did not require it
.\"O for logging in.
リモートサーバがログインにアカウントを必要としない場合、
アカウントフィールド
.Ar account
が指定されると、ログイン処理の完了後に
account コマンドがリモートサーバに渡される。
.\"O Unless
.\"O .Nm ftp
.\"O is invoked with \*(Lqauto-login\*(Rq disabled, this
.\"O process is done automatically on initial connection to
.\"O the
.\"O .Tn FTP
.\"O server.
.Nm ftp
が \*(Lq自動ログイン (auto-login)\*(Rq を off にして起動されない限り、
この処理は
.Tn FTP
サーバに最初に接続されたときに自動的に行われる。
.It Ic verbose
.\"O Toggle verbose mode.
.\"O In verbose mode, all responses from
.\"O the
.\"O .Tn FTP
.\"O server are displayed to the user.
.\"O In addition,
.\"O if verbose is on, when a file transfer completes, statistics
.\"O regarding the efficiency of the transfer are reported.
.\"O By default,
.\"O verbose is on.
詳細表示モードを切替える。詳細表示モードの場合、
.Tn FTP
サーバからの全ての応答が表示される。
さらに詳細表示モードが on の場合、ファイル転送が完了すると、
転送効率に関する統計が報告される。
デフォルトでは、詳細表示モードは on である。
.It Ic ? Op Ar command
.\"O A synonym for help.
.Ic help
と同じ。
.El
.Pp
.\"O Command arguments which have embedded spaces may be quoted with
.\"O quote `"' marks.
スペースを含むコマンド引き数は、引用記号 `"' で括らなければならない。
.\"O .Sh ABORTING A FILE TRANSFER
.Sh ファイル転送の中止
.\"O To abort a file transfer, use the terminal interrupt key
.\"O (usually Ctrl-C).
.\"O Sending transfers will be immediately halted.
.\"O Receiving transfers will be halted by sending a ftp protocol
.\"O .Dv ABOR
.\"O command to the remote server, and discarding any further data received.
.\"O The speed at which this is accomplished depends upon the remote
.\"O server's support for
.\"O .Dv ABOR
.\"O processing.
.\"O If the remote server does not support the
.\"O .Dv ABOR
.\"O command, an
.\"O .Ql ftp>
.\"O prompt will not appear until the remote server has completed
.\"O sending the requested file.
ファイル転送を中止するためには、
端末のインタラプトキー (通常は Ctrl-C) を使うこと。
データ送信は直ちに停止する。
データ受信は FTP プロトコルの
.Dv ABOR
コマンドをリモートサーバに送信することで停止し、
それ以降のデータは破棄される。
これが行われるスピードは、リモートサーバの
.Dv ABOR
コマンド処理の機能に依存する。
リモートサーバが
.Dv ABOR
コマンドをサポートしていない場合、
要求したファイルをリモートサーバが送信しおわるまで
.Ql ftp>
というプロンプトは現れない。
.Pp
.\"O The terminal interrupt key sequence will be ignored when
.\"O .Nm ftp
.\"O has completed any local processing and is awaiting a reply
.\"O from the remote server.
.\"O A long delay in this mode may result from the ABOR processing described
.\"O above, or from unexpected behavior by the remote server, including
.\"O violations of the ftp protocol.
.\"O If the delay results from unexpected remote server behavior, the local
.\"O .Nm ftp
.\"O program must be killed by hand.
.Nm ftp
がローカルの処理を完了し、リモートサーバからの応答を待っている場合、
端末からのインタラプトキー文字列は無視される。
このモードでの長い遅延は、上で述べた ABOR 処理によるものか、
FTP プロトコル違反を含めたリモートサーバの予期せぬ動作によるものである。
リモートサーバの予期せぬ動作の結果による遅延の場合、ローカルの
.Nm ftp
プログラムは手動で終了 (kill) しなければならない。
.\"O .Sh FILE NAMING CONVENTIONS
.Sh ファイル名の変換
.\"O Files specified as arguments to
.\"O .Nm ftp
.\"O commands are processed according to the following rules.
.Nm ftp
の引き数として指定されたファイル名は、以下の規則に従って変更される。
.Bl -enum
.It
.\"O If the file name
.\"O .Sq Fl
.\"O is specified, the
.\"O .Ar stdin
.\"O (for reading) or
.\"O .Ar stdout
.\"O (for writing) is used.
ファイル名として
.Sq Fl
が指定された場合、(読み込みとして)
.Ar stdin
が、(書き出しとして)
.Ar stdout
が使われる。
.It
.\"O If the first character of the file name is
.\"O .Sq \&| ,
.\"O the
.\"O remainder of the argument is interpreted as a shell command.
.\"O .Nm Ftp
.\"O then forks a shell, using
.\"O .Xr popen 3
.\"O with the argument supplied, and reads (writes) from the stdout
.\"O (stdin).
.\"O If the shell command includes spaces, the argument
.\"O must be quoted; e.g.
.\"O \*(Lq" ls -lt"\*(Rq.
.\"O A particularly
.\"O useful example of this mechanism is: \*(Lqdir more\*(Rq.
ファイル名の最初の文字が
.Sq \&|
の場合、残りの引き数はシェルコマンドとして解釈される。
そして、
.Nm ftp
は与えられた引き数を
.Xr popen 3
に渡してシェルを fork し、stdout を読み込み、stdin に書き出す。
シェルコマンドがスペースを含む場合、
\*(Lq" ls -lt"\*(Rq
のように引き数をクォートしなければならない。
この機構の特に役立つ例としては、\*(Lqdir more\*(Rq がある。
.It
.\"O Failing the above checks, if ``globbing'' is enabled,
.\"O local file names are expanded
.\"O according to the rules used in the
.\"O .Xr csh  1  ;
.\"O c.f. the
.\"O .Ic glob
.\"O command.
.\"O If the
.\"O .Nm ftp
.\"O command expects a single local file (.e.g.
.\"O .Ic put  ) ,
.\"O only the first filename generated by the "globbing" operation is used.
上記のチェックにひっかからず、ファイル名展開 ``glob'' が on の場合、
ローカルファイル名は
.Xr csh  1
で使われる規則に基づいて展開される。
.Ic glob
コマンドを参照すること。
.Nm ftp
コマンドが 1 つしかローカルファイルを必要としない場合 (例えば
.Ic put  
の場合)、「ファイル名展開」操作で生成された最初のファイル名のみが使われる。
.It
.\"O For
.\"O .Ic mget
.\"O commands and
.\"O .Ic get
.\"O commands with unspecified local file names, the local filename is
.\"O the remote filename, which may be altered by a
.\"O .Ic case  ,
.\"O .Ic ntrans ,
.\"O or
.\"O .Ic nmap
.\"O setting.
.\"O The resulting filename may then be altered if
.\"O .Ic runique
.\"O is on.
.Ic mget
コマンドと
.Ic get
コマンドにおいてローカルファイル名が指定されていない場合、
ローカルファイル名はリモートファイル名と同じであるが、
.Ic case  ,
.Ic ntrans ,
.Ic nmap
の設定によって変更されることがある。
.Ic runique
が on の場合、結果として得られるファイル名が変更されることがある。
.It
.\"O For
.\"O .Ic mput
.\"O commands and
.\"O .Ic put
.\"O commands with unspecified remote file names, the remote filename is
.\"O the local filename, which may be altered by a
.\"O .Ic ntrans
.\"O or
.\"O .Ic nmap
.\"O setting.
.\"O The resulting filename may then be altered by the remote server if
.\"O .Ic sunique
.\"O is on.
.Ic mput
コマンドと
.Ic put
コマンドにおいてリモートファイル名が指定されていない場合、
リモートファイル名はローカルファイル名と同じであるが、
.Ic ntrans
と
.Ic nmap
の設定によって変更されることがある。
.Ic sunique
が on の場合、結果として得られるファイル名が
サーバによって更に変更されることがある。
.El
.\"O .Sh FILE TRANSFER PARAMETERS
.Sh ファイル転送パラメータ
.\"O The FTP specification specifies many parameters which may
.\"O affect a file transfer.
.\"O The
.\"O .Ic type
.\"O may be one of \*(Lqascii\*(Rq, \*(Lqimage\*(Rq (binary),
.\"O \*(Lqebcdic\*(Rq, and \*(Lqlocal byte size\*(Rq (for
.\"O .Tn PDP Ns -10's
.\"O and
.\"O .Tn PDP Ns -20's
.\"O mostly).
.\"O .Nm Ftp
.\"O supports the ascii and image types of file transfer,
.\"O plus local byte size 8 for
.\"O .Ic tenex
.\"O mode transfers.
FTP の仕様にはファイル転送に影響を及ばす多くのパラメータがある。
.Ic type
は \*(Lqascii\*(Rq, \*(Lqimage\*(Rq (binary),
\*(Lqebcdic\*(Rq, \*(Lqlocal byte size\*(Rq (
.Tn PDP Ns -10's
と
.Tn PDP Ns -20's
でよく使われる) のいずれかである。
.Nm ftp
ascii タイプと image タイプのファイル転送をサポートしている。
更に、
.Ic tenex
モード転送のためにローカルバイトサイズ 8 のファイル転送をサポートしている。
.Pp
.\"O .Nm Ftp
.\"O supports only the default values for the remaining
.\"O file transfer parameters:
.\"O .Ic mode  ,
.\"O .Ic form ,
.\"O and
.\"O .Ic struct  .
.\"O 
.Nm ftp
は他のファイル転送パラメータ
.Ic mode  ,
.Ic form ,
.Ic struct
についてはデフォルトの値しか使えない。
.\"O .Sh ENVIRONMENT
.Sh 環境変数
.\"O .Nm Ftp
.\"O utilizes the following environment variables.
.Nm ftp
は以下の環境変数を使用する。
.Bl -tag -width Fl
.It Ev HOME
.\"O For default location of a
.\"O .Pa .netrc
.\"O file, if one exists.
.Pa .netrc
ファイルが存在する場合のデフォルトの場所。
.It Ev SHELL
.\"O For default shell.
デフォルトのシェル。
.El
.\"O .Sh SEE ALSO
.Sh 関連項目
.Xr ftpd 8 ,
RFC 959
.\"O .Sh HISTORY
.Sh 履歴
.\"O The
.\"O .Nm ftp
.\"O command appeared in
.\"O .Bx 4.2 .
.Nm ftp
コマンドは
.Bx 4.2
で登場した。
.\"O .Sh BUGS
.Sh バグ
.\"O Correct execution of many commands depends upon proper behavior
.\"O by the remote server.
コマンドが正しく動作するかは、リモートサーバが適切に動作するかに依存する。
.Pp
.\"O An error in the treatment of carriage returns
.\"O in the
.\"O .Bx 4.2
.\"O ascii-mode transfer code
.\"O has been corrected.
.Bx 4.2
の ascii タイプ転送のソースコードにあった
キャリッジリターンの扱いに関するエラーが訂正された。
.\"O This correction may result in incorrect transfers of binary files
.\"O to and from
.\"O .Bx 4.2
.\"O servers using the ascii type.
.\"O Avoid this problem by using the binary image type.
この訂正の結果として、
.Bx 4.2
のサーバとの間でバイナリファイルを ascii タイプで転送すると、
転送に誤りが起こる。
この問題を避けるためには、binary image タイプを使うこと。
.Sh 翻訳者謝辞
この man ページの翻訳にあたり、
FreeBSD jpman project <http://www.jp.freebsd.org/man-jp/>
による翻訳を参考にさせていただいた。
