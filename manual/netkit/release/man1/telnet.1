.\" Copyright (c) 1983, 1990 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	from: @(#)telnet.1	6.16 (Berkeley) 7/27/91
.\"	$Id: telnet.1,v 1.15 2000/07/30 23:57:08 dholland Exp $
.\"
.\" Japanese Version Copyright (c) 2000 Yuichi SATO
.\"         all rights reserved.
.\" Translated Fri Feb 25 1994
.\"         by NetBSD jman proj. <jman@spa.is.uec.ac.jp> 
.\" Updated and Modified Mon Nov 27 01:26:53 JST 2000
.\"         by Yuichi SATO <sato@complex.eng.hokudai.ac.jp>
.\"
.Dd August 15, 1999
.Dt TELNET 1
.Os "Linux NetKit (0.17)"
.Sh 名前
.Nm telnet
.Nd
.Tn TELNET
プロトコルのユーザーインターフェース
.Sh 書式
.Nm telnet
.Op Fl 8ELadr
.Op Fl S Ar tos
.Op Fl e Ar escapechar
.Op Fl l Ar user
.Op Fl n Ar tracefile
.Oo
.Ar host
.Op Ar port
.Oc
.Sh 説明
.Nm telnet
コマンドは
.Tn TELNET
プロトコルを用いて他のホストと相互通信をするために使われる。
このプログラムは、("telnet\&> ") というプロンプトを表示して、
コマンドモードで開始される。
引き数
.Ar host
を付けて
.Nm telnet
が起動されると、
.Ic open
コマンドが暗黙のうちに実行される。
以下の説明を参照すること。
.Pp
オプション:
.Bl -tag -width indent
.It Fl 8
8 ビット動作を行う。
入力・出力の両方で、
.Dv TELNET BINARY
オプションを用いるようにネゴシエーションを行う。
デフォルトの telnet は 8 ビットクリーンではない。
.It Fl E
エスケープ文字の機能を無効にする。
つまり、エスケープ文字を「無視する文字」に設定する。
.It Fl L
出力に 8 ビットデータパスを指定する。
出力のみで
.Dv TELNET BINARY 
オプション使用のネゴシエーションを行う。
.It Fl a
自動ログインをさせる。
現在のところ、リモートホストが
.Ev ENVIRON
オプションの
.Ev USER
変数をサポートしている場合、この変数がログイン名として送信される。
ユーザ名は
.Xr getlogin 3
を使って取得される。
.It Fl d
.Ic debug
の初期値を
.Dv TRUE
に設定する。
.It Fl r
.Xr rlogin 1
をエミュレートする。
このモードでは、デフォルトのエスケープ文字はチルダ (~) である。
また、エスケープ文字の解釈は変更される。
エスケープ文字の後にドット (.) を続けると
.Nm telnet
をリモートホストから切断する。
エスケープ文字の後に ^Z を続けると
.Nm telnet
を中断する。
^] (デフォルトの
.Nm telnet
エスケープ文字) を送ると通常の telnet プロンプトが表示される。
これらのコードは行頭にある場合にのみ受け付けられる。
.It Fl S Ar tos
telnet 接続のための
サービスタイプ (type-of-service, TOS) オプションの値を
.Ar tos
に設定する。
.It Fl e Ar escapechar
エスケープ文字を
.Ar escapechar
に設定する。
文字を何も指定しない場合、エスケープ文字は使われない。
接続されている間にエスケープ文字が入力されると、
telnet はコマンドモードになる。
.It Fl l Ar user
リモートシステムにログインするユーザーとして
.Ar user
を指定する。
これは指定された名前を環境変数
.Dv USER
として送信することで実現されるので、
リモートシステムが
.Ev TELNET ENVIRON
オプションをサポートしている必要がある。
このオプションは、暗黙のうちに
.Fl a
オプションが使われ、
.Ic open
コマンドとともに使われる。
.It Fl n Ar tracefile
トレース情報を記録するためにファイル
.Ar tracefile
を開く。
以下の
.Ic set tracefile
コマンドを参照すること。
.It Ar host
ネットワーク越しに接続するホストを指定する。
.It Ar port
接続するポート名またはサービス名を指定する。
指定されない場合、
.Nm telnet
ポート (23) が使われる。
.El
.Pp
プロトコル:
.Pp
接続がオープンされると、
.Nm telnet
は
.Dv TELNET LINEMODE
オプションを有効にしようとする。
これが失敗した場合、
.Nm telnet
は 2 つの入力モード
\*(Lqcharacter at a time\*(Rq
と
\*(Lqold line by line\*(Rq
のうちどちらかを選択する。
これはリモートシステムがどちらをサポートしているかに依存する。
.Pp
.Dv LINEMODE
が有効になっている場合、文字処理はリモートシステムの制御下におかれた
ローカルシステムで実行される。
入力の編集や文字のエコーが無効にされた場合、
リモートシステムはその情報を中継する。
リモートシステムは生成された特殊文字も中継する。
これにより、ローカルシステムにも効果が及ぶ。
.Pp
\*(Lqcharacter at a time\*(Rq モードでは、
入力されたテキストの大部分は、処理のためにリモートシステムへすぐに送信される。
.Pp
\*(Lqold line by line\*(Rq モードでは、
すべてのテキストはローカルでエコーされる。
そして、(通常は) 完全な行のみがリモートホストに送信される。
\*(Lqlocal echo character\*(Rq (初期設定では \*(Lq^E\*(Rq) は
ローカルエコーのオン・オフを切替えるために使われる
(これはパスワードをエコーせずに入力する場合によく用いられる)。
.Pp
.Dv LINEMODE
オプションが有効になっている場合、または
.Ic localchars
の切替えが
.Dv TRUE
の場合
(これは \*(Lqold line by line\*(Lq のデフォルトである。以下を参照)、
ユーザーの
.Ic quit ,
.Ic intr ,
.Ic flush
文字はローカルでトラップされ、
.Tn TELNET
プロトコルシーケンスとしてリモート側に送信される。
.Dv LINEMODE
が有効になっている場合、
ユーザーの
.Ic susp
と
.Ic eof
も
.Tn TELNET
プロトコルシーケンスとして送信される。
そして、
.Ic quit
は
.Dv BREAK
ではなく
.Dv TELNET ABORT
として送信される。
オプションとしては、
(リモートホストが
.Tn TELNET
シーケンスを認識するまで)
端末へのサブシーケンス出力をフラッシュするもの
(以下の
.Ic toggle
.Ic autoflush
と
.Ic toggle
.Ic autosynch
を参照) や、
.Ns ( Ic quit
と
.Ic intr
の場合に) それまでの端末への入力をフラッシュするものがある。
.Pp
コマンド:
.Pp
以下の
.Nm telnet
コマンドが使用可能である。
他と区別がつく範囲で、後ろの方を省略することもできる。
.Pp
.Bl -tag -width "mode type"
.It Ic auth Ar argument ... 
.Ic auth
は
.Dv TELNET AUTHENTICATE
プロトコルオプションを制御する。
.Nm telnet
が認証なしでコンパイルされた場合、
.Ic auth
コマンドは使えない。
このコマンドに使える引き数は以下の通りである。
.Bl -tag -width "disable type"
.It Ic disable Ar type
指定した認証タイプを使用不可にする。
指定可能な認証タイプの一覧を見たい場合は、
.Ic auth disable \&?
コマンドを使うこと。
.It Ic enable Ar type
指定した認証タイプを使用可能にする。
指定可能な認証タイプの一覧を見たい場合は、
.Ic auth enable \&?
コマンドを使うこと。
.It Ic status
認証タイプの現在の状態をリストする。
.El
.Pp
現在のバージョンの
.Nm telnet
は認証をサポートしていない点に注意すること。
.It Ic close
リモートホストへの接続がある場合は、接続を閉じ、コマンドモードに戻る。
.It Ic display Ar argument ... 
.Ic set
や
.Ic toggle
で設定された値 (以下を参照) の全て、または一部を表示する。
.It Ic encrypt Ar argument ...
encrypt コマンドは
.Dv TELNET ENCRYPT
プロトコルオプションを制御する。
.Nm telnet
が暗号化なしでコンパイルされた場合、
.Ic encrypt
コマンドはサポートされない。
.Pp
このコマンドに指定可能な引き数は以下の通りである。
.Bl -tag -width Ar
.It Ic disable Ar type Ic [input|output]
指定した暗号化タイプを使用不可にする。
input または output を指定しない場合、両方の暗号化が無効にされる。
指定可能な暗号化タイプの一覧を見るには、
``encrypt disable \&?'' を使うこと。
.It Ic enable Ar type Ic [input|output]
指定した暗号化タイプを使用可能にする。
input または output を指定しない場合、両方の暗号化が有効にされる。
指定可能な暗号化タイプの一覧を見るには、
``encrypt enable \&?'' を使うこと。
.It Ic input
``encrypt start input'' と同じ。
.It Ic -input
``encrypt stop input'' と同じ。
.It Ic output
``encrypt start output'' と同じ。
.It Ic -output
``encrypt stop output'' と同じ。
.It Ic start Ic [input|output]
暗号化を開始する。
input または output を指定しない場合、両方の暗号化を開始する。
.It Ic status
暗号化モジュールの現在の状態を表示する。
.It Ic stop Ic [input|output]
暗号化を停止する。
input または output を指定しない場合、両方の暗号化を停止する。
.It Ic type Ar type
その後の ``encrypt start'' コマンドや ``encrypt stop'' コマンドで使われる
暗号化のデフォルトタイプを設定する。
.El
.Pp
現在のバージョンの
.Nm telnet
は、暗号化をサポートしていない点に注意すること。
.It Ic environ Ar arguments... 
.Ic environ
コマンドは
.Dv TELNET ENVIRON
プロトコルオプションを用いて
.Nm telnet
リンクを通して環境変数を渡すために使われる。
シェルからエクスポートされる全ての変数が定義されるが、
デフォルトでは環境変数
.Ev DISPLAY
と
.Ev PRINTER
のみが送信するために選ばれる。
コマンドラインオプション
.Fl a
または
.Fl l
が使われた場合、
環境変数
.Ev USER
が送信するために選ばれる。
.Pp
.Ic environ
コマンドに指定可能な引き数は以下の通りである。
.Bl -tag -width Fl
.It Ic define Ar variable value 
環境変数
.Ar variable
が値
.Ar value
を持つと定義する。
このコマンドで定義された環境変数は、
引き渡す (``エクスポートする'') ために自動的に選択される。
値
.Ar value
はシングルクォートやダブルクォートで囲ってもよい。
このようにすると、タブやスペースを値に含めることができる。
.It Ic undefine Ar variable 
既に存在する環境変数
.Ar variable
の定義を削除する。
.It Ic export Ar variable 
指定した環境変数をリモートホストに渡されるように設定する。
.It Ic unexport Ar variable 
指定した環境変数をリモートホストに渡されないように設定する。
リモートホストはエクスポートされない (渡されない) 変数について
明示的に問い合わせることもある。
.It Ic list
現在の環境変数の一覧を表示する。
.Cm *
でマークされた環境変数はリモートホストに渡される。
リモートホストは他の環境変数について明示的に問い合わせることもある。
.It Ic \&?
.Ic environ
コマンドについてのヘルプ情報を表示する。
.El
.It Ic logout
.Dv TELNET LOGOUT
プロトコルオプションをリモートホストに送る。
このコマンドは
.Ic close
コマンドに似ている。
リモートホストが
.Dv LOGOUT
オプションをサポートしていない場合は、何も起こらない。
サポートしている場合、このコマンドにより接続を閉じる。
リモート側が再接続のためのユーザーセッションのサスペンドも
サポートしている場合、logout コマンドはセッションを即時終了することを意味する。
.It Ic mode Ar type 
.Ar type
はセッションの状態に依存するいくつかのオプションのうちの 1 つである。
.Tn telnet
は要求されたモードに入るようにリモートホストに要請する。
リモートホストがそのモードに入ることが可能であると返答すると、
そのモードが有効になる。
.Bl -tag -width Ar
.It Ic character
.Dv TELNET LINEMODE
オプションを無効にする。
また、リモート側が
.Dv LINEMODE
オプションを解釈できない場合は、
\*(Lqcharacter at a time\*(Lq モードに入る。
.It Ic line
.Dv TELNET LINEMODE
オプションを有効にする。
また、リモート側が
.Dv LINEMODE
オプションを解釈できない場合は、
\*(Lqold-line-by-line\*(Lq モードに入ろうとする。
.It Ic isig Pq Ic \-isig 
.Dv LINEMODE
オプションの
.Dv TRAPSIG
モードを有効 (無効) にしようとする。
.Dv LINEMODE
オプションが有効になっている必要がある。
.It Ic edit Pq Ic \-edit 
.Dv LINEMODE
オプションの
.Dv EDIT
モードを有効 (無効) にしようとする。
.Dv LINEMODE
オプションが有効になっている必要がある。
.It Ic softtabs Pq Ic \-softtabs 
.Dv LINEMODE
オプションの
.Dv SOFT_TAB
モードを有効 (無効) にしようとする。
.Dv LINEMODE
オプションが有効になっている必要がある。
.It Ic litecho Pq Ic \-litecho 
.Dv LINEMODE
オプションの
.Dv LIT_ECHO
モードを有効 (無効) にしようとする。
.Dv LINEMODE
オプションが有効になっている必要がある。
.It Ic \&?
.Ic mode
コマンドのヘルプ情報を表示する。
.El
.It Xo
.Ic open Ar host
.Oo Op Fl l
.Ar user
.Oc Ns Oo Fl
.Ar port Oc
.Xc
指定したホストと接続をオープンする。
ポート番号が指定されない場合、
.Nm telnet
は
.Tn telnet
デーモンと標準ポート (23) で接続しようとする。
ホストの指定はホスト名でも IP アドレスでもよい。
.Fl l
オプションは、コマンドラインでの
.Fl l
オプションと同様に、
リモートシステムに渡されるユーザー名を指定するために使われる。
.Pp
.Nm telnet
ポート以外のポートと接続する場合、
.Nm telnet
は
.Tn telnet
プロトコルによるネゴシエーションを試みない。
これにより
.Tn telnet
プロトコルをサポートしていないサービスと
失敗することなく接続することができる。
ポート番号の前にダッシュを置くことにより、
プロトコルネゴシエーションを強制的に行わせることができる。
.Pp
接続が確立した後、ユーザーの
.Pa .telnetrc
ファイルの中でリモートホストと関連づけられている
全てのコマンドが実行される。
.Pp
\&.telnetrc ファイルのフォーマットは次のようになっている。
# で始まる行と空行は無視される。
ファイルのそれ以外の部分には、ホスト名とそのホストに対して使われる
.Nm telnet
コマンドのシーケンスが含まれる。
コマンドは 1 行に 1 つで、空白でインデントされていなければならない
(訳注: 行頭には空白が必要)。
空白で始まっていない行はホスト名として解釈される。
名前がファイル中で指定されているホストに接続すると、
そのホストに関連付けられたコマンドが実行される。
.It Ic quit
全ての開いているセッションを閉じて
.Nm telnet
を終了する。
コマンドモードで end of file 条件を入力した場合も、
これと同じ動作が行われる。
.It Ic send Ar arguments 
1 つ以上の
.Tn telnet
プロトコルシーケンスをリモートホストに送る。
以下はここで指定できるコード (引き数) である
(1 つのコマンドの中で複数のコードが指定できる)。
.Pp
.Bl -tag -width escape
.It Ic abort
.Dv TELNET ABORT
(Abort Processes) シーケンスを送る。
.It Ic ao
.Dv TELNET AO
(Abort Output) シーケンスを送る。
リモートシステムに対して、
リモートシステム
.Em から
ユーザー端末
.Em への
出力をフラッシュさせる。
.It Ic ayt
.Dv TELNET AYT
(Are You There?) シーケンスを送る。
リモートシステムはそれに応答するかしないかを選択できる。
.It Ic brk
.Dv TELNET BRK
(Break) シーケンスを送る。
リモートシステムにとって重要な意味を持つ場合もある。
.It Ic ec
.Dv TELNET EC
(Erase Character) シーケンスを送る。
最後に入力された文字をリモートシステムに消去させる。
.It Ic el
.Dv TELNET EL
(Erase Line) シーケンスを送る。
現在入力中の行をリモートシステムに消去させる。
.It Ic eof
.Dv TELNET EOF
(End Of File) シーケンスを送る。
.It Ic eor
.Dv TELNET EOR
(End of Record) シーケンスを送る。
.It Ic escape
現在の
.Nm telnet
エスケープ文字を送る。
.It Ic ga
.Dv TELNET GA
(Go Ahead) シーケンスを送る。
リモートホストにとってたぶん意味がない。
.It Ic getstatus
リモート側が
.Dv TELNET STATUS
コマンドをサポートしている場合、
.Ic getstatus
はサーバに現在のオプションの状態を送るように要求する。
.It Ic ip
.Dv TELNET IP
(Interrupt Process) シーケンスを送る。
現在実行しているプロセスをリモートホストに中止させる。
.It Ic nop
.Dv TELNET NOP
(No Operation) シーケンスを送る。
.It Ic susp
.Dv TELNET SUSP
(Suspend Process) シーケンスを送る。
.It Ic synch
.Dv TELNET SYNCH
シーケンスを送る。
このシーケンスは、それまでに打ち込まれた入力
(ただし、まだ読まれていないもの) をリモートシステムに破棄させる。
このシーケンスは
.Tn TCP
緊急データとして送られる
(リモートシステムが
.Bx 4.2
の場合は動作しないかもしれない 
--
動作しない場合は小文字 \*(Lqr\*(Rq が端末にエコーされる)。
.It Ic do Ar cmd
.It Ic dont Ar cmd
.It Ic will Ar cmd
.It Ic wont Ar cmd
.Dv TELNET DO
.Ar cmd
シーケンスを送る。
コマンド
.Ar cmd
は、0 から 255 までの 10 進数、
または特定の
.Dv TELNET
コマンドの対するシンボル名である。
コマンド
.Ar cmd
には、既知のシンボル名を含むヘルプ情報を表示するための
.Ic help
または
.Ic \&?
を指定することもできる。
.It Ic \&?
.Ic send
コマンドのヘルプ情報を表示する。
.El
.It Ic set Ar argument value 
.It Ic unset Ar argument value 
.Ic set
コマンドは
.Nm telnet
変数のうちの 1 つを特定の値、または
.Dv TRUE
に設定する。
特別な値
.Ic off
は変数に関連付けられた機能を無効にする。
これは
.Ic unset
コマンドを使った場合と同じである。
.Ic unset
コマンドは指定された変数を無効、または
.Dv FALSE
に設定する。
変数の値は
.Ic display
コマンドによって調べることができる。
TRUE と FALSE の切替えでなく、値が set や unset される変数を以下に列挙する。
また、
.Ic toggle
コマンドによって値が切替えられる変数は、
明示的に set や unset を使って設定してもよい。
.Bl -tag -width escape
.It Ic ayt
.Tn telnet
が localchars モードの場合、または
.Dv LINEMODE
が有効になっている場合に、ステータス文字が入力されると、
.Dv TELNET AYT
シーケンスがリモートホストに送られる。
"Are You There" 文字の初期値は、端末のステータス文字である。
.It Ic echo
これは、\*(Lqline by line\*(Rq モード時に入力された値を
(通常の処理として) ローカルでエコーするのか、
(パスワード入力などのために) エコーを抑制するのかを
切替える値である (初期値は \*(Lq^E\*(Rq である)。
.It Ic eof
.Nm telnet
が
.Dv LINEMODE
や \*(Lqold line by line\*(Rq モードで動作している場合、
行頭の文字としてこの文字を入力すると、
この文字がリモートシステムに送られる。
eof 文字の初期値としては、端末の
.Ic eof
文字が使われる。
.It Ic erase
.Nm telnet
が
.Ic localchars
モード (以下の
.Ic toggle
.Ic localchars
を参照) であり、
.Sy かつ
\*(Lqcharacter at a time\*(Rq モードで動作している場合、
この文字が入力されると、
.Dv TELNET EC
シーケンス (上記の
.Ic send
.Ic ec
を参照) がリモートシステムに送られる。
erase 文字の初期値としては、端末の
.Ic erase
文字が使われる。
.It Ic escape
これは、(リモートシステムと接続された場合に)
.Nm telnet
コマンドラインモードに入るための
.Nm telnet
エスケープ文字である
(初期値は \*(Lq^[\*(Rq である)。
.It Ic flushoutput
.Nm telnet
が
.Ic localchars
モード (以下の
.Ic toggle
.Ic localchars
を参照) の場合に
.Ic flushoutput
文字が入力されると、
.Dv TELNET AO
シーケンス (上記の
.Ic send
.Ic ao
を参照) がリモートホストに送られる。
flushoutput 文字の初期値としては、端末の
.Ic flush
文字が使われる。
.It Ic forw1
.It Ic forw2
.Nm telnet
が
.Dv LINEMODE
モードで動作している場合に、この 2 文字が入力されると、
行の一部 (この 2 文字の間の部分) がリモートシステムに送られる。
この 2 つのフォワード文字の初期値としては、
端末の eol と eol2 が使われる。
.It Ic interrupt
.Nm telnet
が
.Ic localchars
モード (以下の
.Ic toggle
.Ic localchars
を参照) の場合に
.Ic interrupt
文字が入力されると
.Dv TELNET IP
シーケンス (上記の
.Ic send
.Ic ip
を参照) がリモートホストに送られる。
interrupt 文字の初期値としては、端末の
.Ic intr
文字が使われる。
.It Ic kill
.Nm telnet
が
.Ic localchars
モード (以下の
.Ic toggle
.Ic localchars
を参照) であり、
.Ic かつ
\*(Lqcharacter at a time\*(Rq モードで動作している場合に、
この文字が入力されると、
.Dv TELNET EL
シーケンス (上記の
.Ic send
.Ic el
を参照) がリモートシステムに送られる。
kill 文字の初期値としては、端末の
.Ic kill
文字が使われる。
.It Ic lnext
.Nm telnet
が
.Dv LINEMODE
または \*(Lqold line by line\*(Lq モードで動作している場合、
この文字が端末の
.Ic lnext
文字として使われる。
lnext 文字の初期値としては、端末の
.Ic lnext
文字が使われる。
.It Ic quit
.Nm telnet
が
.Ic localchars
モード (以下の
.Ic toggle
.Ic localchars
を参照) の場合に
.Ic quit
文字が入力されると、
.Dv TELNET BRK
シーケンス (上記の
.Ic send
.Ic brk
を参照) がリモートホストに送られる。
quit 文字の初期値としては、端末の
.Ic quit
文字が使われる。
.It Ic reprint
.Nm telnet
が
.Dv LINEMODE
または \*(Lqold line by line\*(Lq モードで動作している場合、
この文字が端末の
.Ic reprint
文字として使われる。
reprint 文字の初期値としては、端末の
.Ic reprint
文字が使われる。
.It Ic rlogin
これは rlogin モードのエスケープ文字である。
この文字を設定すると、
コマンドラインオプション
.Fl r
と同様に rlogin モードが有効になる (件の部分も参照のこと)。
.It Ic start
.Dv TELNET TOGGLE-FLOW-CONTROL
オプションが有効になっている場合、
この文字が端末の
.Ic start
文字が使われる。
start 文字の初期値としては、端末の
.Ic start
文字が使われる。
.It Ic stop
.Dv TELNET TOGGLE-FLOW-CONTROL
オプションが有効になっている場合、
この文字が端末の
.Ic stop
文字として使われる。
stop 文字の初期値としては、端末の
.Ic stop
文字が使われる。
.It Ic susp
.Nm telnet
が
.Ic localchars
モードの場合、または
.Dv LINEMODE
が有効になっている場合に、
.Ic suspend
文字が入力されると、
.Dv TELNET SUSP
シーケンス (上記の
.Ic send
.Ic susp
を参照) がリモートホストに送られる。
suspend 文字の初期値としては、端末の
.Ic suspend
文字が使われる。
.It Ic tracefile
.Ic netdata
が
.Dv TRUE
の場合、または
.Ic option
によるトレースが
.Dv TRUE
の場合、このファイルに出力が書き出される。
この値が
.Dq Fl
に設定された場合、トレース情報は標準出力に書き出される
(これがデフォルトである)。
.It Ic worderase
.Nm telnet
が
.Dv LINEMODE
または \*(Lqold line by line\*(Lq モードで動作している場合、
この文字は端末の
.Ic worderase
文字として使われる。
worderase 文字の初期値としては、端末の
.Ic worderase
文字が使われる。
.It Ic \&?
.Ic set
.Pq Ic unset
で指定可能なコマンドを表示する。
.El
.It Ic slc Ar state 
.Ic slc
(Set Local Characters) コマンドは、
.Dv TELNET LINEMODE
オプションが有効な場合に、特殊文字の状態を設定・変更するために使われる。
特殊文字は、
.Ns ( Ic ip
や
.Ic quit
といった)
.Tn TELNET
コマンドシーケンスや
.Ns ( Ic erase
や
.Ic kill
といった) 行編集文字にマップされる文字である。
デフォルトでは、ローカルの特殊文字がエクスポートされる。
.Bl -tag -width Fl
.It Ic check
現在の特殊文字の設定を確認する。
リモート側に現在の全ての特殊文字の設定を要求し、
ローカル側と矛盾がある場合は、ローカル側の値をリモートの値に変更する。
.It Ic export
特殊文字をローカルのデフォルトになっている文字に変更する。
ローカルのデフォルト文字は、
.Nm telnet
が起動したときのローカル端末のデフォルト文字である。
.It Ic import
特殊文字をリモートのデフォルトになっている文字に変更する。
リモートのデフォルト文字は、
.Tn TELNET
接続が確立したときのリモートシステムのデフォルト文字である。
.It Ic \&?
.Ic slc
コマンドのヘルプ情報を出力する。
.El
.It Ic status
.Nm telnet
の現在の状態を表示する。
この表示には現在のモードだけではなく、
もし可能ならば、リモートホストの名前も含まれる。
.It Ic toggle Ar arguments ... 
.Nm telnet
のイベントしての応答を制御するフラグを
.Ns ( Dv TRUE
と
.Dv FALSE
の間で) 切替える。
これらのフラグは、
.Ic set
と
.Ic unset
コマンドを用いて、
.Dv TRUE
または
.Dv FALSE
に明示的に設定してもよい。
1 つ以上のフラグを 1 度に切替えてもよい。
フラグの状態は
.Ic display
コマンドで調べることができる。
指定可能なフラグは以下の通りである。
.Bl -tag -width Ar
.It Ic authdebug
認証コードのデバッグを有効にする。
このフラグは認証のサポートが有効である場合にのみ存在する。
.It Ic autoflush
.Ic autoflush
と
.Ic localchars
がともに
.Dv TRUE
で、
.Ic ao
文字または
.Ic quit
文字が認識された場合 (さらにこれらの文字が
.Tn TELNET
シーケンスに変換された場合。詳細は
.Ic set
を参照)、
.Tn TELNET
シーケンスが処理されたことが
.Ns ( Dv TELNET TIMING MARK
オプションによって)
リモートシステムに認識されるまで、
.Nm telnet
はユーザーの端末にデータを何も表示しないようにする。
端末上のユーザーが "stty noflsh" を実行していない場合、
この切替えの初期値は
.Dv TRUE
である。
実行していた場合は
.Dv FALSE
である
.Ns ( Xr stty  1
を参照すること)。
.It Ic autodecrypt
.Dv TELNET ENCRYPT
がネゴシエートされているとき、デフォルトではデータストリームの
実際の暗号化 (復号化) は自動的には始まらない。
autoencrypt (autodecrypt) コマンドは、
出力 (入力) ストリームの暗号化ができるだけ早く有効になるように命令する。
.Pp
このフラグは暗号化のサポートが有効である場合にのみ存在する。
.It Ic autologin
リモート側が
.Dv TELNET AUTHENTICATION
オプションをサポートしている場合、
.Tn telnet
は自動認証を行うために、そのオプションを使う。
.Dv TELNET AUTHENTICATION
オプションがサポートされていない場合、
ユーザーのログイン名は
.Dv TELNET ENVIRON
オプションを使って渡される。
このフラグを設定するのは、コマンドライン上で
.Ic open
コマンドに
.Ar a
オプションを指定するのと同じである。
.It Ic autosynch
.Ic autosynch
と
.Ic localchars
がともに
.Dv TRUE
の場合に、
.Ic intr
文字または
.Ic quit
文字
.Ns ( Ic intr
文字と
.Ic quit
文字の説明は上記の
.Ic set
を参照すること) が入力されると、
結果として送られる
.Tn telnet
シーケンスの後には
.Dv TELNET SYNCH
シーケンスが続く。
両方の
.Tn telnet
シーケンスのが読み込まれて作用するまでには、
この手続きにより、
リモートホストに対してそれまでの全ての入力を捨て始めるように
.Ic させるべきである
。
このトグルの初期値は
.Dv FALSE
である。
.It Ic binary
入力と出力の両方に対して、
.Dv TELNET BINARY
オプションを有効・無効にする。
.It Ic inbinary
入力に対して
.Dv TELNET BINARY
オプションを有効・無効にする。
.It Ic outbinary
出力に対して
.Dv TELNET BINARY
オプションを有効・無効にする。
.It Ic crlf
これが
.Dv TRUE
の場合、キャリッジリターンは
.Li <CR><LF>
として送られる。
これが
.Dv FALSE
の場合、キャリッジリターンは
.Li <CR><NUL>
として送られる。
このトグルの初期値は
.Dv FALSE
である。
.It Ic crmod
キャリッジリターンモードを切替える。
このモードが有効になっていると、
リモートホストから受信した大部分のキャリッジリターンは、
キャリッジリターンとラインフィードに変換される。
このモードは、ユーザーが入力した文字に対しては作用せず、
リモートホストから受信した文字についてのみ作用する。
このモードは、リモートホストがキャリッジリターンしか送らず、
ラインフィードしない場合を除いて、それほど役に立たない。
このトグルの初期値は
.Dv FALSE
である。
.It Ic debug
ソケットレベルデバッグの有効・無効を切替える
.Ns ( Ic スーパーユーザー
のみ使える)。
このトグルの初期値は
.Dv FALSE
である。
.It Ic encdebug
暗号化コードに対するデバッグ情報を有効にする。
このフラグは暗号化がサポートされている場合にのみ存在する。
.It Ic localchars
これが
.Dv TRUE
の場合、
.Ic flush  ,
.Ic interrupt ,
.Ic quit  ,
.Ic erase ,
.Ic kill
文字 (上記の
.Ic set
を参照) はローカルで認識され、(うまくいけば) 適切な
.Tn TELNET
コントロールシーケンス
(それぞれ
.Ic ao  ,
.Ic ip ,
.Ic brk  ,
.Ic ec ,
.Ic el  ;
上記の
.Ic send
を参照) に変換される。
\*(Lqold line by line\*(Rq モードでの初期値は
.Dv TRUE
である。
\*(Lqcharacter at a time\*(Rq モードでの初期値は
.Dv FALSE
である。
.Dv LINEMODE
オプションが有効になっている場合、
.Ic localchars
の値は無視され、常に
.Dv TRUE
であると仮定される。
.Dv LINEMODE
が有効になったことがある場合、
.Ic quit
は
.Ic abort
として送られ、
.Ic eof and
.B suspend
は
.Ic eof and
.Ic susp
として送られる。
(上記の
.Ic send
を参照)。
.It Ic netdata
(16 進数フォーマットによる) 全てのネットワークデータの表示を切替える。
このトグルの初期値は
.Dv FALSE
である。
.It Ic options
.Ns ( Tn telnet
オプションを処理する際の)
内部の
.Nm telnet
プロトコル処理の表示・非表示を切替える。
このトグルの初期値は
.Dv FALSE
である。
.It Ic prettydump
.Ic netdata
が有効になっている場合に、
.Ic prettydump
が有効になっていると、
.Ic netdata
コマンドからの出力はユーザーにとって一層読みやすい形式にフォーマットされる。
出力される文字の間に空白が入れられ、
.Tn telnet
エスケープシーケンスの前には、探しやすいように '*' が置かれる。
.It Ic skiprc
skiprc が
.Dv TRUE
の場合、
.Tn telnet
は
.Pa \&.telnetrc
ファイルを読まない。
このトグルの初期値は
.Dv FALSE
である。
.It Ic termdata
(16 進数フォーマットによる) 全ての端末データの表示を切替える。
このトグルの初期値は
.Dv FALSE
である。
.It Ic verbose_encrypt
.Ic verbose_encrypt
が
.Dv TRUE
の場合、
.Tn TELNET
は暗号化が有効か無効かのメッセージを毎回表示する。
このトグルの初期値は
.Dv FALSE
である。
このフラグは暗号化がサポートされている場合にのみ存在する。
.It Ic \&?
.Ic toggle
コマンドに指定可能な引き数を表示する。
.El
.It Ic z
.Nm telnet
をサスペンドする。
このコマンドはユーザーが
.Xr csh  1
を使っている場合にのみ動作する。
.It Ic \&! Op Ar command 
ローカルシステムのサブシェルで、コマンドを 1 つ実行する。
.Ic command
が省略されると、サブシェルが対話モードで起動される。
.It Ic \&? Op Ar command 
ヘルプを表示する。
引き数がない場合、
.Nm telnet
はヘルプの一覧を表示する。
コマンドが指定された場合、
.Nm telnet
はそのコマンドのヘルプ情報を表示する。
.El
.Sh 環境変数
.Nm telnet
は少なくとも環境変数
.Ev HOME ,
.Ev SHELL ,
.Ev DISPLAY ,
.Ev TERM
を使う。
他の環境変数は
.Dv TELNET ENVIRON
オプションを使ってリモート側に送られる。
.Sh ファイル
.Bl -tag -width ~/.telnetrc -compact
.It Pa ~/.telnetrc
ユーザーがカスタマイズできる telnet 起動時の値。
.El
.Sh 履歴
.Nm telnet
コマンドは
.Bx 4.2
で登場した。
.Sh 注意
.Pp
\*(Lqold line by line\*(Rq モードの場合、
エコーを手動でオフにしなければならないリモートシステムもある。
.Pp
\*(Lqold line by line\*(Rq モードや
.Dv LINEMODE
では、端末の
.Ic eof
は、それが行頭の文字である場合にのみ認識される
(さらにリモートシステムに送られる)。
.Sh バグ
ソースコードが分かりやすくない。
.Sh 翻訳者謝辞
この man ページの翻訳にあたり、
FreeBSD jpman project <http://www.jp.freebsd.org/man-jp/>
による翻訳を参考にさせていただいた。


