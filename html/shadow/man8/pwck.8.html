
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of PWCK</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>PWCK</H1>
Section: Maintenance Commands (8)<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/shadow/release/man8/pwck.8">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

pwck - パスワードファイルが正しいかどうか検査する
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>pwck</B> [<B>-sr</B>] [<I>passwd</I> <I>shadow</I>]
<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

<B>pwck</B> コマンドはシステムの認証情報が正しいかどうか検査する。
<I>/etc/passwd</I> と <I>/etc/shadow</I>
各ファイルのすべてのエントリに対し、
各フィールドの書式が正しいか、
そのデータが有効なものかどうかを検証する。
書式が正しくないエントリや、
修正不能な誤りを含むエントリは削除するようプロンプトを出す。
<P>

各々のエントリに対して
<P>

- フィールドの数が正しいか
<BR>

- ユーザ名に重複がないか
<BR>

- ユーザやグループの ID が正しいか
<BR>

- プライマリグループが正しいか
<BR>

- ホームディレクトリが正しいか
<BR>

- ログインシェルが正しいか

<P>
がチェックされる。
<P>

フィールドの数が間違っていたり、
グループ名が重複しているのは致命的なエラーである。
フィールドの数が正しくない場合、
ユーザーはそのエントリ行を削除するよう促される。
削除に同意しなかった場合は、それ以降のチェックは行われない。
重複したグループ名があった場合も削除を促されるが、
この場合は削除しなくてもそれ以降のチェックは続行される。
他のすべてのエラーに対しては警告がなされる。
<B>usermod</B> コマンドを実行してそのエラーを修正すると良いだろう。
<P>

<I>/etc/passwd</I> ファイルを操作するコマンドは、
壊れたエントリや重複したエントリを変更できない。
そのような際に誤りのあるエントリを削除するには
<B>pwck</B> を用いるとよい。
<A NAME="lbAE">&nbsp;</A>
<H2>オプション</H2>

デフォルトでは <B>pwck</B> は <I>/etc/passwd</I> ファイルと
<I>/etc/shadow</I> に対して動作する。
<I>passwd</I> パラメータと <I>shadow</I> パラメータを用いて、
別のファイルを選択することもできる。
さらに <B>-r</B> フラグを指定すれば、
リードオンリーモードでコマンドを実行することもできる。
この場合、変更を行うかどうかはユーザへ問い合わされず、
自動的に <B>no</B> と回答される。
<B>pwck</B>

は
<I>/etc/passwd</I>

と
<I>/etc/shadow</I>

のエントリを UID でソートすることもできる。
ソートモードで動作させるには <B>-s</B> フラグを与える。
この場合チェックは行われず、単にソートするだけである。
<A NAME="lbAF">&nbsp;</A>
<H2>ファイル</H2>

/etc/passwd - ユーザーアカウント情報
<BR>

/etc/shadow - 暗号化されたパスワード情報
<BR>

/etc/group - グループ情報
<A NAME="lbAG">&nbsp;</A>
<H2>関連項目</H2>

<B><A HREF="../../LDP_man-pages/man5/group.5.html">group</A></B>(5),

<B><A HREF="../man5/passwd.5.html">passwd</A></B>(5),

<B><A HREF="../man5/shadow.5.html">shadow</A></B>(5),

<B><A HREF="../man8/usermod.8.html">usermod</A></B>(8)

<A NAME="lbAH">&nbsp;</A>
<H2>返り値</H2>

<B>pwck</B> コマンドは以下の値を返して終了する:
<DL COMPACT>
<DT>0<DD>
成功
<DT>1<DD>
構文エラー
<DT>2<DD>
誤ったパスワードエントリーが存在する
<DT>3<DD>
パスワードファイルをオープンできない
<DT>4<DD>
パスワードファイルをロックできない
<DT>5<DD>
パスワードファイルを更新出来ない
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>著者</H2>

Julianne Frances Haugh (<A HREF="mailto:jockgrrl@ix.netcom.com">jockgrrl@ix.netcom.com</A>)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">オプション</A><DD>
<DT><A HREF="#lbAF">ファイル</A><DD>
<DT><A HREF="#lbAG">関連項目</A><DD>
<DT><A HREF="#lbAH">返り値</A><DD>
<DT><A HREF="#lbAI">著者</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:45 GMT, December 05, 2022
</BODY>
</HTML>
