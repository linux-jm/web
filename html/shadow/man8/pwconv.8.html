
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of PWCONV</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>PWCONV</H1>
Section: Maintenance Commands (8)<BR>Updated: 26 Sep 1997<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/shadow/release/man8/pwconv.8">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

pwconv, pwunconv, grpconv, grpunconv - パスワード・グループの shadow 化と、通常ファイルへの逆変換
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>pwconv</B>

<BR>

<B>pwunconv</B>

<BR>

<B>grpconv</B>

<BR>

<B>grpunconv</B>

<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

これら 4 つのプログラムは、
通常のパスワードファイル・グループファイルと、
shadow 化されたパスワードファイル・グループファイルである
<I>/etc/passwd</I>, <I>/etc/group</I>, <I>/etc/shadow</I>, <I>/etc/gshadow</I>

を操作する。
<P>
<B>pwconv</B> は <I>passwd</I> から <I>shadow</I> を作成する
(すでに存在する場合は <I>shadow</I> の情報も用いる)。
<B>pwunconv</B> は <I>passwd</I> と <I>shadow</I> から
<I>passwd</I> を作成し、<I>shadow</I> を削除する。
<B>grpconv</B> は <I>group</I> から <I>gshadow</I> を作成する
(すでに存在する場合は <I>gshadow</I> の情報も用いる)。
<B>grpunconv</B> は <I>group</I> と <I>gshadow</I> から
<I>group</I> を作成し、<I>gshadow</I> を削除する。
<P>
各プログラムは変換前に、必要なロックを要求する。
<P>
<B>pwconv </B>

と
<B>grpconv</B>

とは以下の点で類似している。
まず、shadow 化ファイルにあるエントリのうち、
通常ファイルにないものは、削除される。
また、shadow 化ファイルにあるエントリのうち、
通常ファイルでパスワードが `x' になっていないものは、更新される。
最後に、通常ファイルに書かれたパスワードは `x' に置き換えられる。
これらのプログラムは、初めて変換を行うときにも、
また通常のファイルを手動で編集した際に、
shadow 化ファイルを更新するときにも利用できる。
<P>
<I>/etc/shadow</I>

に新しいエントリを追加するとき、
<B>pwconv</B>

は
<I>/etc/login.defs</I>

の
<B>PASS_MIN_DAYS</B>, <B>PASS_MAX_DAYS</B>, <B>PASS_WARN_AGE</B>

の値を使う。
<P>
同じように、
<B>pwunconv</B>

と
<B>grpunconv</B>

とは以下の点で類似している。
通常ファイルのパスワードは、
shadow 化ファイルのもので更新される。
通常ファイルにあるエントリは、
shadow 化ファイルにはそのエントリがなくても、
そのまま置かれ続ける。
最後に、 shadow 化ファイルは削除される。
<P>
パスワードの有効期限情報の一部は、
<B>pwunconv </B>

によって失われる。変換できるものは変換される。
<A NAME="lbAE">&nbsp;</A>
<H2>バグ</H2>

(不正なエントリや重複したエントリといった)
エラーがパスワードファイルやグループファイルにあると、
プログラムは永遠にループしたり、おかしな形で失敗するかもしれない。
shadow パスワード・グループへの変換や
shadow 化ファイルからの逆変換を行う前に、
<B>pwck</B> と <B>grpck</B> を実行してエラーを修正すること。
<A NAME="lbAF">&nbsp;</A>
<H2>関連項目</H2>

<B><A HREF="../man5/login.defs.5.html">login.defs</A></B>(5),

<B><A HREF="../man8/grpck.8.html">grpck</A></B>(8),

<B><A HREF="../man8/pwck.8.html">pwck</A></B>(8)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">バグ</A><DD>
<DT><A HREF="#lbAF">関連項目</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:45 GMT, December 05, 2022
</BODY>
</HTML>
