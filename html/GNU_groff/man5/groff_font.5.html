
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of GROFF_FONT</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../contrib.css">
</HEAD>
<BODY>
<DIV ALIGN="right">
本ページは <A HREF="http://www.jp.freebsd.org/man-jp/">FreeBSD jpman project</A>
(man-jp@jp.FreeBSD.org) より寄贈いただきました。
</DIV>


<H1>GROFF_FONT</H1>
Section: File Formats (5)<BR>Updated: 6 August 2001<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/GNU_groff/contrib/man5/groff_font.5">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名称</H2>

groff_font - groff のデバイスとフォントを記述するファイルの書式
<A NAME="lbAC">&nbsp;</A>
<H2>解説</H2>

groff のフォントの書式は ditroff のフォントの書式に対し、
ほぼスーパセットになっています。
ditroff のフォントの書式とは異なり、
関連したバイナリ書式はありません。
<I>name</I>

というデバイス用のフォントファイルは
<B>dev</B><I>name</I>

というディレクトリに納められます。
ファイルには 2 つの種類があります: それは
<B>DESC</B>

と呼ばれるデバイス記述ファイルと、各フォント
<I>F</I>

ごとに存在する
<I>F</I>

と呼ばれるフォントファイルです。
これらはテキストファイルであり、関連したバイナリ書式の
ファイルはありません。
<A NAME="lbAD">&nbsp;</A>
<H3>DESC ファイルの書式</H3>

DESC ファイルは以下の形式の行を含むことができます:
<DL COMPACT>
<DT><B>res&nbsp;</B><I>n</I>

<DD>
1 インチあたりのマシン単位は
<I>n</I>

です。
<DT><B>hor&nbsp;</B><I>n</I>

<DD>
水平解像度は
<I>n</I>

マシン単位です。
<DT><B>vert&nbsp;</B><I>n</I>

<DD>
垂直解像度は
<I>n</I>

マシン単位です。
<DT><B>sizescale&nbsp;</B><I>n</I>

<DD>
ポイント数への倍率を指定します。デフォルトの値は 1 です。1
<I>スケールドポイント</I>

は、1
ポイント/<I>n</I>

と等しくなります。
<B>unitwidth</B>

コマンドと
<B>sizes</B>

コマンドへの引数はスケールドポイントで指定されます。
<DT><B>unitwidth&nbsp;</B><I>n</I>

<DD>
ポイントサイズが
<I>n</I>

スケールドポイントのフォントに対して、
フォントファイル毎の数量をマシン単位で与えます。
<DT><B>prepro&nbsp;</B><I>program</I>

<DD>
<I>program</I>

をプリプロセッサとして呼び出します。
<DT><B>postpro&nbsp;</B><I>program</I>

<DD>
<I>program</I>

をポストプロセッサとして使用します。
<DT><B>tcommand</B>

<DD>
ポストプロセッサが
<B>t</B>

と
<B>u</B>

の出力コマンドを扱えることを表します。
<DT><B>sizes&nbsp;</B><I>s1&nbsp;s2...sn&nbsp;</I><B>0</B>

<DD>
デバイスが
<I>s1</I>,

<I>s2</I>,...<I>sn</I>

スケールドポイントのフォントを持つことを表します。
大きさのリストは
<B>0</B>

で終らなければなりません。
各
<B>s</B><I>i</I>

は大きさの範囲
<I>m</I>-<I>n</I>

でも指定できます。
リストは複数行にわたることも可能です。
<DT><B>styles&nbsp;</B><I>S1&nbsp;S2...Sm</I>

<DD>
先頭
<I>m</I>

個のフォント位置が、スタイル
<I>S1...Sm</I>

に関連づけられます。
<DT><B>fonts&nbsp;</B><I>n&nbsp;F1&nbsp;F2&nbsp;F3...Fn</I>

<DD>
フォント
<I>F1...Fn</I>

がフォント位置
<I>m</I>+1,...,<I>m</I>+<I>n</I>

にマウントされます(
<I>m</I>

はスタイル数)。
このコマンドは複数行にわたることができます。
<B>0</B>

というフォント名を指定すると、
対応するフォント位置にはフォントはマウントされません。
<DT><B>family&nbsp;</B><I>fam</I>

<DD>
デフォルトのフォントファミリは
<I>fam</I>

です。
<DT><B>use_charnames_in_special</B>

<DD>
このコマンドは、スペシャルコマンドにおいては、
指定した文字を troff がエンコードすべきであることを指定します。
<DT><B>pass_filenames</B>

<DD>
troff がドライバに対して、処理すべきソースファイル名を伝えるリクエストです。
これは、次に示す別の tcommand にて実現されます:
<B>F</B>

<I>filename</I>

。
<DT><B>charset</B>

<DD>
この行とファイル内の以下に続く行はすべて無視されます。
これは下位互換性のために許されています。
<DT><B>print&nbsp;</B><I>program</I>

<DD>
<I>program</I>

を、印刷用のスプーラプログラムとして使用します。
これが存在しない場合、
<B>-l</B>

と
<B>-L</B>

の
<B>groff</B>

オプションが無視されます。
</DL>
<P>

res, unitwidth, fonts, sizes の行は必須です。
他のコマンドは
<B>troff</B>

には無視されますが、デバイスに関する任意の情報を DESC ファイルに
入れておくためにポストプロセッサにより使われるかもしれません。
<P>

次に示すのは廃れたキーワードであり、
<B>groff</B>

が認識するものの完全に無視するもののリストです:
<B>spare1</B>,

<B>spare2</B>,

<B>biggestfont</B>

。
<A NAME="lbAE">&nbsp;</A>
<H3>フォントファイルの書式</H3>

フォントファイルには 2 つのセクションがあります。
最初のセクションは空白で区切られた単語が並んだ一連の行からなります。
行の最初の単語はキーで、以降の単語はそのキーに対する値となります。
<DL COMPACT>
<DT><B>name&nbsp;</B><I>F</I>

<DD>
フォントの名前は
<I>F</I>

です。
<DT><B>spacewidth&nbsp;</B><I>n</I>

<DD>
空白の通常の幅は
<I>n</I>

です。
<DT><B>slant&nbsp;</B><I>n</I>

<DD>
フォントの文字が
<I>n</I>

度傾斜していることを表します (正の値は進行方向を意味します)。
<DT><B>ligatures&nbsp;</B><I>lig1&nbsp;lig2...lign&nbsp;</I>[<B>0</B><I></I>]

<DD>
文字
<I>lig1</I>,

<I>lig2</I>,...,<I>lign</I>

は合字 (リガチャ; ligature) です。合字には
<B>ff</B>,

<B>fi</B>,

<B>fl</B>,

<B>ffi</B>,

<B>ffl</B>

が使用可能です。
下位互換性のために、合字のリストは
<B>0</B>

で終ってもかまいません。
合字のリストは複数行にわたってはいけません。
<DT><B>special</B>

<DD>
フォントは
<I>スペシャル</I>

です。これは現在のフォントに存在しない文字が要求された場合、
マウントされた全てのスペシャルフォントが検索されることを示しています。
</DL>
<P>

他のコマンドは
<B>troff</B>

には無視されますが、フォントに関する任意の情報をフォントファイルに
入れておくためにポストプロセッサにより使われるかも知れません。
<P>

最初のセクションには
<B>#</B>

文字ではじまるコメントを、行末まで入れることができます。
<P>

次のセクションには 1 つか 2 つのサブセクションが含まれます。
サブセクション
<I>charset</I>

は必須で、サブセクション
<I>kernpairs</I>

はオプションです。
これらのサブセクションは任意の順番で書くことができます。
各サブセクションは、サブセクション名のみからなる行から始まります。
<P>

単語
<B>charset</B>

で charset サブセクションを開始します。
<B>charset</B>

行には一連の行が続きます。
各行は 1 文字の情報を与えます。
行は空白かタブにより区切られたいくつかのフィールドから成ります。
書式は
<DL COMPACT>
<DT><DD>
<I>name metrics type code</I>



[<I>entity_name</I>]

[<B>--</B>

<I>comment</I>]

</DL>
<P>

で、
<I>name</I>

は文字を識別します:
<I>name</I>

が単一の文字
<I>c</I>

ならば、それは groff の入力文字
<I>c</I>

を表します。
<B>\</B><I>c</I>

という形式で c が単一の文字なら、groff の入力文字
<B>\</B><I>c</I>

を表します。それ以外は groff の入力文字
<B>\[</B><I>name</I><B>]</B>

を表します (2 文字の
<I>xx</I>

だとすると、
<B>\(</B><I>xx</I>

として入力されます)。
groff は 8 ビット文字に対応していますが、いくつかのユーティリティでは
8 ビット文字を扱うのが困難です。
このような理由から、文字コードが
<I>n</I>

である単一の文字と等価な
<B>char</B><I>n</I>

という表記法が存在します。
例えば、
<B>char163</B>

は ISO Latin-1 で英国ポンド記号を表す文字コード 163 の文字と等価です。
<B>---</B>

という name は特別で、その文字に名前が無いことを示します。
そのような文字は
<B>troff</B>

中でエスケープシーケンス
<B>\N</B>

によってのみ使われます。
<P>

<I>type</I>

フィールドは文字の種類を示します:
<DL COMPACT>
<DT>1<DD>
は descender (ベースラインより下にはみ出した部分) を持つ
文字であることを表します。例えば p があてはまります。
<DT>2<DD>
は ascender (x の高さより上に出る部分) を持つ文字であることを表します。
例えば b があてはまります。
<DT>3<DD>
は ascender と descender の両方を持つ文字であることを表します。
例えば ( があてはまります。
</DL>
<P>

<I>code</I>

フィールドはポストプロセッサが文字を印字するために使うコードを示します。
<B>\N</B>

というエスケープシーケンスを用いたこのコードを使って、groff に文字を
入力することもできます。
code はどんな整数でもかまいません。
<B>0</B>

から始まると、8 進数として扱われ、
<B>0x</B>

や
<B>0X</B>

で始まると 16 進数として扱われます。
<P>

<I>entity_name</I>

フィールドは、グリフを識別する ASCII 文字列を与えます。
このグリフは、後処理を行うプログラムが文字の印刷に使用します。
このフィールドは省略可能であり、
html ドライバが文字集合をエンコード可能とするために導入されました。
例えば、文字 `\[Po]' は、html 4.0 では `&amp;pound;' と表現されます。
<P>

行の code フィールド以降と、`--' の後ろは、すべて無視されます。
<P>

<I>metrics</I>

フィールドの形式はこのようになります:
<DL COMPACT>
<DT><DD>
<I>width</I>[<B>,</B><I>height</I>[<B>,</B><I>depth</I>[<B>,</B><I>italic_correction</I>[<B>,</B><I>left_italic_correction</I>[<B>,</B><I>subscript_correction</I>]]]]]

</DL>
<P>

サブフィールド間には空白を入れてはいけません。
サブフィールドが存在しない場合は 0 として扱われます。
サブフィールドは全て 10 進数の整数で指定されます。
対応するバイナリフォーマットが存在しないので、
ditroff のようにこれらの値を
<B>char</B>

型変数の範囲に合わせるという必要はありません。
サブフィールド
<I>width</I>

では文字の幅を指定します。
サブフィールド
<I>height</I>

では文字の高さを指定します (上が正)。
文字がベースラインよりも上にいかない場合、負の高さを持つとするのではなく
高さが 0 であるとします。
サブフィールド
<I>depth</I>

では文字の深さを指定します。これはベースラインから文字の一番下までの
長さです (下が正)。
文字がベースラインより下に出ていない場合、負の深さを持つとするのではなく
深さが 0 であるとします。
サブフィールド
<I>italic_correction</I>

では直後にローマンフォントの文字が続く時に、文字の後に加えられる空白の
量を指定します。
サブフィールド
<I>left_italic_correction</I>

では直前にローマンフォントの文字がある時に、文字の前に加えられる空白の
量を指定します。
サブフィールド
<I>subscript_correction</I>

では添字 (subscript) を加える際に文字の後に加えられる空白の量を
指定します。
これはイタリック補正 (上記の italic_correction) よりは少なくなければ
なりません。
<P>

charset セクション内では、以下のような書式の行も可能です
<DL COMPACT>
<DT><DD>
<I>name </I><B>&quot;</B>

</DL>
<P>

これは
<I>name</I>

が前の行で言及した文字の別名であることを表します。
<P>

kernpairs セクションは
<B>kernpairs</B>

という単語から始まります。このセクションは以下のような書式の
行からなります:
<DL COMPACT>
<DT><DD>
<I>c1 c2 n</I>

</DL>
<P>

文字
<I>c1</I>

が文字
<I>c2</I>

の次に現れる時には、それらの間の空白に
<I>n</I>

を加えることを意味します。
kernpairs セクションのほとんどのエントリは
<I>n</I>

に負の値を持つことになります。
<A NAME="lbAF">&nbsp;</A>
<H2>関連ファイル</H2>


u+3n<DL COMPACT>
<DT>
<DD>


<B>/usr/share/groff_font/dev</B><I>name</I><B>/DESC</B>

デバイス
<I>name</I>

用のデバイス記述ファイル
<DT><B>/usr/share/groff_font/dev</B><I>name</I><B>/</B><I>F</I>

<DD>
デバイス
<I>name</I>

のフォント
<I>F</I>

用のフォントファイル
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>関連項目</H2>

<B><A HREF="../man5/groff_out.5.html">groff_out</A></B>(5),

<B><A HREF="../man1/troff.1.html">troff</A></B>(1).




<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名称</A><DD>
<DT><A HREF="#lbAC">解説</A><DD>
<DL>
<DT><A HREF="#lbAD">DESC ファイルの書式</A><DD>
<DT><A HREF="#lbAE">フォントファイルの書式</A><DD>
</DL>
<DT><A HREF="#lbAF">関連ファイル</A><DD>
<DT><A HREF="#lbAG">関連項目</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:24 GMT, December 05, 2022
</BODY>
</HTML>
