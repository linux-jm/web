
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of SED</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>SED</H1>
Section: ユーザーコマンド (1)<BR>Updated: 2020/01<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/GNU_sed/release/man1/sed.1">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

sed - テキストのフィルタリング、変換用のストリームエディター
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>sed</B> [<I>OPTION</I>]... <I>{script-only-if-no-other-script} </I>[<I>input-file</I>]...
<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>



<I>sed</I> はストリームエディターです。ストリームエディターは、入力ストリーム (ファイルまたはパイプラインからの入力)
に対して基本的なテキスト変換を行うために用いられます。<I>sed</I> は 編集スクリプトを使える (<I>ed</I> のような) エディターと
いろいろな面で似ていますが、<I>sed</I> は入力に対して 1 パスだけで動作するので、より効率的です。また <I>sed</I>
はパイプラインのテキストに対してフィルター動作を行うことができ、この点は他のタイプのエディターとはっきり違います。
<DL COMPACT>
<DT>
<B>-n</B>, <B>--quiet</B>, <B>--silent</B>
<DT><DD>
パターンスペースの自動出力を抑制します
<DT>
<B>--debug</B>
<DT><DD>
プログラム実行状況を表示します
<DT>
<B>-e</B> script, <B>--expression</B>=<I>script</I>
<DT><DD>
実行するコマンドとして <I>script</I> を追加します
<DT>
<B>-f</B> script-file, <B>--file</B>=<I>script-file</I>
<DT><DD>
実行するコマンドとして <I>script-file</I> の内容を追加します
<DT>
<B>--follow-symlinks</B>
<DT><DD>
インプレース処理においてシンボリックリンクをたどります
<DT>
<B>-i[SUFFIX]</B>, <B>--in-place</B>[=<I>SUFFIX</I>]
<DT><DD>
ファイルをインプレース処理で編集します (SUFFIX 指定時はバックアップを取ります)
<DT>
<B>-l</B> N, <B>--line-length</B>=<I>N</I>
<DT><DD>
`l' コマンドの出力行を折り返す長さを指定します
<DT>
<B>--posix</B>
<DT><DD>
全ての GNU 拡張を無効にします
<DT>
<B>-E</B>, <B>-r</B>, <B>--regexp-extended</B>
<DT><DD>
スクリプトで拡張正規表現を使用します (<B>-E</B> 利用は POSIX 互換性のため)
<DT>
<B>-s</B>, <B>--separate</B>
<DT><DD>
複数の入力ファイルを一続きのストリームとして扱わずに個別のファイルとして扱います
<DT>
<B>--sandbox</B>
<DT><DD>
サンドボックス (sandbox) モードで実行します (e/r/w コマンドを無効にします)
<DT>
<B>-u</B>, <B>--unbuffered</B>
<DT><DD>
入力ファイルからデータをごく少量ずつ取り込み、頻繁に出力バッファを掃き出します (flush)
<DT>
<B>-z</B>, <B>--null-data</B>
<DT><DD>
<DD>NUL 文字で行を分割します
<DT><B>--help</B><DD>
ヘルプを表示して終了します
<DT><B>--version</B><DD>
バージョン情報を出力して終了します
</DL>
<P>

<B>-e</B>、<B>--expression</B>、<B>-f</B>、または <B>--file</B> オプションのいずれも指定されない場合、最初のオプションでない引数が
sed スクリプトとして解釈されます。 残りの全ての引数は入力ファイル名として扱われます。 入力ファイルが指定されない場合は、標準入力から読み込みます。
<P>

GNU sed ホームページ: &lt;<A HREF="https://www.gnu.org/software/sed/">https://www.gnu.org/software/sed/</A>&gt;. GNU
ソフトウェアを使用する際の一般的なヘルプ:
&lt;<A HREF="https://www.gnu.org/gethelp/">https://www.gnu.org/gethelp/</A>&gt;. 電子メールによるバグレポートの宛先:
&lt;<A HREF="mailto:bug-sed@gnu.org">bug-sed@gnu.org</A>&gt;
<A NAME="lbAE">&nbsp;</A>
<H2>コマンドの文法</H2>

これは <I>sed</I> コマンドのごく簡単な概要であり、既に sed を知っている人向けの備忘録程度のものです。 より詳細な情報については、他の文書
(texinfo 文書など) を参照してください。
<A NAME="lbAF">&nbsp;</A>
<H3>アドレスを取らないコマンド</H3>

<DL COMPACT>
<DT>:&nbsp;<I>label</I><DD>
<B>b</B> コマンドと <B>t</B> コマンド用のラベル。
<DT>#<I>comment</I><DD>
次の改行文字まで (あるいは <B>-e</B> スクリプトフラグメントの末尾まで) をコメントとして取り扱います。
<DT>}<DD>
{ } ブロックの閉じ括弧。
</DL>
<A NAME="lbAG">&nbsp;</A>
<H3>アドレスを 0 または 1 つ取るコマンド</H3>

<DL COMPACT>
<DT>=<DD>
現在の行番号を出力します。
<DT>a \<DD>
<DT><I>text</I><DD>
<I>text</I> を追加します。 <I>text</I> に改行を含める場合は、各改行の前にバックスラッシュを置きます。
<DT>i \<DD>
<DT><I>text</I><DD>
<I>text</I> を挿入します。 <I>text</I> に改行を含める場合は、各改行の前にバックスラッシュを置きます。
<DT>q [<I>exit-code</I>]<DD>
これ以上入力を処理せず、ただちに <I>sed</I> スクリプトの処理を終了します。 ただし自動出力が抑制されていない場合、
現在のパターンスペースが出力されます。 引数 exit-code は GNU 拡張です。
<DT>Q [<I>exit-code</I>]<DD>
これ以上入力を処理せず、ただちに <I>sed</I> スクリプトの処理を終了します。 引数 exit-code は GNU 拡張です。
<DT>r&nbsp;<I>filename</I><DD>
<I>filename</I> から読み込んだテキストを追加します。
<DT>R&nbsp;<I>filename</I><DD>
<I>filename</I> から 1 行読み込み、追加します。 コマンドを起動するたびにファイルから次の 1 行を読み込みます。 このコマンドは GNU
拡張です。
</DL>
<A NAME="lbAH">&nbsp;</A>
<H3>アドレス範囲を指定できるコマンド</H3>

<DL COMPACT>
<DT>{<DD>
コマンドブロックを開始します (} で終了します)。
<DT>b&nbsp;<I>label</I><DD>
<I>label</I> に分岐します。 <I>label</I> が省略された場合は、スクリプトの末尾に分岐します。
<DT>c \<DD>
<DT><I>text</I><DD>
選択した行を <I>text</I> で置換します。 <I>text</I> に改行を含めたい場合は、その前にバックスラッシュを置きます。
<DT>d<DD>
パターンスペースを削除します。 次のサイクルを開始します。
<DT>D<DD>
パターンスペースに改行がない場合は、d コマンドと同様に通常の次のサイクルを開始します。
そうでない場合は、パターンスペースの最初の改行までを削除し、次の入力行を読み込まずに、その結果のパターンスペースでサイクルを開始します。
<DT>h H<DD>
パターンスペースをホールドスペースにコピー/追加します。
<DT>g G<DD>
ホールドスペースをパターンスペースにコピー/追加します。
<DT>l<DD>
現在の行を「視覚的に曖昧性のない」形式で一覧出力します。
<DT>l&nbsp;<I>width</I><DD>
現在の行を「視覚的に曖昧性のない」形式でリストし、<I>width</I> の文字で折り返します。 このコマンドは GNU 拡張です。
<DT>n N<DD>
入力の次の行をパターンスペースに読み込む/追加します。
<DT>p<DD>
現在のパターンスペースを出力します。
<DT>P<DD>
現在のパターンスペースの最初の改行までを出力します。
<DT>s/<I>regexp</I>/<I>replacement</I>/<DD>
パターンスペースに対して <I>regexp</I> のマッチを試みます。 マッチに成功すると、マッチした部分を <I>replacement</I> に置換します。
<I>replacement</I> には特殊文字である <B>&amp;</B> を含めることができ、これはパターンスペースのマッチした部分を参照します。 また \1 から
\9 までの特殊エスケープを含むこともでき、これは <I>regexp</I> の部分正規表現 (sub-expression)
にマッチした部分をそれぞれ参照します。
<DT>t&nbsp;<I>label</I><DD>
直近の入力行が読み込まれて以降、かつ、直近の t あるいは T コマンド以降に、s コマンドが成功していれば、<I>label</I> に分岐します。
<I>label</I> が省略された場合は、スクリプトの末尾に分岐します。
<DT>T&nbsp;<I>label</I><DD>
直近の入力行が読み込まれて以降、かつ、直近の t あるいは T コマンド以降に、s コマンドが成功していなければ、<I>label</I> に分岐します。
<I>label</I> が省略された場合は、スクリプトの末尾に分岐します。 このコマンドは GNU 拡張です。
<DT>w&nbsp;<I>filename</I><DD>
現在のパターンスペースを <I>filename</I> に書き込みます。
<DT>W&nbsp;<I>filename</I><DD>
現在のパターンスペースの先頭行を <I>filename</I> に書き込みます。 このコマンドは GNU 拡張です。
<DT>x<DD>
ホールドスペースとパターンスペースの内容を交換します。
<DT>y/<I>source</I>/<I>dest</I>/<DD>
パターンスペースにある文字のうち、<I>source</I> にあるものを、<I>dest</I> の同じ位置にある文字に置換します。
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>アドレス</H2>

<I>sed</I> のコマンドはアドレスなしで指定することもでき、この場合そのコマンドは全ての入力行に対して実行されます。
アドレスをひとつ指定すると、コマンドはそのアドレスにマッチした入力行に対してのみ実行されます。 2
つのアドレスを指定すると、最初のアドレスにマッチした行から、2 番目のアドレスにマッチした行に至る範囲 (両マッチ行を含む)
にあるすべての行に対して実行されます。 アドレスの範囲指定については次の 3 点に注意してください。 まず指定方法は <I>addr1</I>,<I>addr2</I>
です (つまりアドレスをコンマで区切ります)。 <I>addr1</I> にマッチした行は、たとえ<I>addr2</I>
がそれ以前の行にマッチする場合でも、常に処理対象となります。 <I>addr2</I> が <I>regexp</I> (正規表現) の場合には、<I>addr1</I>
にマッチした行に対しては <I>addr2</I> のマッチは行われません。
<P>

アドレス (あるいはアドレス範囲) とコマンドの間には <B>!</B> を挟むことができます。 この場合は、アドレス (あるいはアドレス範囲)
が<B>マッチしなかった</B>行に対してのみコマンドが実行されます。
<P>

以下のアドレスタイプがサポートされています。
<DL COMPACT>
<DT><I>number</I><DD>
<I>number</I> で指定した行にのみマッチします (コマンドラインで <B>-s</B>
オプションを指定していない場合、行数はファイル間で通算でカウントされます)。
<DT><I>first</I>~<I>step</I><DD>
<I>first</I> 行からはじまる <I>step</I> 行おきの行にマッチします。 例えば ``sed -n 1~2p'' は
入力行のうち奇数行を出力し、アドレスを 2~5 にすると、第 2 行から 5 行おきに表示します。 <I>first</I> は 0 を指定することが可能です。
この場合、<I>step</I> に等しい値が指定されたものとして <I>sed</I> は処理します (これは GNU 拡張です)。
<DT>$<DD>
最終行にマッチします。
<DT>/<I>regexp</I>/<DD>
正規表現 <I>regexp</I> に合致するような行にマッチします。 マッチングは現在のパターン領域において行われます。 これは ``s///''
のようなコマンドにより変更されます。
<DT>\<B>c</B><I>regexp</I><B>c</B><DD>
正規表現 <I>regexp</I> にマッチした行にマッチします。 <B>c</B> には任意の文字を指定できます。
</DL>
<P>

GNU <I>sed</I> は、次の特殊な 2 アドレス形式もサポートします。
<DL COMPACT>
<DT>0,<I>addr2</I><DD>
「先頭アドレスにマッチした状態」で開始し、<I>addr2</I> が見つかるまでその状態を維持します。 これは、1,<I>addr2</I>
に類似していますが、次の点において挙動が異なります。 <I>addr2</I> が入力の先頭行にマッチする場合、0,<I>addr2</I>
形式ではアドレス範囲の終了位置にあるとみなされますが、1,<I>addr2</I> 形式ではアドレス範囲の開始位置にあるとみなされます。
このアドレス指定は、<I>addr2</I> が正規表現の場合にのみ機能します。
<DT><I>addr1</I>,+<I>N</I><DD>
<I>addr1</I> から、<I>addr1</I> 以降の <I>N</I> 行にマッチします。
<DT><I>addr1</I>,~<I>N</I><DD>
<I>addr1</I> から、<I>addr1</I> 以降の、入力行番号が <I>N</I> の倍数の行までマッチします。
</DL>
<A NAME="lbAJ">&nbsp;</A>
<H2>正規表現</H2>

POSIX.2 BRE をサポートする<I>べき</I>ですが、性能上の問題により完全にはサポートしていません。 正規表現内部の <B>\n</B>
シーケンスは改行文字にマッチし、<B>\a</B>、<B>\t</B>、およびその他のシーケンスも同様です。 このかわりに <I>-E</I>
オプションは拡張正規表現の利用に切り替えるものです。 この拡張正規表現は、これまでに長らく GNU sed においてサポートされ、現在は POSIX
に含まれるようになりました。
<A NAME="lbAK">&nbsp;</A>
<H2>バグ</H2>

<P>

バグレポートは <B><A HREF="mailto:bug-sed@gnu.org">bug-sed@gnu.org</A></B> まで送ってください。また可能であれば、 「sed
--version」の出力結果をレポート本文に記載してください。
<A NAME="lbAL">&nbsp;</A>
<H2>著者</H2>

Jay Fenlason, Tom Lord, Ken Pizzini, Paolo Bonzini, Jim Meyering, Assaf
Gordon.
<P>

この sed プログラムは SELinux サポートを含めてビルドされています。このシステム上においては SELinux が有効です。
<P>

GNU sed ホームページ: &lt;<A HREF="https://www.gnu.org/software/sed/">https://www.gnu.org/software/sed/</A>&gt;. GNU
ソフトウェアを使用する際の一般的なヘルプ:
&lt;<A HREF="https://www.gnu.org/gethelp/">https://www.gnu.org/gethelp/</A>&gt;. 電子メールによるバグレポートの宛先:
&lt;<A HREF="mailto:bug-sed@gnu.org">bug-sed@gnu.org</A>&gt;
<A NAME="lbAM">&nbsp;</A>
<H2>著作権</H2>

Copyright &#169; 2020 Free Software Foundation, Inc.  License GPLv3+: GNU GPL
version 3 or later &lt;<A HREF="https://gnu.org/licenses/gpl.html">https://gnu.org/licenses/gpl.html</A>&gt;.
<BR>

This is free software: you are free to change and redistribute it.  There is
NO WARRANTY, to the extent permitted by law.
<A NAME="lbAN">&nbsp;</A>
<H2>関連項目</H2>

<B>awk</B>(1), <B><A HREF="../../GNU_ed/man1/ed.1.html">ed</A></B>(1), <B><A HREF="../../GNU_grep/man1/grep.1.html">grep</A></B>(1), <B><A HREF="../../0MultiFileIdx/man1/tr.1.html">tr</A></B>(1), <B>perlre</B>(1), sed.info, <I>sed</I>
に関するさまざまな本,

<I>sed</I> FAQ (<A HREF="http://sed.sf.net/grabbag/tutorials/sedfaq.txt),">http://sed.sf.net/grabbag/tutorials/sedfaq.txt),</A>
<A HREF="http://sed.sf.net/grabbag/.">http://sed.sf.net/grabbag/.</A>
<P>

<B>sed</B> の完全な文書は、Texinfo マニュアルでメンテナンスされています。<B>info</B> と <B>sed</B>
プログラムが適切にインストールされていれば、
<DL COMPACT>
<DT><DD>
<B>info sed</B>
</DL>
<P>

で、完全なマニュアルを参照することができます。
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">コマンドの文法</A><DD>
<DL>
<DT><A HREF="#lbAF">アドレスを取らないコマンド</A><DD>
<DT><A HREF="#lbAG">アドレスを 0 または 1 つ取るコマンド</A><DD>
<DT><A HREF="#lbAH">アドレス範囲を指定できるコマンド</A><DD>
</DL>
<DT><A HREF="#lbAI">アドレス</A><DD>
<DT><A HREF="#lbAJ">正規表現</A><DD>
<DT><A HREF="#lbAK">バグ</A><DD>
<DT><A HREF="#lbAL">著者</A><DD>
<DT><A HREF="#lbAM">著作権</A><DD>
<DT><A HREF="#lbAN">関連項目</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:25 GMT, December 05, 2022
</BODY>
</HTML>
