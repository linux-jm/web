
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of MESON</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>MESON</H1>
Section: ユーザーコマンド (1)<BR>Updated: 2022/04<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/meson/release/man1/meson.1">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

meson - 生産性の高いビルドシステム
<A NAME="lbAC">&nbsp;</A>
<H2>説明</H2>

<P>
Meson はプログラマーの生産性を最適化するために設計されたビルドシステムです。 これを実現するために、 最新のソフトウェア開発ツールや技法を、
簡単にすぐ利用できる機能を提供しています。 それはたとえば、 ユニットテスト、 網羅性レポート、 Valgrind、 Ccache などです。
<P>
メインの実行コマンド meson には数多くのサブコマンドがあり、 これによって全機能の利用が可能になります。
<P>
<A NAME="lbAD">&nbsp;</A>
<H2>セットアップコマンド</H2>

<P>
Meson を用いるのは実に簡単です。 ビルドシステムのほとんどにおいて、 普通は二段階プロセスを実現します。 一度めは Meson
を実行してビルド設定を行います。
<P>
<B>meson setup [</B> <I>options</I> <B>] [</B> <I>build directory</I> <B>] [</B> <I>source
directory</I> <B>]</B>
<P>
なおビルドディレクトリは、 ソースディレクトリとは別のところにしなければなりません。 Meson
ではソースディレクトリ内でのビルドには対応していないため、 これを行うとエラーが発生します。
<P>
設定ステップが正常処理されたら、 ビルドディレクトリ内において実際のビルドコマンドを実行してソースをビルドできます。 Meson
のデフォルトのバックエンドは Ninja です。 これは以下のようにして起動できます。
<P>
<B>ninja [</B> <I>target</I> <B>]</B>
<P>
Meson コマンドを実行するのは、 ビルドディレクトリにおいて最初に設定を行う一度だけです。 これを行ったら、 次はビルドコマンドを実行するだけです。
Meson はソースツリー内の変更を自動的に検出して、 プロジェクトビルドに必要となるファイルをすべて再生成します。
<P>
セットアップコマンドを実行するのがデフォルトの動作です。 特に何かコマンドが指定されない限り、 Meson はセットアップを行うものとして動作します。
セットアップコマンドを用いなくても、 ビルドディレクトリは以下のようにしてセットアップすることができます。
<P>
<B>meson [</B> <I>options</I> <B>] [</B> <I>build directory</I> <B>] [</B> <I>source directory</I>
<B>]</B>
<P>
<A NAME="lbAE">&nbsp;</A>
<H3>オプション:</H3>

<DL COMPACT>
<DT><B>--version</B><DD>
バージョン番号を表示します。
<DT><B>--help</B><DD>
コマンドラインヘルプを表示します。
<P>
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>configure コマンド</H2>

<P>
<B>meson configure</B> は、 コマンドラインから Meson プロジェクトを設定するものです。 その利用の仕方は以下のように簡単です。
<P>
<B>meson configure [</B> <I>build directory</I> <B>] [</B> <I>options to set</I> <B>]</B>
<P>
ビルドディレクトリが省略された場合は、 カレントディレクトリが用いられます。
<P>
パラメーターが何も設定されなかった場合、 <B>meson configure</B> はすべてのビルドオプションの値をコンソールに出力します。
<P>
値を設定するには、 以下のようにコマンドライン引数 -D を利用します。
<P>
<B>meson configure -Dopt1=value1 -Dopt2=value2</B>
<P>
<A NAME="lbAG">&nbsp;</A>
<H2>イントロスペクト (introspect) コマンド</H2>

<P>
Meson の introspect は、 他のツール、 たとえば IDE などとの連携を簡単に実現するように設計されたコマンドです。
このコマンドの出力は JSON 形式です。
<P>
<B>meson introspect [</B> <I>build directory</I> <B>] [</B> <I>option</I> <B>]</B>
<P>
ビルドディレクトリが省略された場合は、 カレントディレクトリが用いられます。
<P>
<A NAME="lbAH">&nbsp;</A>
<H3>オプション:</H3>

<DL COMPACT>
<DT><B>--targets</B><DD>
トップレベルターゲット (実行モジュール、ライブラリなど) をすべて表示します。
<DT><B>--target-files</B><DD>
指定されたターゲットに対するソースファイルを表示します。
<DT><B>--buildsystem-files</B><DD>
ビルドシステムを構成するファイル (meson.build、meson_options.txt など) をすべて表示します。
<DT><B>--tests</B><DD>
ユニットテストをすべて表示します。
<DT><B>--help</B><DD>
コマンドラインヘルプを表示します。
<P>
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>テストコマンド</H2>

<P>
<B>meson test</B> は Meson を利用してプロジェクトのテストスイートを実行するヘルパーツールです。 テスト実行を行うデフォルトの方法は、
以下のようにデフォルトのビルドコマンドを実行することです。
<P>
<B>ninja [</B> <I>test</I> <B>]</B>
<P>
<B>meson test</B> では、テスト実行に対して機能豊富なツールセットを提供しています。
<P>
<B>meson test</B> はバックエンドとして Ninja を利用する場合には、 テスト実行に必要となるターゲットを自動的に再ビルドします。
ビルドに失敗すると <B>meson test</B> は終了コードとして 125 を返します。 この返り値コードは <B>git bisect run</B>
にあたって、 カレントなコミットをスキップします。 したがって git を用いた bisect 処理は、 以下のようにわかりやすく実現できます。
<P>
<B>git bisect run meson test -C build_dir</B>
<P>
<A NAME="lbAJ">&nbsp;</A>
<H3>オプション:</H3>

<DL COMPACT>
<DT><B>--repeat</B><DD>
指定された回数分だけテストを実行します。
<DT><B>--gdb</B><DD>
gdb のもとでテストを実行します。
<DT><B>--list</B><DD>
利用可能なテストをすべて一覧表示します。
<DT><B>--wrapper</B><DD>
指定されたラッパー (たとえば valgrind) 経由によりすべてのテストを起動します。
<DT><B>-C</B><DD>
テスト実施前に、 指定されたディレクトリに移動します (これはビルドディレクトリの最上位でなければなりません)。
<DT><B>--suite</B><DD>
このスイートにおいてテストを実行します。
<DT><B>--no-suite</B><DD>
このスイートの中ではテストを実行しません。
<DT><B>--no-stdsplit</B><DD>
テストログにおいて stderr と stdout を分割しません。
<DT><B>--benchmark</B><DD>
テストの代わりにベンチマークを実行します。
<DT><B>--logbase</B><DD>
テストログ出力に利用するファイルのベース名を指定します。
<DT><B>--num-processes</B><DD>
テスト実行における同時並行処理数を指定します。
<DT><B>--verbose</B><DD>
stdout と stderr にリダイレクトしません。
<DT><B>-t</B><DD>
テストにおけるタイムアウト値の乗数を指定します (通常 Valgrind に対しては 100 などとします)。
<DT><B>--setup</B><DD>
指定されたテストのセットアップを用います。
<P>
</DL>
<A NAME="lbAK">&nbsp;</A>
<H2>ラップ (wrap) コマンド</H2>

<P>
ラップツール (wraptool) は、 オンラインの wrabdb サービスを利用して、 ソースの依存関係を管理するヘルパーユーティリティーです。
<P>
<B>meson wrap &lt;</B> <I>command</I> <B>&gt; [</B> <I>options</I> <B>]</B>
<P>
このコマンドは、 プロジェクトの最上位ソースディレクトリにおいて実行することが必要です。
<P>
<A NAME="lbAL">&nbsp;</A>
<H3>コマンド</H3>

<DL COMPACT>
<DT><B>list</B><DD>
利用可能なプロジェクトの一覧を表示します。
<DT><B>search</B><DD>
プロジェクト名で検索します。
<DT><B>install</B><DD>
プロジェクトを指定された名前を用いてインストールします。
<DT><B>update</B><DD>
指定されたプロジェクトを、 利用可能な最新バージョンにアップデートします。
<DT><B>info</B><DD>
指定されたプロジェクトの利用可能バージョンを表示します。
<DT><B>status</B><DD>
現在利用されているサブプロジェクトに対して、 インストールされている、 または利用可能なバージョンを表示します。
<P>
</DL>
<A NAME="lbAM">&nbsp;</A>
<H2>終了ステータス</H2>

<P>
<DL COMPACT>
<DT><B>0</B><DD>
正常終了。
<DT><B>1</B><DD>
利用エラー。 つまり meson.build の解析または実行エラー。
<DT><B>2</B><DD>
内部エラー。
<DT><B>125</B><DD>
<B>meson test</B> において必要なターゲットが再ビルドできなかったことを表します。
<DT></DL>
<A NAME="lbAN">&nbsp;</A>
<H2>関連項目</H2>

<DD>
<P>
<A HREF="http://mesonbuild.com/">http://mesonbuild.com/</A>
<P>
<A HREF="https://wrapdb.mesonbuild.com/">https://wrapdb.mesonbuild.com/</A>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">説明</A><DD>
<DT><A HREF="#lbAD">セットアップコマンド</A><DD>
<DL>
<DT><A HREF="#lbAE">オプション:</A><DD>
</DL>
<DT><A HREF="#lbAF">configure コマンド</A><DD>
<DT><A HREF="#lbAG">イントロスペクト (introspect) コマンド</A><DD>
<DL>
<DT><A HREF="#lbAH">オプション:</A><DD>
</DL>
<DT><A HREF="#lbAI">テストコマンド</A><DD>
<DL>
<DT><A HREF="#lbAJ">オプション:</A><DD>
</DL>
<DT><A HREF="#lbAK">ラップ (wrap) コマンド</A><DD>
<DL>
<DT><A HREF="#lbAL">コマンド</A><DD>
</DL>
<DT><A HREF="#lbAM">終了ステータス</A><DD>
<DT><A HREF="#lbAN">関連項目</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:39 GMT, December 05, 2022
</BODY>
</HTML>
