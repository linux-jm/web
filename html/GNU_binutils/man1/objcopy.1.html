
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of objcopy</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>objcopy</H1>
Section: GNU Development Tools (1)<BR>Updated: October 1994<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/GNU_binutils/release/man1/objcopy.1">roff page</A><HR>


<P>
<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

objcopy - オブジェクトファイルのコピーや変換を行う
<P>
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>



<DL COMPACT>
<DT><B>objcopy</B>

<DD>
[<B>-F&nbsp;</B><I>bfdname</I>&nbsp;|&nbsp;<B>--target=</B><I>bfdname</I>]

[<B>-I&nbsp;</B><I>bfdname</I>&nbsp;|&nbsp;<B>--input-target=</B><I>bfdname</I>]

[<B>-O&nbsp;</B><I>bfdname</I>&nbsp;|&nbsp;<B>--output-target=</B><I>bfdname</I>]

[<B>-R&nbsp;</B><I>sectionname</I>&nbsp;|&nbsp;<B>--remove-section=</B><I>sectionname</I>]

[<B>-S</B>&nbsp;|&nbsp;<B>--strip-all</B>]

[<B>-g</B>&nbsp;|&nbsp;<B>--strip-debug</B>]

[<B>--strip-unneeded</B>]

[<B>-K&nbsp;</B><I>symbolname</I>&nbsp;|&nbsp;<B>--keep-symbol=</B><I>symbolname</I>]

[<B>-N&nbsp;</B><I>symbolname</I>&nbsp;|&nbsp;<B>--strip-symbol=</B><I>symbolname</I>]

[<B>-L&nbsp;</B><I>symbolname</I>&nbsp;|&nbsp;<B>--localize-symbol=</B><I>symbolname</I>]

[<B>-W&nbsp;</B><I>symbolname</I>&nbsp;|&nbsp;<B>--weaken-symbol=</B><I>symbolname</I>]

[<B>-x</B>&nbsp;|&nbsp;<B>--discard-all</B>]

[<B>-X</B>&nbsp;|&nbsp;<B>--discard-locals</B>]

[<B>-b&nbsp;</B><I>byte</I>&nbsp;|&nbsp;<B>--byte=</B><I>byte</I>]

[<B>-i&nbsp;</B><I>interleave</I>&nbsp;|&nbsp;<B>--interleave=</B><I>interleave</I>]

[<B>-p</B>&nbsp;|&nbsp;<B>--preserve-dates</B>]

[<B>--debugging</B>]

[<B>--gap-fill=</B><I>val</I>]

[<B>--pad-to=</B><I>address</I>]

[<B>--set-start=</B><I>val</I>]

[<B>--adjust-start=</B><I>incr</I>]

[<B>--adjust-vma=</B><I>incr</I>]

[<B>--adjust-section-vma=</B><I>section{=,+,-}val</I>]

[<B>--adjust-warnings</B>]

[<B>--no-adjust-warnings</B>]

[<B>--set-section-flags=</B><I>section=flags</I>]

[<B>--add-section=</B><I>sectionname=filename</I>]

[<B>--change-leading-char</B>]

[<B>--remove-leading-char</B>]

[<B>--weaken</B>]

[<B>-v&nbsp;|&nbsp;--verbose</B>]

[<B>-V&nbsp;|&nbsp;--version</B>]

[<B>--help</B>]

<B>infile</B>

[<B>outfile</B>]

</DL>
<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

GNU
<B>objcopy</B>

ユーティリティはオブジェクトファイルの内容を別ファイルにコピーする。
<B>objcopy</B>

はオブジェクトファイルの読み書きに GNU BFD ライブラリを用いる。これに
よって書き込み先のファイルのオブジェクトフォーマットを読み込みファイル
のフォーマットから変更することができる。
<B>objcopy</B>

の詳細な動作はコマンドラインオプションによって決定される。
<P>

<B>objcopy</B>

は変換を行う際に一時ファイルを作成し、動作後にこれを消去する。
<B>objcopy</B>

変換作業はすべて BFD によって行われる。したがって BFD が種々のフォー
マットに関して持っているすべての情報を利用することができ、明示しないで
もほとんどのフォーマットを認識できる。
<P>

<B>objcopy</B>

はターゲットを
<B>srec</B>

に指定する (つまり
<B>-O srec</B>

とする) ことによって S-record を生成することもできる。
<P>

<B>objcopy</B>

は出力ターゲットを
<B>binary</B>

に指定する (つまり
<B>-O binary</B>

とする) ことによって raw バイナリファイルを生成することもできる。この
際には、基本的には入力オブジェクトファイルの内容のメモリダンプが作られ
る。メモリダンプは出力ファイルにコピーされる最抵位のセクションの仮想ア
ドレスからスタートする。
<P>

S-record や raw バイナリファイルを生成する場合に
<B>-S</B>

を用いれば、デバッグ情報を持つセクションを削除できる。また、バイナリファ
イルに不要な情報を持ったセクションを消去するのに
<B>-R</B>

が役に立つ場合もある。
<P>

<I>infile</I>

と
<I>outfile</I>

はそれぞれ入力・出力ファイルである。
<I>outfile</I>

が指定されないと
<B>objcopy</B>

は一時ファイルを作成し、その結果を入力ファイルの名前にリネームする (す
なわちもとの入力ファイルは破壊される)。
<P>
<DL COMPACT>
<DT><B>-I </B><I>bfdname</I>, <B>--input-target=</B><I>bfdname</I>

<DD>
入力ファイルのオブジェクトフォーマットを
<I>bfdname</I>

として取り扱う。通常は自動的に認識する。
<DT><B>-O </B><I>bfdname</I>, <B>--output-target=</B><I>bfdname</I>

<DD>
出力ファイルのオブジェクトフォーマットを
<I>bfdname</I>

にする。
<DT><B>-F </B><I>bfdname</I>, <B>--target=</B><I>bfdname</I>

<DD>
入出力ファイルのオブジェクトフォーマットに
<I>bfdname</I>

を用いる。すなわち入力ファイルを変換せずに単に出力ファイルにコピーする。
<DT><B>-R </B><I>sectionname</I>, <B>--remove-section=</B><I>sectionname</I>

<DD>
指定したセクションをファイルから削除する。このオプションは複数回指定す
ることができる。このオプションを誤って用いると、出力ファイルが役立たず
になる可能性がある。
<DT><B>-S</B>, <B>--strip-all</B>

<DD>
リロケーション情報とシンボル情報を入力ファイルからコピーしない。
<DT><B>-g</B>, <B>--strip-debug</B>

<DD>
デバッグシンボルを入力ファイルからコピーしない。
<DT><B>--strip-unneeded</B>

<DD>
リロケーション処理に不要なシンボルをすべて取り去る。
<DT><B>-K </B><I>symbolname</I>, <B>--keep-symbol=</B><I>symbolname</I>

<DD>
入力ファイルから <I>symbolname</I> という名前のシンボルだけをコピーする。
複数回指定できる。
<DT><B>-N </B><I>symbolname</I>, <B>--strip-symbol=</B><I>symbolname</I>

<DD>
入力ファイルの <I>symbolname</I> という名前のシンボルをコピーしない。
複数回指定できる。
<DT><B>-L </B><I>symbolname</I>, <B>--localize-symbol=</B><I>symbolname</I>

<DD>
<I>symbolname</I>

をそのファイルにローカルなものにし、外部から見えないようにする。
複数回指定できる。
<DT><B>-W </B><I>symbolname</I>, <B>--weaken-symbol=</B><I>symbolname</I>

<DD>
<I>symbolname</I>

を weak にする。
複数回指定できる。
<DT><B>-x</B>, <B> --discard-all</B>

<DD>
入力ファイルのグローバルでないシンボルはコピーしない。
<DT><B>-X</B>, <B>--discard-locals</B>

<DD>
コンパイラが生成したローカルなシンボル (通常 &quot;L&quot; または 
&quot;.&quot; ではじまるシンボル) はコピーしない。
<DT><B>-b </B><I>byte</I>, <B>--byte=</B><I>byte</I>

<DD>
入力ファイルを interleave づつ区切った各セクションから <I>byte</I> バイ
ト目だけをコピーする (ヘッダデータは影響されない)。 <I>byte</I> の範囲は
0 から interleave-1 までである。 <I>interleave</I> の値は
<B>-i</B>(または<B>--interleave</B>)

オプションで指定する。
このオプションは ROM プログラム用のファイルを作成するときに便利である。出
力ターゲット srec と共に用いられることが多い。
<DT><B>-i </B><I>interleave</I>, <B>--interleave=</B><I>interleave</I>

<DD>
<I>interleave</I> バイトにつき 1 バイトづつをコピーする。デフォルトは 4
である。何番目のバイトをコピーするかは
<B>-b</B>(または<B>--byte</B>

) オプションで指定する。 <B>-b</B> も <B>--bytes</B> も指定されなかっ
た場合は interleave は無視される。
<DT><B>-p</B>, <B>--preserve-dates</B>

<DD>
出力ファイルのアクセス時刻と修正時刻を入力ファイルと同じにする。
<DT><B>--debugging</B>

<DD>
可能ならばデバッグ情報を変換する。このオプションはデフォルトにはなって
いない。すべてのデバッグフォーマットがサポートされているわけではないし、
この変換には時間がかかるからである。
<DT><B>--gap-fill=</B><I>val</I>

<DD>
セクション間のギャップを <I>val</I> で埋める。この動作は
セクションの
<I>load address</I>

(LMA) に適用される。これはセクションのサイズを抵位アドレスの分増やし、
その余分を <I>val</I> で埋めることでなされる。
<DT><B>--pad-to=</B><I>address</I>

<DD>
出力ファイルをロードアドレス <I>address</I> まで水増しする。
これは最後のセクションのサイズを増やすことでなされる。
余分なスペースは 
<B>--gap-fill</B> で指定された値で埋められる (デフォルトは 0)。
<DT><B>--set-start=</B><I>val</I>

<DD>
新しいファイルのスタートアドレスを <I>val</I> に設定する。すべてのオブ
ジェクトファイルフォーマットでこの指定が可能ではないことに注意すること。
<DT><B>--adjust-start=</B><I>incr</I>

<DD>
スタートアドレスを <I>incr</I> だけ増やす。すべてのオブジェクトファイル
フォーマットでこの指定が可能ではないことに注意すること。
<DT><B>--adjust-vma=</B><I>incr</I>

<DD>
すべてのセクション (スタートアドレスも含まれる) のアドレスを 
<I>incr</I> だけ増やす。すべてのオブジェクトファイルフォーマットで任意
のアドレス設定が指定が可能なわけではないことに注意すること。またこのオ
プションではそれぞれのセクションがロードされるアドレスを変えてしまうの
で、プログラムが動かなくなる可能性がある
<DT><B>--adjust-section-vma=</B><I>section{=,+,-}val</I>

<DD>
名前が <I>section</I> のセクションのアドレスを設定する。 <I>=</I> が用い
られた場合はセクションのアドレスは <I>val</I> にされる。それ以外の場合
はセクションのアドレスから <I>val</I> が増減される。上記の 
<B>--adjust-vma</B> に関するコメントを参照のこと。 <I>section</I> が
入力ファイルに存在しない場合は警告グメッセージが表示される (ただし 
<B>--no-adjust-warning</B> が指定されていたら表示しない)。
<DT><B>--adjust-warnings</B>

<DD>
<B>--adjust-section-vma</B> が指定されているとき、
対象となるセクションが存在しなければ警告メッセージを表示する。
デフォルトの動作である。
<DT><B>--no-adjust-warnings</B>

<DD>
<B>--adjust-section-vma</B> が指定されているとき、かつ対象となるセ
クションが存在していなくても警告メッセージを表示しない。
<DT><B>--set-section-flags=</B><I>section=flags</I>

<DD>
指定したセクションのフラグを設定する。引数 <I>flags</I> はコンマ (,) で
区切られたフラグ文字列である。認識される文字列は <I>alloc</I>、 
<I>load</I>、 <I>readonly</I>、 <I>code</I>、 <I>data</I>、 <I>rom</I> であ
る。すべてのフラグがあらゆるフォーマットで有効なわけではないことに注意
すること。
<DT><B>--add-section=</B><I>sectionname=filename</I>

<DD>
ファイルをコピーするときに <I>sectionname</I> という名前のセクションを
追加する。この新しいセクションの内容はファイル <I>filename</I> から取ら
れる。このオプションが機能するのは、任意のセクション名をサポートしてい
るフォーマットだけである。
<DT><B>--change-leading-char</B>

<DD>
オブジェクトファイルのフォーマットによっては、シンボル名の先頭に特定の
文字を使っている場合がある。よくある例はアンダースコア (_) で、これは
コンパイラがすべてのシンボル名に前置する。このオプションを指定すると
<B>objcopy</B>

はフォーマット変換の際にすべてのシンボルにおける先頭文字を変更しようと
する。同じ先頭文字を持つオブジェクト間では、このオプションは意味を持た
ない。異なる場合は、場合に応じて先頭文字が追加されたり削除、変更された
りする。
<DT><B>--remove-leading-char</B>

<DD>
グローバルシンボルの先頭文字がオブジェクトファイルに特有のものであった
場合、これを削除する。通常はアンダースコア (_) がこれにあたる。このオ
プションはすべてのグローバルシンボルから先頭にあるアンダースコアを削除
する。これは (シンボル名の命名流儀が異なる) 複数のフォーマットに属する
オブジェクト群を同時にリンクする場合に有用である。このオプションは 
<B>--change-leading-char</B> とは異なる。後者では出力のフォーマット
にかかわらず、該当したケースではすべて変更が行われる。
<DT><B>--weaken</B>

<DD>
ファイルのすべての global なシンボルを weak に変更する。
<DT><B>-v</B>, <B>--verbose</B>

<DD>
詳細出力モード。修正されたすべてのオブジェクトファイルをリストする。書
庫の場合は&quot;<B>objcopy -V</B>&quot; とすると書庫のすべてのメンバーを表示する。
<DT><B>-V</B>, <B>--version</B>

<DD>
<B>objcopy</B>

のバージョン番号を表示して終了する。
<DT><B>--help</B>

<DD>
<B>objcopy</B>

のオプションの要約を表示して終了する。
<P>
</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>関連項目</H2>

<B>info</B>

の `<B> binutils </B>' エントリ、
<I>The GNU Binary Utilities</I>,

Roland H. Pesch (June 1993)、
<P>
<A NAME="lbAF">&nbsp;</A>
<H2>著作権</H2>

Copyright (c) 1993, 94, 95, 96, 1997 Free Software Foundation, Inc.
<P>

Permission is granted to make and distribute verbatim copies of
this manual provided the copyright notice and this permission notice
are preserved on all copies.
<P>

Permission is granted to copy and distribute modified versions of this
manual under the conditions for verbatim copying, provided that the
entire resulting derived work is distributed under the terms of a
permission notice identical to this one.
<P>

Permission is granted to copy and distribute translations of this
manual into another language, under the above conditions for modified
versions, except that this permission notice may be included in
translations approved by the Free Software Foundation instead of in
the original English.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">関連項目</A><DD>
<DT><A HREF="#lbAF">著作権</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:22 GMT, December 05, 2022
</BODY>
</HTML>
