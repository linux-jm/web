
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of BASH_BUILTINS</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>BASH_BUILTINS</H1>
Section: User Commands  (1)<BR>Updated: 2004 Apr 20<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/GNU_bash/release/man1/builtins.1">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

bash, :, ., [, alias, bg, bind, break, builtin, caller, cd, command,
compgen, complete, compopt, continue, declare, dirs, disown, echo, enable,
eval, exec, exit, export, false, fc, fg, getopts, hash, help, history, jobs,
kill, let, local, logout, mapfile, popd, printf, pushd, pwd, read, readonly,
return, set, shift, shopt, source, suspend, test, times, trap, true, type,
typeset, ulimit, umask, unalias, unset, wait - bash の組み込みコマンド (<B><A HREF="../man1/bash.1.html">bash</A></B>(1)
を参照)
<A NAME="lbAC">&nbsp;</A>
<H2>bash の組み込みコマンド</H2>




<P>

特に断らない限り、このセクションで説明されている組み込みコマンドのうち <B>-</B> で始まるオプションを受け付けるものは、オプションの終わりを表す
<B>--</B> も受け付けます。 組み込みコマンド <B>:</B>, <B>true</B>, <B>false</B>, <B>test</B> はオプションを持たず、<B>--</B>
を特別扱いしません。 組み込みコマンド <B>exit</B>, <B>logout</B>, <B>break</B>, <B>continue</B>, <B>let</B>,
<B>shift</B> は、<B>-</B> で始まる引き数として受け取るのに、 <B>--</B> を必要としません。 そのほかの組み込みコマンドは、
受け取ると明記されているオプション以外を引き数として受け取り、 <B>-</B> で始まる引き数を不正なオプションをとて解釈します。 この解釈を防ぐには
<B>--</B> が必要です。
<P>

<DL COMPACT>
<DT><B>:</B> [<I>arguments</I>]<DD>

何もしません。このコマンドは <I>arguments</I> を展開し、指定されたリダイレクトを実行する以外には何も行いません。 終了コード 0 を返します。
<DT><BR>&nbsp;<B>.&nbsp;</B>&nbsp;<I>filename</I>&nbsp;[<I>arguments</I>]<DD>

<DT><B>source</B> <I>filename</I> [<I>arguments</I>]<DD>

<I>filename</I> からコマンドを読み込み、現在のシェル環境の下で実行します。 <I>filename</I>
内の最後に実行したコマンドの終了ステータスを返します。 <I>filename</I> にスラッシュが含まれていない場合、 <I>filename</I> は
<FONT SIZE="-1"><B>PATH</B> に含まれるディレクトリから探されます。</FONT>
<FONT SIZE="-1"><B>PATH</B></FONT>
内で検索されるファイルは、実行可能である必要はありません。 <B>bash</B> が <I>posix モード</I> 以外で動作しているときは、
<FONT SIZE="-1"><B>PATH</B> 中でファイルを見つけられなかった場合に、 カレントディレクトリが検索されます。 組み込みコマンド <B>shopt</B> に対する</FONT>
<B>sourcepath</B> オプションが無効にされている場合、
<FONT SIZE="-1"><B>PATH</B> の検索は行われません。 何らかの <I>arguments</I></FONT>
が指定された場合、これらの引き数は <I>filename</I> を実行したときの位置パラメータとなります。
指定されなかった場合は、位置パラメータは変更されません。 返却ステータスはスクリプト内で最後に実行したコマンドのステータスです
(コマンドが全く実行されなければ 0 です)。 <I>filename</I> が見つからない場合や読み込めない場合には偽となります。
<DT><B>alias</B> [<B>-p</B>] [<I>name</I>[=<I>value</I>] ...]<DD>
<B>alias</B> コマンドを引き数を付けずに (あるいは <B>-p</B> オプションを付けて) 実行すると、エイリアスのリストが 「<B>alias</B>
<I>name</I>=<I>value</I>」の形で標準出力に出力されます。 引き数を与えた場合には、<I>value</I> を与えられた <I>name</I>
それぞれに対するエイリアスが定義されます。 <I>value</I> の末尾に空白があると、エイリアスが展開されたときに、
空白の次の単語についてエイリアス置換があるかどうか調べられます。 引き数リスト中に <I>value</I> が与えられていない <I>name</I>
があった場合は、 それぞれに対して名前とエイリアスの値が出力されます。 エイリアスが定義されていない <I>name</I> が指定された場合以外は、
<B>alias</B> は真を返します。
<DT><B>bg</B> [<I>jobspec</I> ...]<DD>
サスペンドされているジョブ <I>jobspec</I> を バックグラウンドで実行再開します。このジョブは、初めから <B>&amp;</B>
を付けて起動されていたかのように動作を続けます。 <I>jobspec</I> がない場合には、 シェルが記録している<I>カレントジョブ (current
job)</I> が使われます。 <B>bg</B> <I>jobspec</I> は通常 0 を返しますが、ジョブ制御が無効であるときに実行した場合や、
ジョブ制御が有効であっても <I>jobspec</I> が有効なジョブを指定していない場合や <I>jobspec</I>
がジョブ制御なしで開始したジョブを指定している場合は異なる値を返します。
<DT><B>bind</B> [<B>-m</B> <I>keymap</I>] [<B>-lpsvPSV</B>]<DD>

<DT><B>bind</B> [<B>-m</B> <I>keymap</I>] [<B>-q</B> <I>function</I>] [<B>-u</B> <I>function</I>] [<B>-r</B> <I>keyseq</I>]<DD>
<DT><B>bind</B> [<B>-m</B> <I>keymap</I>] <B>-f</B> <I>filename</I><DD>
<DT><B>bind</B> [<B>-m</B> <I>keymap</I>] <B>-x</B> <I>keyseq</I>:<I>shell-command</I><DD>
<DT><B>bind</B> [<B>-m</B> <I>keymap</I>] <I>keyseq</I>:<I>function-name</I><DD>
<DT><B>bind</B> <I>readline-command</I><DD>

<B>readline</B> の現在のキー割り当てと関数割り当てを表示したり、 キーシーケンスを <B>readline</B> の関数やマクロに割り当てたり、
<B>readline</B> の変数を設定したりします。 オプション以外の引き数はすべて、 <I>.inputrc ,</I> に書くのと同じ形式のコマンドですが、
それぞれの割り当てやコマンドは独立した引き数として渡さなければなりません。 例えば '&quot;\C-x\C-r&quot;: re-read-init-file'
のように指定します。 オプションを指定した場合には、以下のような意味を持ちます:
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>-m </B><I>keymap</I><DD>
キーマップ <I>keymap</I> を、以降の割り当てによって変更します。 指定できる <I>keymap</I> 名は、 <I>emacs,
emacs-standard, emacs-meta, emacs-ctlx, vi, vi-move, vi-command</I>,
<I>vi-insert</I> です。 <I>vi</I> は <I>vi-command</I> と同じです。 また <I>emacs</I> は
<I>emacs-standard</I> と同じです。
<DT><B>-l</B><DD>
<B>readline</B> 関数の名前を全てリスト表示します。
<DT><B>-p</B><DD>
<B>readline</B> の関数の名前と割り当てを表示します。 表示は、再び読み込みできる形式で出力されます。
<DT><B>-P</B><DD>
<B>readline</B> の関数の現在の名前と割り当てをリスト表示します。
<DT><B>-s</B><DD>
マクロに割り当てられた <B>readline</B> のキーシーケンスと、 マクロが出力する文字列を表示します。
表示は、再び読み込みできる形式で出力されます。
<DT><B>-S</B><DD>
マクロに割り当てられた <B>readline</B> のキーシーケンスと、 マクロが出力する文字列を表示します。
<DT><B>-v</B><DD>
<B>readline</B> の変数名と値を表示します。 表示は、再び読み込みできる形式で出力されます。
<DT><B>-V</B><DD>
<B>readline</B> の現在の変数名と値をリスト表示します。
<DT><B>-f </B><I>filename</I><DD>
キー割り当てを <I>filename</I> から読み込みます。
<DT><B>-q </B><I>function</I><DD>
指定された <I>function</I> を呼び出すキーを問い合わせます。
<DT><B>-u </B><I>function</I><DD>
指定された <I>function</I> に割り当てられているキーの割り当てを 全て取り消します。
<DT><B>-r </B><I>keyseq</I><DD>
<I>keyseq</I> に対する現在の割り当てを削除します。
<DT><B>-x </B><I>keyseq</I><B>:</B><I>shell-command</I><DD>
<I>keyseq</I> が押されるたびに、 <I>shell-command</I> が実行されるようにします。 <I>shell-command</I>
を実行するとき、シェルは変数
<FONT SIZE="-1"><B>READLINE_LINE</B> に <B>readline</B> の編集バッファの内容を設定し、変数</FONT>
<FONT SIZE="-1"><B>READLINE_POINT</B> に現在の挿入ポイントの位置を設定します。 実行したコマンドが</FONT>
<FONT SIZE="-1"><B>READLINE_LINE</B> や</FONT>
<FONT SIZE="-1"><B>READLINE_POINT</B> の値を変更した場合、新しい値が編集の状態に反映されます。</FONT>

</DL>
<P>

認識できないオプションが与えられた場合やエラーが起きた場合以外は、 返り値は 0 になります。
</DL>

<DT><B>break</B> [<I>n</I>]<DD>
<B>for</B>, <B>while</B>, <B>until</B>, <B>select</B> のループから抜けます。<I>n</I> が指定されていれば、<I>n</I> レベル分
のループを break します。 <I>n</I> は 1 以上でなければなりません。 <I>n</I> がループの深さよりも大きい場合には、全てのループから抜けます。
<I>n</I> が 1 未満の場合を除けば、返り値は 0 です。
<DT><B>builtin</B> <I>shell-builtin</I> [<I>arguments</I>]<DD>
指定されたシェル組み込みコマンドを実行します。コマンドには <I>arguments</I> を引き数として渡し、このコマンドの終了ステータスを返します。
これはシェル組み込みコマンドと同じ名前の関数を定義するときに便利で、 その関数内で組み込みコマンドの機能を使うことができます。 組み込みコマンド
<B>cd</B> は普通、これを使って再定義されます。 <I>shell-builtin</I> がシェル組み込みコマンドでなければ、終了ステータスは偽となります。
<DT><B>caller</B> [<I>expr</I>]<DD>
実行中のサブルーチン (シェル関数や、組み込みコマンド <B>.</B> か <B>source</B> で呼び出したスクリプト) 呼び出しのコンテキストを返します。
<I>expr</I> が指定されていなければ、<B>caller</B> は 現在のサブルーチン呼び出しの行番号とソースファイル名を表示します <I>expr</I>
に負でない整数が与えられた場合、<B>caller</B> は、 現在の呼び出しスタック中で指定した位置の行番号、サブルーチン名、 ソースファイルを表示します。
スタックトレースを表示する場合などに、範囲外の情報が使われるかもしれません。 現在のフレームはフレーム 0 です。
シェルがサブルーチンを呼び出していない場合や、 <I>expr</I> が呼び出しスタックの有効な位置に相当しない場合を除けば、 返り値は 0 です。
<DT><B>cd</B> [<B>-L</B>|[<B>-P</B> [<B>-e</B>]]] [<I>dir</I>]<DD>
カレントディレクトリを <I>dir</I> に変更します。 変数
<FONT SIZE="-1"><B>HOME</B> の値が <I>dir</I> のデフォルト値です。変数</FONT>
<FONT SIZE="-1"><B>CDPATH</B> は、 <I>dir</I> を含むディレクトリの検索パスを定義します。</FONT>
<FONT SIZE="-1"><B>CDPATH</B> 内では候補ディレクトリ名はコロン</FONT>
(:) で区切ります。
<FONT SIZE="-1"><B>CDPATH</B> 中に空のディレクトリ名がある場合、これはカレントディレクトリ (つまり ``<B>.</B>'')</FONT>
を意味します。 <I>dir</I> がスラッシュ (/) で始まる場合には、
<FONT SIZE="-1"><B>CDPATH</B> は使われません。 <B>-P</B></FONT>
オプションは、シンボリックリンクを辿らないで物理的なディレクトリ構造を 使うように指示します (組み込みコマンド <B>set</B> の <B>-P</B>
オプションも参照)。 <B>-L</B> オプションを指定すると、シンボリックリンクを辿るようになります。 <B>-e</B> オプションを <B>-P</B>
オプションと同時に指定すると、ディレクトリの変更が成功した後に カレントディレクトリが判定できない場合、<B>cd</B> は失敗のステータスを返します。
引き数に <B>-</B> を指定するのは、
<FONT SIZE="-1"><B>$OLDPWD</B> を指定するのと同じ意味です。</FONT>
<FONT SIZE="-1"><B>CDPATH</B></FONT>
内の空以外のディレクトリ名が使われたときや、 <B>-</B> が最初の引き数のときに、ディレクトリの変更が成功すると、
新しいディレクトリの絶対パス名が標準出力に書かれます。 ディレクトリの変更が成功した場合には返り値は真になり、 そうでない場合には偽になります。
<DT><B>command</B> [<B>-pVv</B>] <I>command</I> [<I>arg</I> ...]<DD>
<I>command</I> に引き数 <I>args</I> を付けて実行します。ただし、シェル関数の通常の参照は行いません。 組み込みコマンドと
<FONT SIZE="-1"><B>PATH</B> 内で見つかるコマンドだけが実行されます。 <B>-p</B> オプションが与えられると、 <I>command</I> の検索を行う際に <B>PATH</B></FONT>
のデフォルト値が使われます。これにより、 全ての標準ユーティリティを確実に見つけられます。 <B>-V</B> オプションまたは <B>-v</B>
オプションを与えると、 <I>command</I> の説明が出力されます。 <B>-v</B> オプションでは、 <I>command</I>
を起動するときに使われるコマンドやファイル名を示す単語が表示されます。 <B>-V</B> ではさらに詳しい説明が表示されます。 <B>-V</B> オプションや
<B>-v</B> オプションを与えた場合、終了ステータスは <I>command</I> が見つかれば 0 となり、見つからなければ 1 となります。
どちらのオプションも与えなかった場合に、エラーが起きたり、 <I>command</I> を見つけられなかったりすると、終了ステータスは 127 になります。
それ以外の場合には、組み込みコマンド <B>command</B> の終了ステータスは、 <I>command</I> の終了ステータスです。
<DT><B>compgen</B> [<I>option</I>] [<I>word</I>]<DD>
<I>option</I> に従って、<I>word</I> にマッチする補完候補のリストを生成します。 オプションには <B>complete</B>
組み込みコマンドと同じものが指定できますが、 <B>-p</B> と <B>-r</B> は指定できません。 マッチのリストは標準出力に出力されます。 <B>-F</B> や
<B>-C</B> オプションを使用したときは、 プログラム補完機能によって設定された様々なシェル変数は、 利用可能であっても有用な値を持ちません。
<P>
マッチのリストは、同じフラグによる補完仕様で プログラム補完のコードが直接生成したかのように 生成されます。 <I>word</I>
が指定されると、<I>word</I> にマッチする補完だけが表示されます。
<P>
戻り値は、 無効なオプションが指定された場合やマッチが生成されなかった場合以外は 真になります。
<DT><B>complete</B> [<B>-abcdefgjksuv</B>] [<B>-o</B> <I>comp-option</I>] [<B>-DE</B>] [<B>-A</B> <I>action</I>] [<B>-G</B> <I>globpat</I>] [<B>-W</B> <I>wordlist</I>] [<B>-F</B> <I>function</I>] [<B>-C</B> <I>command</I>]<DD>
<BR>

[<B>-X</B> <I>filterpat</I>] [<B>-P</B> <I>prefix</I>] [<B>-S</B> <I>suffix</I>] <I>name</I> [<I>name
...</I>]

<DT><B>complete</B> <B>-pr</B> [<B>-DE</B>] [<I>name</I> ...]<DD>

各 <I>name</I> の引き数を、どのように補完するのかを指定します。 <B>-p</B> オプションが指定された場合や、
何もオプションが指定されなかった場合は、 現在の補完仕様が (入力として再利用できる形で) 出力されます。 <B>-r</B> オプションは、それぞれの
<I>name</I> の補完指定を削除します。 <I>name</I> が指定されなかった場合は全ての補完指定を削除します。 <B>-D</B>
オプションは、残りのオプションと動作を ``デフォルトの'' コマンド補完 (補完が定義されていないコマンドに対して 試みられる補完)
に適用することを示します。 <B>-E</B> オプションは、残りのオプションと動作を ``空の'' コマンド補完 (空行に対して試みられる補完)
に適用することを示します。
<P>
単語補完が試みられたときに、補完指定が適用される流れは、 前述の <B>プログラム補完</B> で説明されています。
<P>
他のオプションは、指定された場合、以下のような意味を持ちます。 <B>-G</B>, <B>-W</B>, <B>-X</B> オプションの引き数 (必要ならば <B>-P</B> と
<B>-S</B> オプションの場合も) はクォートして、 組み込みコマンド <B>complete</B> が呼び出される前に展開されないようにすべきです。
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>-o</B> <I>comp-option</I><DD>
<I>comp-option</I> は補完仕様の動作をいくつかの観点から制御し、 単純な補完生成以外ができるようにします。 <I>comp-option</I>
には以下のどれかひとつを指定できます。
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>bashdefault</B><DD>
補完仕様がマッチを全く生成しなかった場合に、 <B>bash</B> のデフォルトの補完を用います。
<DT><B>default</B><DD>
補完仕様がマッチを全く生成しなかった場合に、 readline のデフォルトの補完を用います。
<DT><B>dirnames</B><DD>
補完仕様がマッチを全く生成しなかった場合に、 ディレクトリ名を補完しようとします。
<DT><B>filenames</B><DD>
補完仕様がファイル名を生成することを readline に伝え、 readline がファイル名特有の処理
(ディレクトリ名にスラッシュを加えたり、特殊文字をクォートしたり、 末尾の空白を削除したり、など) を行えるようにします。
シェル関数と共に用いることを想定しています。
<DT><B>nospace</B><DD>
行末で単語を補完したときに空白を付け加える動作 (デフォルトの動作) を やめるように readline に伝えます。
<DT><B>plusdirs</B><DD>
補完仕様で定義されたマッチした候補が生成された後に、 ディレクトリ名の補完を試み、ほかの動作の結果にマッチした候補が 全て追加されます。
</DL>
</DL>

<DT><B>-A</B> <I>action</I><DD>
<I>action</I> は補完候補リストの生成動作で、 以下のどれかひとつを指定します。
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>alias</B><DD>
エイリアス名。<B>-a</B> でも指定できます。
<DT><B>arrayvar</B><DD>
配列変数名。
<DT><B>binding</B><DD>
<B>readline</B> キー割り当て名。
<DT><B>builtin</B><DD>
シェル組み込みコマンド名。<B>-b</B> でも指定できます。
<DT><B>command</B><DD>
コマンド名。<B>-c</B> でも指定できます。
<DT><B>directory</B><DD>
ディレクトリ名。<B>-d</B> でも指定できます。
<DT><B>disabled</B><DD>
無効にされているシェル組み込みコマンドの名前。
<DT><B>enabled</B><DD>
有効にされているシェル組み込みコマンドの名前。
<DT><B>export</B><DD>
エクスポートされたシェル変数の名前。 <B>-e</B> でも指定できます。
<DT><B>file</B><DD>
ファイル名。<B>-f</B> でも指定できます。
<DT><B>function</B><DD>
シェル関数の名前。
<DT><B>group</B><DD>
グループ名。<B>-g</B> でも指定できます。
<DT><B>helptopic</B><DD>
組み込みコマンド <B>help</B> に指定できるヘルプのトピック名。
<DT><B>hostname</B><DD>
<FONT SIZE="-1"><B>HOSTFILE</B> シェル変数で指定されたファイルから得られたホスト名。</FONT>
<DT><B>job</B><DD>
ジョブ名 (ジョブ制御が有効な場合)。<B>-j</B> でも指定できます。
<DT><B>keyword</B><DD>
シェルの予約語。<B>-k</B> でも指定できます。
<DT><B>running</B><DD>
ジョブ制御が有効であれば、実行中のジョブ名。
<DT><B>service</B><DD>
サービス名。<B>-s</B> でも指定できます。
<DT><B>setopt</B><DD>
組み込みコマンド <B>set</B> の <B>-o</B> オプションで有効な引き数。
<DT><B>shopt</B><DD>
組み込みコマンド <B>shopt</B> に指定できるシェルオプション名。
<DT><B>signal</B><DD>
シグナル名。
<DT><B>stopped</B><DD>
停止しているジョブ名 (ジョブ制御が有効な場合)。
<DT><B>user</B><DD>
ユーザ名。<B>-u</B> でも指定できます。
<DT><B>variable</B><DD>
全てのシェル変数名。<B>-v</B> でも指定できます。
</DL>
</DL>

<DT><B>-C</B> <I>command</I><DD>
<I>command</I> がサブシェル環境で実行され、 その出力が補完候補として使用されます。
<DT><B>-F</B> <I>function</I><DD>
シェル関数 <I>function</I> は現在のシェル環境で実行されます。 関数が終了したときに、補完候補が
<FONT SIZE="-1"><B>COMPREPLY</B></FONT>
配列変数から取得されます。
<DT><B>-G</B> <I>globpat</I><DD>
パス名展開パターン <I>globpat</I> を展開し、 補完候補のリストを生成します。
<DT><B>-P</B> <I>prefix</I><DD>
ほかの全てのオプションが適用された後で、 それぞれの補完候補の先頭に <I>prefix</I> が付け加えられます。
<DT><B>-S</B> <I>suffix</I><DD>
ほかの全てのオプションが適用された後で、 それぞれの補完候補の後に <I>suffix</I> が付け加えられます。
<DT><B>-W</B> <I>wordlist</I><DD>
<I>wordlist</I> は
<FONT SIZE="-1"><B>IFS</B> 特殊変数に含まれる文字を区切り文字として分割され、 分割された単語がそれぞれ展開されます。</FONT>
展開結果のリストのメンバのうち、補完中の単語がマッチするものが、 補完候補となります。
<DT><B>-X</B> <I>filterpat</I><DD>
<I>filterpat</I> がパス名展開のパターンとして使用されます。 先行するオプション・引き数によって生成された補完候補のリストに適用され、
<I>filterpat</I> とマッチするそれぞれの補完候補がリストから削除されます。 <I>filterpat</I> が <B>!</B>
で始まる場合、パターンの否定の意味になります。 つまり、<I>filterpat</I> にマッチしない補完対象が削除されます。

</DL>
<P>

不正なオプションが指定された場合、<B>-p</B> と <B>-r</B> 以外のオプションで <I>name</I> が指定されなかった場合、 存在しない <I>name</I>
の指定によって補完が削除されようとした場合、 補完の指定の追加に失敗した場合、を除いては、返り値は真になります。
</DL>

<DT><B>compopt</B> [<B>-o</B> <I>option</I>] [<B>-DE</B>] [<B>+o</B> <I>option</I>] [<I>name</I>]<DD>
<I>name</I> の補完オプションを <I>option</I> に従って変更します。 <I>name</I> が指定されない場合は、実行中の補完が対象になります。
<I>option</I>s が与えられない場合は、<I>name</I> または現在の補完の 補完オプションを表示します。 <I>option</I>
に指定できる値は、前述の組み込みコマンド <B>complete</B> で有効なものです。 <B>-D</B> オプションは、残りのオプションを ``デフォルトの''
コマンド補完 (補完が定義されていないコマンドに対して 試みられる補完) に適用することを示します。 <B>-E</B> オプションは、残りのオプションを
``空の'' コマンド補完 (空行に対して試みられる補完) に適用することを示します。
<P>
不正なオプションが指定された場合、 補完仕様が定義されていない <I>name</I> のオプションを変更しようとした場合、
出力エラーが起こった場合、を除いては、返り値は真になります。
<DT><B>continue</B> [<I>n</I>]<DD>
<B>for</B>, <B>while</B>, <B>until</B>, <B>select</B> ループの次の繰り返し分から実行を継続します。 <I>n</I> を指定すると、深さを
<I>n</I> 個分上がったループで実行を継続します。 <I>n</I> は 1 以上でなければなりません。 <I>n</I> がループの深さよりも大きい場合、 最後のループ
(「トップレベル」のループ) で実行が継続されます。 <I>n</I> が 1 未満の場合を除けば、返り値は 0 です。
<DT><B>declare</B> [<B>-aAfFgilrtux</B>] [<B>-p</B>] [<I>name</I>[=<I>value</I>] ...]<DD>

<DT><B>typeset</B> [<B>-aAfFgilrtux</B>] [<B>-p</B>] [<I>name</I>[=<I>value</I>] ...]<DD>

変数を宣言したり、変数に属性を与えたりします。 <I>name</I> を指定しなければ、変数の値が表示されます。 <B>-p</B> オプションを指定すると、各
<I>name</I> の属性と値が表示されます。 <B>-p</B> に <I>name</I> 引き数を指定すると、他のオプションは無視されます。 <B>-p</B> オプションが
<I>name</I> 引き数なしで指定されると、 他のオプションで指定された属性を持っている 全ての変数の属性と値を表示します。 <B>-p</B>
以外のオプションが指定されない場合、 <B>declare</B> は全てのシェル変数の属性と値を表示します。 <B>-f</B>
オプションは表示をシェル関数に限定します。 <B>-F</B> オプションを指定すると、関数定義の表示を止めます。 関数の名前と属性だけが出力されます。
<B>shopt</B> によってシェルオプション <B>extdebug</B> が有効になっていれば、
関数が定義されているソースファイルの名前と行番号も表示されます。 <B>-F</B> オプションを指定すると、 <B>-f</B> オプションも指定したことになります。
<B>-g</B> オプションを指定すると、<B>declare</B> がシェル関数の中で実行されたときであっても、 グローバルスコープで変数の作成、変更を行います。
ほかの場合には無視されます。 以下のオプションを使うと、 指定した属性を持つ変数の出力を限定したり、 変数に属性を与えたりできます:
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>-a</B><DD>
各 <I>name</I> は配列変数です (前述の <B>配列</B> を参照)。
<DT><B>-A</B><DD>
各 <I>name</I> は連想配列変数です (前述の <B>配列</B> を参照)。
<DT><B>-f</B><DD>
関数名だけを使います。
<DT><B>-i</B><DD>
変数を整数として扱います。変数に値が代入されたときに算術式評価 (
<FONT SIZE="-1"><B>算術式評価</B> を参照) が実行されます。</FONT>
<DT><B>-l</B><DD>
変数に値が代入されると、全ての大文字は小文字に変換されます。 大文字属性は無効になります。
<DT><B>-r</B><DD>
<I>name</I> を読み込み専用にします。 これ以降、代入文を用いて値を代入したり unset したりできなくなります。
<DT><B>-t</B><DD>
各 <I>name</I> に <I>trace</I> 属性を与えます。 trace 属性を付与された関数は <B>DEBUG</B> と <B>RETURN</B> のトラップを
呼び出したシェルから受け継ぎます trace 属性は変数には意味を持ちません。
<DT><B>-u</B><DD>
変数に値が代入されると、全ての小文字は大文字に変換されます。 小文字属性は無効になります。
<DT><B>-x</B><DD>
<I>name</I> に印を付け、 これ以降に実行するコマンドに環境経由でエクスポートします。

</DL>
<P>

`-' ではなく `+' を使うと属性を消します。 ただし例外として、<B>+a</B> を使って配列変数を破棄することはできず、 <B>+r</B>
を使って読み込み専用属性を消すことはできません。 関数内で使った場合、 <B>-g</B> オプションが与えられなかった場合、 <B>local</B>
コマンドを使った場合と同様に <I>name</I> はローカル変数となります。 変数名に =<I>value</I> が続く場合、 変数の値として <I>value</I>
が設定されます。 返り値は基本的には 0 ですが、不正なオプションに出会った場合、
``-f foo=bar'',

を使って関数を定義しようとした場合、 読み込み専用の変数に代入しようとした場合、 複合代入構文を使わずに配列変数に値を代入しようとした場合 (前述の
<B>配列</B> を参照)、<I>name</I> のいずれかが正しいシェル変数名でない場合、 読み込み専用変数の読み込み専用属性を無効にしようとした場合、
配列変数の配列属性を無効にしようとした場合、 存在しない関数を <B>-f</B> オプションで表示しようとした場合は除きます。
</DL>

<DT><B>dirs [+</B><I>n</I><B>] [-</B><I>n</I><B>] [-clpv]</B><DD>
オプションがないときは、 現在記憶しているディレクトリのリストが表示されます。 デフォルトでは、全てのディレクトリ名は空白で区切って 1
行で表示されます。 ディレクトリは <B>pushd</B> コマンドによってリストに追加されます。 <B>popd</B> コマンドはリストからエントリを削除します。
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>+</B><I>n</I><DD>
オプションなしで <B>dirs</B> を起動したときに表示されるリストの、 左から数えて <I>n</I> 番目のエントリを表示します。 エントリは 0
から始まります。
<DT><B>-</B><I>n</I><DD>
オプションなしで <B>dirs</B> を起動したときに表示されるリストの、 右から数えて <I>n</I> 番目のエントリを表示します。 エントリは 0
から始まります。
<DT><B>-c</B><DD>
全てのエントリを削除し、ディレクトリスタックをクリアします。
<DT><B>-l</B><DD>
長い形式のリスト表示を行います。 デフォルトのリスト表示フォーマットでは、 チルダを使ってホームディレクトリを表します。
<DT><B>-p</B><DD>
1 行に 1 エントリの形でディレクトリスタックを出力します。
<DT><B>-v</B><DD>
1 行に 1 エントリの形でディレクトリスタックを出力します。 各エントリの前にはスタック内での番号が表示されます。

</DL>
<P>

不正なオプションが与えられた場合とインデックス <I>n</I> がディレクトリスタックの末尾を越えている場合を除き、 返り値は 0 となります。
</DL>

<DT><B>disown</B> [<B>-ar</B>] [<B>-h</B>] [<I>jobspec</I> ...]<DD>
オプションなしの場合には、それぞれの <I>jobspec</I> がアクティブなジョブのテーブルから削除されます。 <I>jobspec</I> がなく、かつ
<B>-a</B> オプションも <B>-r</B> オプションも 与えられていない場合には、<I>カレントジョブ</I>が使われます。 <B>-h</B>
オプションが与えられている場合、どの <I>jobspec</I> もテーブルから削除されず、 シェルが
<FONT SIZE="-1"><B>SIGHUP</B></FONT>
を受け取ってもそのジョブには
<FONT SIZE="-1"><B>SIGHUP</B> が送られないように印が付けられます。 <I>jobspec</I> が与えられていない場合、</FONT>
<B>-a</B> オプションは全てのジョブを削除するか 全てのジョブに印を付けるという意味 となります。 <I>jobspec</I> 引き数なしで <B>-r</B>
オプションを指定すると、 実行中のジョブだけが操作の対象となります。 <I>jobspec</I> が有効なジョブを指定していない場合を除き、返り値は 0
となります。
<DT><B>echo</B> [<B>-neE</B>] [<I>arg</I> ...]<DD>
<I>arg</I> を空白で区切って出力し、最後に改行を出力します。 終了ステータスは常に 0 です。 <B>-n</B>
が指定された場合、最後の改行は出力されません。 <B>-e</B> オプションを指定した場合、
以下に示す、バックスラッシュのエスケープ文字が解釈されるようになります。 <B>-E</B> オプションを指定すると、
デフォルトでこのようなエスケープ文字が解釈されるシステムであっても、 エスケープ文字が解釈されないようになります。 <B>xpg_echo</B>
シェルオプションを用いると、 <B>echo</B> がこれらのエスケープ文字を展開するかどうかの デフォルト動作を動的に決定できます。 <B>echo</B> は
<B>--</B> をオプションの終わりと解釈しません。 <B>echo</B> は以下のエスケープシーケンスを解釈します:
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>\a</B><DD>
警告 (ベル)
<DT><B>\b</B><DD>
バックスペース
<DT><B>\c</B><DD>
行末に改行を付けない
<DT><B>\e</B><DD>
<DT><B>\E</B><DD>
エスケープ文字
<DT><B>\f</B><DD>
フォームフィード
<DT><B>\n</B><DD>
改行
<DT><B>\r</B><DD>
復帰 (carriage return)
<DT><B>\t</B><DD>
水平タブ
<DT><B>\v</B><DD>
垂直タブ
<DT><B>\\</B><DD>
バックスラッシュ
<DT><B>\0</B><I>nnn</I><DD>
8 進値で <I>nnn</I> である 8 ビット文字 (8 進数で 0〜3 桁)。
<DT><B>\x</B><I>HH</I><DD>
16 進値が <I>HH</I> である 8 ビット文字 (16 進で 1〜2 桁)。
<DT><B>\u</B><I>HHHH</I><DD>
16 進値が <I>HHHH</I> であるユニコード (ISO/IEC 10646) 文字 (16 進 1〜4 桁)。
<DT><B>\U</B><I>HHHHHHHH</I><DD>
16 進値が <I>HHHHHHHH</I> であるユニコード (ISO/IEC 10646) 文字 (16 進 1〜8 桁)。

</DL>
</DL>

<DT><B>enable</B> [<B>-a</B>] [<B>-dnps</B>] [<B>-f</B> <I>filename</I>] [<I>name</I> ...]<DD>
組み込みコマンドの有効/無効を設定します。 シェルは通常はディスクコマンドの前に組み込みコマンドを探しますが、 組み込みコマンドを無効にすると、
シェルの組み込みコマンドと同じ名前を持つディスクコマンドを、 完全なパス名を指定しなくても実行できます。 <B>-n</B> を用いると、それぞれの
<I>name</I> は無効となります。 それ以外の場合には、<I>name</I> は有効となります。 例えば、シェル組み込みのものでなく
<FONT SIZE="-1"><B>PATH</B> 上にある <B>test</B> バイナリを使うには</FONT>

``enable -n test''.
を実行します。 <B>-f</B> オプションは新しい組み込みコマンド <I>name</I> を共有オブジェクト <I>filename</I>
からロードするという意味です。 これは動的ロードをサポートしているシステムで使えます。 <B>-d</B> オプションは、以前に <B>-f</B>
オプションでロードした組み込みコマンドを削除します。 引き数 <I>name</I> が与えられなかった場合や、 <B>-p</B> オプションが与えられた場合、
シェルの組み込みコマンドのリストが表示されます。 他にオプション引き数が指定されていない場合には、
有効になっているシェル組み込みコマンド全てからなるリストが表示されます。 <B>-n</B> を与えると、無効にされている組み込みコマンドだけが出力されます。
<B>-a</B> を与えると、 それぞれ有効かどうかの表示付きで全ての組み込みコマンドが出力されます。 <B>-s</B> を与えると、出力されるのは POSIX
の<I>特殊</I>組み込みコマンドだけに制限されます。 <I>name</I> がシェル組み込みコマンドでない場合と、
共有オブジェクトからの新しい組み込みコマンドのロードに失敗した場合を除き、 返り値は 0 となります。
<DT><B>eval</B> [<I>arg</I> ...]<DD>
<I>arg</I> を読み込み、1 つのコマンドに結合し、 このコマンドを読み込んで実行します。 その終了ステータスが <B>eval</B> の値として返されます。
<I>args</I> がない場合や空の引き数しかない場合には <B>eval</B> は 0 を返します。
<DT><B>exec</B> [<B>-cl</B>] [<B>-a</B> <I>name</I>] [<I>command</I> [<I>arguments</I>]]<DD>
<I>command</I> が指定されていると、シェルはこのコマンドに置き換えられます。 新しいプロセスは生成されません。 <I>arguments</I> は
<I>command</I> に対する引き数となります。 <B>-l</B> オプションを与えると、シェルは <I>command</I> に渡す 0
番目のオプションの先頭にダッシュを設定します。 これは <I><A HREF="../../shadow/man1/login.1.html">login</A></I>(1)  が行う動作です。 <B>-c</B> オプションを与えると、
<I>command</I> は空の環境で実行されます。 <B>-a</B> を与えると、シェルは実行するコマンドに 0 番目の引き数として <I>name</I>
を渡します。何らかの理由で <I>command</I> が実行できない場合には非対話的シェルは終了します。 ただしシェルオプション <B>execfail</B>
が設定されている場合は終了せず、この場合には偽が返されます。 ファイルが実行できない場合には、対話的シェルは偽を返します。 <I>command</I>
が指定されていない場合、任意のリダイレクトはカレントシェルで効果を持ち、 終了ステータスは 0 となります。
リダイレクトのエラーが起きた場合には、終了ステータスは 1 となります。
<DT><B>exit</B> [<I>n</I>]<DD>
ステータス <I>n</I> でシェルを終了させます。 <I>n</I> を省略すると、 終了ステータスは最後に実行したコマンドの終了ステータスとなります。
シェルが終了する前には、
<FONT SIZE="-1"><B>EXIT</B> に対するトラップが実行されます。</FONT>
<DT><B>export</B> [<B>-fn</B>] [<I>name</I>[=<I>word</I>]] ...<DD>

<DT><B>export -p</B><DD>

指定された <I>name</I> には印が付けられ、 これ以降に実行するコマンドの環境に 自動的にエクスポートされるようになります。 <B>-f</B>
オプションを与えると、 <I>name</I> は関数を参照します。 <I>name</I> を与えなかった場合や、 <B>-p</B> オプションを与えた場合には、
このシェル内でエクスポートされている全ての名前のリストが出力されます。 <B>-n</B>
オプションを与えると、指定した変数からエクスポート属性が取り除かれます。 変数名に =<I>word</I> が続くと、変数の値に <I>word</I>
が設定されます。 不正なオプションがあった場合、 <I>name</I> のいずれかが不正なシェル変数名であった場合、 関数でない名前に対して <B>-f</B>
オプションを与えた場合を除き、 <B>export</B> は終了ステータス 0 を返します。
<DT><B>fc</B> [<B>-e</B> <I>ename</I>] [<B>-lnr</B>] [<I>first</I>] [<I>last</I>]<DD>

<DT><B>fc</B> <B>-s</B> [<I>pat</I>=<I>rep</I>] [<I>cmd</I>]<DD>

フィックスコマンド (Fix Command)。 最初の形式では、 <I>first</I> から <I>last</I>
までの範囲のコマンドが履歴リストから選択されます。 <I>first</I> と <I>last</I> には文字列か数値を指定します。
文字列はその文字列で始まる最後のコマンドを表し、 数値は履歴リスト中でのインデックスを表します
(負の値は現在のコマンド番号からのオフセットとして扱われます)。 <I>last</I> が指定されていない場合、リスト表示の場合には 現在のコマンドが
<I>last</I> に設定され (したがって
``fc -l -10''

で最近のコマンド 10 個が出力されます)、それ以外の場合には <I>first</I> が設定されます。 <I>first</I>
が指定されていなければ、編集の場合には前のコマンドが <I>first</I> に設定され、 リスト表示の場合には -16 が設定されます。
<P>
<B>-n</B> オプションを与えるとリスト表示でコマンド番号が付きません。 <B>-r</B> オプションを与えるとコマンドの順序が逆になります。 <B>-l</B>
オプションを与えると、コマンドは標準出力にリスト表示されます。 それ以外の場合には、これらのコマンドが書かれたファイルに対し、 <I>ename</I>
で指定したエディタが起動されます。 <I>ename</I> が与えられていない場合は、変数
<FONT SIZE="-1"><B>FCEDIT</B> の値が使われ、</FONT>
<FONT SIZE="-1"><B>FCEDIT</B> も設定されていない場合には</FONT>
<FONT SIZE="-1"><B>EDITOR</B> の値が使われます。 どちらの変数も設定されていなければ、</FONT>

が使われます。 編集が終了すると、編集後のコマンドがエコー表示され、実行されます。
<P>
2 番目の形式では、<I>pat</I> の部分をそれぞれ <I>rep</I> で置き換えてから <I>command</I> が再実行されます。
これを利用している便利なエイリアスの例として
``r=&quot;fc -s&quot;'',

があります。 これを用いると
``r cc''

と入力すれば
``cc''

で始まる最も新しいコマンドを実行でき、
``r''

と入力すれば直前のコマンドを再実行できます。
<P>
最初の形式を用いた場合、不正なオプションがあるか、 <I>first</I> または <I>last</I> が履歴行の範囲外を指定していなければ、返り値は 0
となります。 <B>-e</B> オプションが与えられた場合、 返り値は最後に実行されたコマンドの返り値となります。
ただし、コマンドの一時ファイルでエラーが起きた場合には返り値は偽 (失敗) となります。 2 番目の形式を用いた場合、
終了ステータスは再実行されたコマンドの終了ステータスとなります。 ただし、 <I>cmd</I> が有効な履歴行を指定していない場合は、 <B>fc</B> は偽
(失敗) を返します。
<DT><B>fg</B> [<I>jobspec</I>]<DD>
<I>jobspec</I> の実行をフォアグラウンドで再開し、これをカレントジョブとします。 <I>jobspec</I>
がない場合、シェルが記録している<I>カレントジョブ</I>が使われます。 返り値はフォアグラウンドで再開されたコマンドの返り値ですが、
ジョブ制御が無効であるときに実行した場合や、 ジョブ制御が有効であっても <I>jobspec</I> が有効なジョブを指定していない場合や
<I>jobspec</I> がジョブ制御なしで実行したジョブを指定している場合には偽となります。
<DT><B>getopts</B> <I>optstring</I> <I>name</I> [<I>args</I>]<DD>
<B>getopts</B> は位置パラメータを解釈するシェルの処理で使います。 <I>optstring</I> は識別の対象であるオプション文字列です。
ある文字の後にコロンがある場合、 そのオプションは引き数を一つ取ることが期待されます。 引き数は空白でオプション文字と区切られていなければなりません。
コロンと疑問符はオプション文字として使えません。 呼び出されるたびに、 <B>getopts</B> は次に見つかったオプションをシェル変数 <I>name</I>
に格納し (<I>name</I> が存在しなければ初期化を行います)、 次に処理される引き数のインデックスを変数
<FONT SIZE="-1"><B>OPTIND</B></FONT>
に格納します。
<FONT SIZE="-1"><B>OPTIND</B> はシェルまたはシェルスクリプトが呼び出されるたびに 1 に初期化されます。</FONT>
オプションが引き数を必要とする場合には、 <B>getopts</B> はその引き数を変数
<FONT SIZE="-1"><B>OPTARG</B> に格納します。 シェルが</FONT>
<FONT SIZE="-1"><B>OPTIND</B> を自動的に再設定することはありません。 1 つのシェルが呼び出されている間に別のパラメータの組み合わせを使う場合には、</FONT>
再度 <B>getopts</B> を呼び出す前に手動で <B>OPTIND</B> の再設定を行わなければなりません。
<P>
オプションの終わりに到達すると、 <B>getopts</B> は 0 より大きい返り値で終了します。
<FONT SIZE="-1"><B>OPTIND</B></FONT>
にはオプションでない最初の引き数のインデックスが設定され、 <I>name</I> には ? が設定されます。
<P>
<B>getopts</B> は通常位置パラメータを展開しますが、他の引き数が <I>args</I> に指定されている場合には、 <B>getopts</B>
は位置パラメータでなくこれらの引き数を解釈対象とします。
<P>
<B>getopts</B> は 2 通りの方法でエラーを報告します。 <I>optstring</I> の最初の文字がコロンならば、 <I>静かな (silent)</I>
エラー報告が行われます。 通常の動作では、不正なオプションがある場合や オプションの引き数が足りない場合に診断メッセージが出力されます。 変数
<FONT SIZE="-1"><B>OPTERR</B> に 0 が設定されている場合、 <I>optstring</I> の最初の文字がコロンでない場合であっても、</FONT>
エラーメッセージは全く出力されません。
<P>
不正なオプションがあった場合、 <B>getopts</B> は ? を <I>name</I> に設定します。
さらに、静かなモードでない場合にはエラーメッセージが出力され、
<FONT SIZE="-1"><B>OPTARG</B> が削除されます。 <B>getopts</B></FONT>
が静かなモードであれば、見つかったオプション文字は
<FONT SIZE="-1"><B>OPTARG</B> に設定され、診断メッセージは出力されません。</FONT>
<P>
必要な引き数が見つからず、かつ <B>getopts</B> が静かなモードでない場合には、疑問符 (<B>?</B>) が <I>name</I> に設定され、
<FONT SIZE="-1"><B>OPTARG</B> が削除され、診断メッセージが出力されます。 <B>getopts</B> が静かなモードならば、コロン (<B>:</B>)</FONT>
が <I>name</I> に設定され、
<FONT SIZE="-1"><B>OPTARG</B> には見つかったオプション文字が設定されます。</FONT>
<P>
(指定の有無に関係なく) オプションが見つかった場合、 <B>getopts</B> は真を返します。
オプションの最後に到達した場合や、エラーが起きた場合には、 偽を返します。
<DT><B>hash</B> [<B>-lr</B>] [<B>-p</B> <I>filename</I>] [<B>-dt</B>] [<I>name</I>]<DD>
<B>hash</B> が実行される度に、 <B>$PATH</B> に含まれるディレクトリの検索を行ってコマンド <I>name</I> の完全なパス名を調べ、
その結果を記憶します。 それまでに記憶されていたパス名は捨てられます。 <B>-p</B> オプションが指定されると、パス検索は実行されず、
<I>filename</I> がそのコマンドの完全なファイル名として使われます。 <B>-r</B> オプションを与えると、シェルは記憶しているパス名を全て忘れます。
<B>-d</B> オプションを与えると、シェルは各 <I>name</I> について記憶しているパス名を忘れます。 <B>-t</B> オプションを与えると、<I>name</I>
に対応する完全なファイル名が表示されます。 <B>-t</B> に複数の <I>name</I> 引き数が指定された場合、 記憶されている完全なファイル名の前に
<I>name</I> が表示されます。 <B>-l</B> オプションを与えると、入力として再利用できる形で出力されます。 引き数が与えられていない場合や、<B>-l</B>
だけが与えられた場合は、 記憶しているコマンドに関する情報が出力されます。 <I>name</I> が見つからない場合と不正なオプションが与えられた場合を除き、
返却ステータスは真となります。
<DT><B>help</B> [<B>-dms</B>] [<I>pattern</I>]<DD>
組み込みコマンドのヘルプ情報を表示します。 <I>pattern</I> が指定された場合には、 <B>help</B> は <I>pattern</I>
にマッチする全てのコマンドに関する詳しいヘルプを出力します。 指定されなかった場合には、 全ての組み込みコマンドと制御構造についての説明が出力されます。
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>-d</B><DD>
<I>pattern</I> それぞれの短い説明を表示します。
<DT><B>-m</B><DD>
<I>pattern</I> それぞれの説明を manpage 風のフォーマットで表示します。
<DT><B>-s</B><DD>
<I>pattern</I> それぞれの短い書式のみを表示します。

</DL>
<P>

<I>pattern</I> にマッチするコマンドが全くない場合を除き、返却ステータスは 0 です。
</DL>

<DT><B>history [</B><I>n</I><B>]</B><DD>

<DT><B>history</B> <B>-c</B><DD>
<DT><B>history -d</B> <I>offset</I><DD>
<DT><B>history</B> <B>-anrw</B> [<I>filename</I>]<DD>
<DT><B>history</B> <B>-p</B> <I>arg</I> [<I>arg ...</I>]<DD>
<DT><B>history</B> <B>-s</B> <I>arg</I> [<I>arg ...</I>]<DD>

オプションがない場合には、行番号付きでコマンド履歴を表示します。 <B>*</B> 付きでリスト表示されている行は変更された行です。 引き数 <I>n</I>
を指定すると、最新の <I>n</I> 行だけがリスト表示されます。 シェル変数
<FONT SIZE="-1"><B>HISTTIMEFORMAT</B></FONT>
に空でない値が設定されると、履歴エントリを表示するときに タイムスタンプを表示するための <I><A HREF="../../LDP_man-pages/man3/strftime.3.html">strftime</A></I>(3) の書式文字列 として使われます。
タイムスタンプと履歴行の間には空白は表示されません。 <I>filename</I> が指定されている場合、 履歴ファイルの名前として使われます。
指定されていない場合には
<FONT SIZE="-1"><B>HISTFILE</B> の値が使われます。指定された場合、オプションは以下の意味を持ちます:</FONT>
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>-c</B><DD>
全てのエントリを削除し、履歴リストをクリアします。
<DT><B>-d</B> <I>offset</I><DD>
<I>offset</I> 番目にある履歴エントリを削除します。
<DT><B>-a</B><DD>
「新しい」履歴行 (<B>bash</B> の現在のセッションの開始以降に入力された履歴行)  を履歴ファイルに追加します。
<DT><B>-n</B><DD>
まだ履歴ファイルから読み込んでいない履歴行を 現在の履歴リストに読み込みます。 読み込まれるのは、<B>bash</B> の現在のセッションの開始以降に
履歴ファイルに追加された行です。
<DT><B>-r</B><DD>
履歴ファイルの内容を読み込み、これらを現在の履歴として用います。
<DT><B>-w</B><DD>
現在の履歴を履歴ファイルに書き込みます。履歴ファイルの内容は上書きされます。
<DT><B>-p</B><DD>
後に続く <I>args</I> に対して履歴置換を行い、 その結果を標準出力に表示します。 この結果は履歴リストには格納されません。
通常の履歴展開が行われないようにするため、 <I>arg</I> はそれぞれクォートしなければなりません。
<DT><B>-s</B><DD>
<I>args</I> を 1 つのエントリとして履歴リストに格納します。 履歴リストの最後のコマンドは、 <I>args</I> が追加される前に削除されます。

</DL>
<P>

<FONT SIZE="-1"><B>HISTTIMEFORMAT</B> 変数が設定されていると、履歴エントリのタイムスタンプの情報は、</FONT>
履歴のコメント文字を付けて履歴ファイルに書き込まれます。 履歴ファイルを読み込むときに、履歴のコメント文字で始まり直後に数字が続く行は、
直前の履歴行のタイムスタンプとして解釈されます。 不正なオプションがある場合、 履歴ファイルの読み書き時にエラーが起きた場合、 <B>-d</B>
オプションの引き数として不正な <I>offset</I> の値が与えられた場合、 <B>-p</B> オプションの引き数として与えられた履歴展開が失敗した場合を除き、
返り値は 0 になります。
</DL>

<DT><B>jobs</B> [<B>-lnprs</B>] [ <I>jobspec</I> ... ]<DD>

<DT><B>jobs</B> <B>-x</B> <I>command</I> [ <I>args</I> ... ]<DD>

最初の形式を実行すると、アクティブなジョブがリスト表示されます。 オプションは以下の意味を持ちます:
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>-l</B><DD>
通常の情報に加えて、プロセス ID をリスト表示します。
<DT><B>-n</B><DD>
ユーザがステータスを最後に通知されて以降に、 ステータスの変更があったジョブに関する情報だけを表示します。
<DT><B>-p</B><DD>
そのジョブが属するプロセスグループのリーダーのプロセス ID だけを表示します。
<DT><B>-r</B><DD>
実行中のジョブだけを出力します。
<DT><B>-s</B><DD>
停止中のジョブだけを出力します。

</DL>
<P>

<I>jobspec</I> が指定された場合、 そのジョブに関する情報だけが出力されます。 不正なオプションがある場合や、不正な <I>jobspec</I>
が与えられた場合を除き、返却ステータスは 0 です。
<P>

<B>-x</B> オプションが指定されると、 <B>jobs</B> は <I>command</I> や <I>args</I> 中の <I>jobspec</I>
を対応するプロセスのグループ ID で置き換え、 <I>command</I> に <I>args</I> を与えて実行し、その終了ステータスを返します。
</DL>

<DT><B>kill</B> [<B>-s</B> <I>sigspec</I> | <B>-n</B> <I>signum</I> | <B>-</B><I>sigspec</I>] [<I>pid</I> | <I>jobspec</I>] ...<DD>

<DT><B>kill</B> <B>-l</B> [<I>sigspec</I> | <I>exit_status</I>]<DD>

<I>sigspec</I> または <I>signum</I> で指定されたシグナルを、 <I>pid</I> または <I>jobspec</I> で指定されたプロセスに送ります。
<I>sigspec</I> は、
<FONT SIZE="-1"><B>SIGKILL</B> のようなシグナル名 (先頭の</FONT>
<FONT SIZE="-1"><B>SIG</B></FONT>
は省略可能)、またはシグナルの番号です。 <I>signum</I> はシグナルの番号です。 <I>sigspec</I> が存在しない場合には、
<FONT SIZE="-1"><B>SIGTERM</B> が指定されたものとします。 引き数に <B>-l</B> を与えるとシグナル名がリスト表示されます。 <B>-l</B></FONT>
と同時に引き数を与えると、 引き数に対応するシグナルの名前がリスト表示され、 返却ステータスは 0 となります。 <B>-l</B> に対する引き数
<I>exit_status</I> は、 シグナル番号、またはシグナルによって終了させられた プロセスの終了ステータスを指定する数です。 少なくとも 1
つのシグナルを正常に送れた場合、 <B>kill</B> は真を返します。 エラーが起きた場合や不正なオプションがあった場合には、 <B>kill</B>
は偽を返します。
<DT><B>let</B> <I>arg</I> [<I>arg</I> ...]<DD>
各 <I>arg</I> は評価を行う算術式です
<FONT SIZE="-1">(<B>算術式展開</B> を参照)。 最後の <I>arg</I> を評価した結果が 0 であれば、</FONT>
<B>let</B> は 1 を返します。 それ以外の場合には 0 が返されます。
<DT><B>local</B> [<I>option</I>] [<I>name</I>[=<I>value</I>] ...]<DD>
それぞれの引き数に対して <I>name</I> という名前のローカル変数が生成され、 <I>value</I> が代入されます。 <I>option</I> には、
<B>declare</B> コマンドに使えるオプションが全て使えます。 関数内で <B>local</B> を使った場合、この変数 <I>name</I>
の可視スコープは、この関数とこの関数の子に制限されます。 オペランドがない場合、 <B>local</B> はローカル変数の一覧を標準出力に出力します。
関数の内部以外で <B>local</B> を使うとエラーになります。 <B>local</B> が関数の外部で使われた場合、 不正な <I>name</I>
が与えられた場合、 <I>name</I> が読み取り専用の変数であった場合以外は、 <B>local</B> の返却ステータスは 0 となります。
<DT><B>logout</B><DD>
ログインシェルを終了します。
<DT><B>mapfile</B> [<B>-n</B> <I>count</I>] [<B>-O</B> <I>origin</I>] [<B>-s</B> <I>count</I>] [<B>-t</B>] [<B>-u</B> <I>fd</I>] [<B>-C</B> <I>callback</I>] [<B>-c</B> <I>quantum</I>] [<I>array</I>]<DD>

<DT><B>readarray</B> [<B>-n</B> <I>count</I>] [<B>-O</B> <I>origin</I>] [<B>-s</B> <I>count</I>] [<B>-t</B>] [<B>-u</B> <I>fd</I>] [<B>-C</B> <I>callback</I>] [<B>-c</B> <I>quantum</I>] [<I>array</I>]<DD>

標準入力の各行を配列変数 <I>array</I> に読み込みます。 <B>-u</B> オプションが指定されたときは、ファイル・ディスクリプター <I>fd</I>
から読み込みます。 変数
<FONT SIZE="-1"><B>MAPFILE</B> がデフォルトの <I>array</I> です。</FONT>
オプションが指定された場合、以下の意味を持ちます:
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>-n</B><DD>
最大 <I>count</I> 行をコピーします。<I>count</I> が 0 であれば、全ての行をコピーします。
<DT><B>-O</B><DD>
<I>array</I> のインデックス <I>origin</I> から代入を始めます。デフォルトのインデックスは 0 です。
<DT><B>-s</B><DD>
最初の <I>count</I> 行を読み捨てます。
<DT><B>-t</B><DD>
読み込んだ各行の末尾にある改行文字を削除します。
<DT><B>-u</B><DD>
標準入力の代わりにファイル・ディスクリプター <I>fd</I> から行を読み込みます。
<DT><B>-C</B><DD>
<I>quantum</I> 行が読み込まれるごとに <I>callback</I> を評価します。<B>-c</B> オプションで <I>quantum</I> を指定します。
<DT><B>-c</B><DD>
<I>callback</I> を呼び出す間隔の行数を指定します。

</DL>
<P>

<B>-c</B> なしで <B>-C</B> が指定されたとき、デフォルトの間隔は 5000 です。 <I>callback</I> が評価されるとき、
次に代入される配列要素のインデックスと、 その要素に代入される行が、引き数として与えられます。 <I>callback</I> は、行が読み込まれてから
配列の要素に代入されるまでの間に評価されます。
<P>

始点が明示的に指定されない場合、<B>mapfile</B> は値を代入する前に <I>array</I> をクリアします。
<P>

<B>mapfile</B> は、 不正なオプションやオプション引き数が指定された場合や、 <I>array</I> が不正か代入できない場合や、 <I>array</I>
がインデックスによる配列でない場合でなければ、 成功の状態を返します。
</DL>

<DT><B>popd</B> [-<B>n</B>] [+<I>n</I>] [-<I>n</I>]<DD>
ディレクトリスタックからエントリを削除します。 引き数がない場合には、スタック先頭のディレクトリが削除され、 新しく先頭となったディレクトリへの
<B>cd</B> が実行されます。 引き数が指定された場合には、これは以下の意味を持ちます:
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>-n</B><DD>
スタックからディレクトリを削除する際に、 通常のディレクトリ変更を行いません。 したがって、スタックだけが操作されます。
<DT><B>+</B><I>n</I><DD>
<B>dirs</B> で表示されるリストの左から数えて <I>n</I> 番目のエントリを削除します。 エントリは 0 から数えます。例えば、
``popd +0''

は最初のディレクトリを削除し、
``popd +1''

は 2 番目のディレクトリを削除します。
<DT><B>-</B><I>n</I><DD>
<B>dirs</B> で表示されるリストの右から数えて <I>n</I> 番目のエントリを削除します。 エントリは 0 から数えます。例えば、
``popd -0''

は最後のディレクトリを削除し、
``popd -1''

は最後の 1 つ前のディレクトリを削除します。

</DL>
<P>

<B>popd</B> コマンドが成功した場合、 <B>dirs</B> も実行され、返却ステータスは 0 となります。 <B>popd</B>
が偽を返すのは、不正なオプションがあった場合、 ディレクトリスタックが空の場合、 ディレクトリスタックの存在しないエントリが指定された場合、
ディレクトリ変更に失敗した場合です。
</DL>

<DT><B>printf</B> [<B>-v</B> <I>var</I>] <I>format</I> [<I>arguments</I>]<DD>
<I>arguments</I> を整形して標準出力に書き出します。 フォーマットは <I>format</I> で制御します。 <B>-v</B>
オプションが与えられると、標準出力に書き出す代わりに、 変数 <I>var</I> に代入されます。
<P>
<I>format</I> は 3 つのタイプのオブジェクトを含む文字列です。 3 つのオブジェクトとは、普通の文字 (そのまま標準出力にコピーされる)、
文字エスケープシーケンス (変換されて標準出力にコピーされる)、 表示フォーマット指定 (<I>format</I> の後に続く各引き数 <I>argument</I>
の表示を行う)、です。 <I><A HREF="../../0MultiFileIdx/man1/printf.1.html">printf</A></I>(1) 標準のフォーマット指定以外に、以下の拡張フォーマットが使えます。
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>%b</B><DD>
<B>printf</B> は対応する <I>argument</I> 中の バックスラッシュのエスケープシーケンスを展開します。 ただし、<B>\c</B>
で出力を終了し、<B>\'</B>, <B>\&quot;</B>, <B>\?</B> のバックスラッシュは削られず、 <B>\0</B> で始まる 8
進数のエスケープシーケンスは 4 桁までです。
<DT><B>%q</B><DD>
<B>printf</B> は対応する <I>argument</I> をシェルの入力として再利用できるフォーマットで出力します。
<DT><B>%(</B><I>datefmt</I><B>)T</B><DD>
<B>printf</B> は <I>datefmt</I> を <I><A HREF="../../LDP_man-pages/man3/strftime.3.html">strftime</A></I>(3)  の書式文字列として使って日付と時刻の文字列を出力します。 対応する
<I>argument</I> は、紀元 (1970年 1 月 1 日 00:00:00 UTC)  からの秒数を表す整数値です。<I>argument</I> には
2 つの特別な値が使えます。 -1 は現在時刻を表します。-2 はシェルが起動した時刻を表します。

</DL>
<P>

文字列でないフォーマット指定に対する引き数は、C の定数として扱われます。 ただし、先頭のプラスとマイナスの記号は許されます。
また、先頭の文字がシングルクォートやダブルクォートであれば、 続く文字の ASCII コードの値が引き数の値となります。
<P>

<I>format</I> は必要に応じて再利用され、 全ての <I>arguments</I> を処理します。 与えられたよりも多くの <I>arguments</I> を
<I>format</I> が必要とする場合、余分のフォーマット指定は、 0 と空文字列のうち、適切な方が指定されたかのように動作します。
成功した場合の返り値は 0 で、失敗した場合の返り値は 0 以外です。
</DL>

<DT><B>pushd</B> [<B>-n</B>] [+<I>n</I>] [-<I>n</I>]<DD>

<DT><B>pushd</B> [<B>-n</B>] [<I>dir</I>]<DD>

ディレクトリをディレクトリのスタックに追加するか、 スタックをローテートさせます。 このとき、新しいスタックの最も上にあるものを
カレントの作業ディレクトリにします。 引き数を与えなければ、 一番上の 2 つのディレクトリを交換し、0 を返します。
ただし、ディレクトリスタックが空の場合を除きます。 引き数を与えた場合には、以下の意味を持ちます:
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>-n</B><DD>
ディレクトリをスタックに追加したときに、 通常のディレクトリ変更を行いません。 したがって、スタックだけが操作されます。
<DT><B>+</B><I>n</I><DD>
スタックをローテートさせ、<I>n</I> 番目のディレクトリを一番上にします。 このとき <B>dirs</B> が表示するリストは左から数え始め、その左端は 0
となります。
<DT><B>-</B><I>n</I><DD>
スタックをローテートさせ、<I>n</I> 番目のディレクトリを一番上にします。 このとき <B>dirs</B> が表示するリストは右から数え始め、その右端は 0
となります。
<DT><I>dir</I><DD>
<I>dir</I> をディレクトリスタックの一番上に追加し、 そのディレクトリを新しいカレントの作業ディレクトリにします。

</DL>
<P>

<B>pushd</B> コマンドが成功すると、 <B>dirs</B> コマンドも実行されます。 2 番目の形式を使った場合、 <I>dir</I> への cd
が失敗しなければ、 <B>pushd</B> は 0 を返します。 最初の形式を使った場合には、 ディレクトリスタックが空の場合、
ディレクトリスタックの存在しない要素が指定された場合、 指定された新しいカレントディレクトリへの ディレクトリ変更が失敗した場合以外は、
<B>pushd</B> は基本的には 0 を返します。
</DL>

<DT><B>pwd</B> [<B>-LP</B>]<DD>
現在の作業ディレクトリの絶対パス名を出力します。 <B>-P</B> オプションが指定された場合や、組み込みコマンド <B>set</B> の <B>-o
physical</B> オプションが有効になっている場合には、 シンボリックリンクを展開したパス名が出力されます。 <B>-L</B> オプションを使うと、
出力されるパス名にはシンボリックリンクが含まれているかもしれません。 カレントディレクトリの名前を読む際にエラーが起きたり、
不正なオプションが指定されたりしなければ、返却ステータスは 0 となります。
<DT><B>read</B> [<B>-ers</B>] [<B>-a</B> <I>aname</I>] [<B>-d</B> <I>delim</I>] [<B>-i</B> <I>text</I>] [<B>-n</B> <I>nchars</I>] [<B>-N</B> <I>nchars</I>] [<B>-p</B> <I>prompt</I>] [<B>-t</B> <I>timeout</I>] [<B>-u</B> <I>fd</I>] [<I>name</I> ...]<DD>
標準入力、 または <B>-u</B> オプションの引き数として指定されたファイル・ディスクリプター <I>fd</I> から 1 行を読み込み、最初の単語を最初の
<I>name</I> に代入し、2 番目の単語を 2 番目の <I>name</I> に代入します。以降も同様です。 余った単語とそれらの間の区切り文字は、最後の
<I>name</I> に代入されます。 <I>name</I> よりも標準入力から読み込んだ単語の方が少ない場合には、 余っている <I>name</I>
には空文字列が値として代入されます。
<FONT SIZE="-1"><B>IFS</B> 中の文字が、行を単語に分割するために使われます。 バックスラッシュ文字 (<B>\</B>)</FONT>
を使うと、 次に読み込んだ文字の特殊な意味を消したり、行を連結したりできます。 オプションが与えられていれば、以下の意味を持ちます:
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>-a </B><I>aname</I><DD>
単語を配列変数 <I>aname</I> にインデックス順に代入します。インデックスは 0 から始まります。 新しい値が代入される前に <I>aname</I>
は削除されます。他の <I>name</I> 引き数は無視されます。
<DT><B>-d </B><I>delim</I><DD>
改行ではなく、<I>delim</I> の最初の文字が、入力行を終了するために使われます。
<DT><B>-e</B><DD>
標準入力を端末から読み込む場合、 <B>readline</B> (前述の
<FONT SIZE="-1"><B>READLINE ライブラリ</B> のセクションを参照)</FONT>
を使って行を取得します。 readline は現在の (行編集がそれまで有効になっていなければデフォルトの)  編集設定を使います。
<DT><B>-i </B><I>text</I><DD>
行を取得するのに <B>readline</B> が使われるとき、入力を開始する前に編集バッファに <I>text</I> が置かれます。
<DT><B>-n </B><I>nchars</I><DD>
組み込みコマンド <B>read</B> は、 入力行全体が読み込まれるのを待たず、 <I>nchars</I> 文字を読み込んだ時点で戻ります。
ただし、<I>nchars</I> 文字が読み込まれる前に区切り文字が現われたときは、 区切り文字を優先します。
<DT><B>-N </B><I>nchars</I><DD>
入力行全体が読み込まれるのを待たず、 <I>nchars</I> 文字を読み込んだ時点で戻ります。 ただし、入力に EOF が現れたときや、 <B>read</B>
がタイムアウトになったときを除きます。 入力に区切り文字が現れても特別扱いはせず、 <I>nchars</I> 文字を読み込むまでは <B>read</B>
が戻ることはありません。
<DT><B>-p </B><I>prompt</I><DD>
入力を読み込もうとする前に標準エラー出力に <I>prompt</I> を表示します。 末尾に改行は付きません。
プロンプトが表示されるのは、入力を端末から読み込む場合だけです。
<DT><B>-r</B><DD>
バックスラッシュはエスケープ文字として作用しません。 バックスラッシュは行の一部とみなされます。 特に、バックスラッシュと改行の組み合わせを使って
複数の行を接続することはできません。
<DT><B>-s</B><DD>
静かな (silent) モード。端末に入力が行われても、文字はエコーされません。
<DT><B>-t </B><I>timeout</I><DD>
入力行全体が <I>timeout</I> 秒以内で読み込まれない場合、 <B>read</B> をタイムアウトさせて、失敗の状態を返します。 <I>timeout</I>
は小数部を持つ十進数でもかまいません。 このオプションは、 <B>read</B> が入力を端末やパイプ、その他の特殊ファイルから
読み込んでいる場合にのみ効果があります。 通常のファイルから読み込んでいる場合には影響ありません。 <I>timeout</I> が 0
のときは、<B>read</B> は指定したファイル・ディスクリプター から読み込める状態であれば成功の状態を返し、そうでなければ失敗の状態を返します。
タイムアウト時間を超えた場合、終了ステータスは 128 より大きい値になります。
<DT><B>-u </B><I>fd</I><DD>
ファイル・ディスクリプター <I>fd</I> から入力を読み込みます。

</DL>
<P>

<I>name</I> が全く与えられていない場合、読み込まれた行は変数
<FONT SIZE="-1"><B>REPLY</B> に代入されます。 ファイル末尾に到達した場合、</FONT>
<B>read</B> がタイムアウトした場合 (この場合には終了ステータスは 128 より大きい値になります)、 <B>-u</B>
の引き数として不正なファイル・ディスクリプターが指定した場合以外は、 終了コードは 0 です。
</DL>

<DT><B>readonly</B> [<B>-aAf</B>] [<B>-p</B>] [<I>name</I>[=<I>word</I>] ...]<DD>

指定された <I>name</I> に読み込み専用の印を付けます。 それ以降は、これらの <I>name</I> の値を変更することはできません。 <B>-f</B>
オプションを与えた場合、<I>name</I> に対応する関数に同様の印が付きます。 <B>-a</B> オプションを与えると、配列変数だけが対象となります。
<B>-A</B> オプションを与えると、連想配列変数だけが対象となります。 両方のオプションを与えると、 <B>-A</B> が優先されます。 <I>name</I>
引き数が全く与えられてない場合、または <B>-p</B> オプションが与えられた場合、読み込み専用の名前全ての一覧が出力されます。
ほかのオプションを合わせて指定すると、出力を読み込み専用の名前の一部に限定します。 <B>-p</B> オプションを使うと、
入力として再利用できるようなフォーマットで出力が行われます。 変数名に =<I>word</I> が続くと、変数の値に <I>word</I> が設定されます。
返却ステータスは基本的に 0 ですが、 無効なオプションがあった場合、 <I>name</I> のいずれかが有効なシェル変数名でなかった場合、 <B>-f</B>
オプションの際に関数でない <I>name</I> を与えた場合は除きます。
<DT><B>return</B> [<I>n</I>]<DD>
指定した返り値 <I>n</I> で関数を終了させます。 <I>n</I> を省略すると、返却ステータスは 関数内で最後に実行したコマンドの返却ステータスになります。
関数の外側で使われているが、 <B>.</B> (<B>source</B>) コマンドによるスクリプトの実行中である場合、 シェルはそのスクリプトの実行を止め、
<I>n</I> またはスクリプト内で最後に実行されたコマンドの終了ステータスを スクリプトの終了ステータスとして返します。 関数の外側で <B>.</B>
によるスクリプトの実行中以外に使われた場合、 返却ステータスは偽となります。 関数やスクリプトから実行が戻る前に、 <B>RETURN</B> トラップ
に設定されたコマンドが実行されます。
<DT><B>set</B> [<B>--abefhkmnptuvxBCEHPT</B>] [<B>-o</B> <I>option-name</I>] [<I>arg</I> ...]<DD>

<DT><B>set</B> [<B>+abefhkmnptuvxBCEHPT</B>] [<B>+o</B> <I>option-name</I>] [<I>arg</I> ...]<DD>

オプションなしの場合は、シェル変数全ての名前と値の組が表示されます。 表示は、現在設定されている変数を設定や再設定をする入力
として再利用できるフォーマットで行われます。 読み込み専用の変数は再設定できません。 <I>posix モード</I> ではシェル変数だけが表示されます。
出力は現在のロケールに従ってソートされます。 オプションが指定されている場合、 オプションはシェルの属性を設定または解除します。
オプションが処理された後に残っている引き数があれば、 これは位置パラメータの値として扱われ、 <B>$1</B>, <B>$2</B>, <B>...</B> <B>$</B><I>n</I>
の順に代入されます。 オプションが指定されていれば、以下の意味を持ちます:
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>-a</B><DD>
値を変更したり新規に設定したりした変数および関数が、 (これ以降に実行するコマンドの) 環境として 自動的にエクスポートされます。
<DT><B>-b</B><DD>
終了したバックグラウンドジョブのステータス報告を、 次のプライマリプロンプトの前ではなく、即座に行います。 これはジョブ制御が有効な場合に限り有効です。
<DT><B>-e</B><DD>
<I>パイプライン</I> (1 つの <I>単純なコマンド</I> からなるものでもよい)、 括弧で囲まれた <I>サブシェル</I> のコマンド、 ブレース (前述の
<FONT SIZE="-1"><B>シェルの文法</B> を参照) で囲まれたコマンドのリストの一部として実行されたコマンドの 1 つ が 0</FONT>
でないステータスで終了した場合、即座に終了します。 ただし、失敗したコマンドが、キーワード <B>while</B> または <B>until</B>
の直後のコマンドの一部である場合、予約語 <B>if</B> または <B>elif</B> に続く条件式の一部である場合、 <B>&amp;&amp;</B> または <B>||</B>
によるコマンドのリストの一部である場合 (最後の <B>&amp;&amp;</B> や <B>||</B> の後のコマンドを除く)、 パイプラインの中の最後のコマンド以外である、
コマンドの返り値が <B>!</B> で反転されている場合、のいずれかであれば、シェルは終了しません。 <B>ERR</B>
に対するトラップが設定されていれば、シェルが終了する前に実行されます。 このオプションはシェルの環境と各サブシェルの環境に別々に適用され (前述の
<FONT SIZE="-1"><B>コマンド実行環境</B> を参照)、 サブシェルはサブシェル内の全てのコマンドを実行する前に終了するかもしれません。</FONT>
<DT><B>-f</B><DD>
パス名展開を無効にします。
<DT><B>-h</B><DD>
実行時に参照できるようにコマンドの位置を記憶します。 これはデフォルトで有効になっています。
<DT><B>-k</B><DD>
コマンド名の前にある代入文だけでなく、 引数として指定された全て代入文も、 そのコマンドに対する環境変数に追加されます。
<DT><B>-m</B><DD>
監視モード。ジョブ制御は有効になります。ジョブ制御 (前述の
<FONT SIZE="-1"><B>ジョブ制御</B> セクションを参照)</FONT>
をサポートしているシステム上の対話的シェルでは、 このオプションはデフォルトで有効です。 別のプロセスグループで実行されたバックグラウンドプロセスと、
これらの終了ステータスが書かれた行が、プロセスの終了時に表示されます。
<DT><B>-n</B><DD>
コマンドを読み込みますが実行はしません。 これを使うとシェルスクリプトの文法エラーをチェックできます。 このオプションは対話的シェルでは無視されます。
<DT><B>-o </B><I>option-name</I><DD>
<I>option-name</I> には、以下のいずれかを指定できます:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>allexport</B><DD>
<B>-a</B> と同じです。
<DT><B>braceexpand</B><DD>
<B>-B</B> と同じです。
<DT><B>emacs</B><DD>
emacs 形式のコマンド行編集インタフェースを使います。 これはシェルが対話的な場合には、デフォルトで有効です。 ただし、
<B>--noediting</B> オプション付きでシェルを実行した場合は除きます。 これは、<B>read -e</B> での編集インタフェースにも影響します。
<DT><B>errexit</B><DD>
<B>-e</B> と同じです。
<DT><B>errtrace</B><DD>
<B>-E</B> と同じです。
<DT><B>functrace</B><DD>
<B>-T</B> と同じです。
<DT><B>hashall</B><DD>
<B>-h</B> と同じです。
<DT><B>histexpand</B><DD>
<B>-H</B> と同じです。
<DT><B>history</B><DD>
コマンド履歴を有効にします。コマンド履歴については
<FONT SIZE="-1"><B>履歴</B> セクションで説明しています。</FONT>
このオプションは、対話的シェルではデフォルトで有効です。
<DT><B>ignoreeof</B><DD>
シェルコマンドの

``IGNOREEOF=10''
を実行した場合と同じ効果を持ちます (前述の <B>シェル変数</B> を参照)。
<DT><B>keyword</B><DD>
<B>-k</B> と同じです。
<DT><B>monitor</B><DD>
<B>-m</B> と同じです。
<DT><B>noclobber</B><DD>
<B>-C</B> と同じです。
<DT><B>noexec</B><DD>
<B>-n</B> と同じです。
<DT><B>noglob</B><DD>
<B>-f</B> と同じです。
<DT><B>nolog</B><DD>
現在は無視されます。
<DT><B>notify</B><DD>
<B>-b</B> と同じです。
<DT><B>nounset</B><DD>
<B>-u</B> と同じです。
<DT><B>onecmd</B><DD>
<B>-t</B> と同じです。
<DT><B>physical</B><DD>
<B>-P</B> と同じです。
<DT><B>pipefail</B><DD>
設定されている場合、パイプラインの返り値は、 0 以外のステータスで終了した最後の (一番右の) コマンドの値になります。
パイプラインの全てのコマンドが成功の状態で終了すると 0 になります。 このオプションは、デフォルトで無効です。
<DT><B>posix</B><DD>
<B>bash</B> の動作のうち、デフォルトの振舞いが POSIX 標準と異なる部分を、POSIX 標準に準拠するように変更します (<I>posix
モード</I>)。
<DT><B>privileged</B><DD>
<B>-p</B> と同じです。
<DT><B>verbose</B><DD>
<B>-v</B> と同じです。
<DT><B>vi</B><DD>
vi 形式のコマンド行編集インタフェースを使います。 これは、<B>read -e</B> での編集インタフェースにも影響します。
<DT><B>xtrace</B><DD>
<B>-x</B> と同じです。
<P>
</DL>
<P>

<I>option-name</I> なしで <B>-o</B> オプションを与えた場合、現在のオプションが出力されます。 <I>option-name</I> なしで
<B>+o</B> オプションを与えた場合、現在のオプション設定を再生成する <B>set</B> コマンドの列が標準出力に出力されます。
</DL>

<DT><B>-p</B><DD>
<I>特権 (privileged)</I> モードを有効にします。 このモードでは
<FONT SIZE="-1"><B>$ENV</B> と</FONT>
<FONT SIZE="-1"><B>$BASH_ENV</B></FONT>
ファイルは処理されず、シェル関数は環境から継承されず、
<FONT SIZE="-1"><B>SHELLOPTS</B>,</FONT>
<FONT SIZE="-1"><B>BASHOPTS</B>,</FONT>
<FONT SIZE="-1"><B>CDPATH</B>,</FONT>
<FONT SIZE="-1"><B>GLOBIGNORE</B> 環境変数は定義されていても無視されます。 実ユーザ (グループ) ID</FONT>
と異なる実効ユーザ (グループ) ID でシェルが起動され、 かつ <B>-p</B> オプションが与えられていない場合、 これらの動作が行われ、実効ユーザ
ID には実ユーザ ID が設定されます。 起動時に <B>-p</B> オプションが与えられた場合、 実効ユーザ ID は再設定されません。
このオプションを無効にすると、 実効ユーザ ID と実効グループ ID には、 実ユーザ ID と 実グループ ID が設定されます。
<DT><B>-t</B><DD>
コマンドを 1 つ読み込み、実行してから終了します。
<DT><B>-u</B><DD>
パラメータ展開の実行中に、特殊パラメータ &quot;@&quot; と &quot;*&quot; 以外で 設定されていない変数やパラメータをエラーとして扱います。
設定されていない変数やパラメータを展開しようとした場合、 シェルはエラーメッセージを出力します。 シェルが対話的でなければ、0
でないステータスで終了します。
<DT><B>-v</B><DD>
シェルの入力行を、読み込んだ際に表示します。
<DT><B>-x</B><DD>
<I>単純なコマンド</I>、<B>for</B> コマンド、<B>case</B> コマンド、 <B>select</B> コマンド、算術 <B>for</B>
コマンドをそれぞれ展開した後、
<FONT SIZE="-1"><B>PS4</B> を展開した値を表示し、その後にそのコマンドと展開した引き数や、</FONT>
結び付いた単語のリストを表示します。
<DT><B>-B</B><DD>
シェルはブレース展開 (前述の <B>ブレース展開</B> を参照) を実行します。これはデフォルトで有効です。
<DT><B>-C</B><DD>
設定されている場合、 <B>bash</B> はリダイレクト演算子 <B>&gt;</B>, <B>&gt;&amp;</B>, <B>&lt;&gt;</B>
で既存のファイルを上書きしません。 上書きができるのは、リダイレクト演算子 <B>&gt;|</B> を <B>&gt;</B> の代わりに使ったときです。
<DT><B>-E</B><DD>
設定されている場合、<B>ERR</B> のトラップは、 シェル関数、コマンド置換、サブシェル環境で実行されるコマンド に継承されます。
通常、このような場面では <B>ERR</B> のトラップは継承されません。
<DT><B>-H</B><DD>
<B>!</B> 形式の履歴置換を有効にします。 このオプションは、シェルが対話的なときにはデフォルトで有効です。
<DT><B>-P</B><DD>
設定されている場合、 <B>cd</B> のような現在の作業ディレクトリを変更するコマンドを実行するときに、 シェルはシンボリックリンクを辿りません。
代わりに物理的ディレクトリ構造が使われます。 デフォルトでは、 <B>bash</B> がカレントディレクトリを変更するコマンドを実行する際には、
ディレクトリの論理的な接続が辿られます。
<DT><B>-T</B><DD>
設定されている場合、<B>DEBUG</B> と <B>RETURN</B> のトラップは、 シェル関数、コマンド置換、サブシェル環境で実行されるコマンド
に継承されます。 通常、このような場面では <B>DEBUG</B> と <B>RETURN</B> のトラップは継承されません。
<DT><B>--</B><DD>
このオプションの後に引き数が続いていない場合には、 位置パラメータの設定が取り消されます。 引き数が続いている場合には、位置パラメータに <I>arg</I>
が設定されます。 <I>arg</I> に <B>-</B> で始まるものが含まれていても、 オプションではなく位置パラメータとして扱われます。
<DT><B>-</B><DD>
オプションの終わりを示します。 残りの <I>arg</I> は全て位置パラメータに代入されます。 <B>-x</B> オプションと <B>-v</B>
オプションは無効になります。 <I>arg</I> がない場合には、位置パラメータの内容は変化しません。

</DL>
<P>

特に断らない限り、各オプションはデフォルトで無効になっています。 - の代わりに + を使うと、これらのオプションは無効になります。
オプションはシェルを起動する際の引き数としても指定できます。 現在のオプションの集合は、 <B>$-</B> で知ることができます。
不正なオプションが無ければ、終了ステータスは必ず真となります。
</DL>

<DT><B>shift</B> [<I>n</I>]<DD>
<I>n</I>+1 ... からの位置パラメータの名前を変え、 <B>$1</B> <B>...</B> とします。 <B>$#</B> から <B>$#</B>-<I>n</I>+1
までの数字で表される パラメータは unset されます。 <I>n</I> は 0 以上 <B>$#</B> 以下の数でなければなりません。 <I>n</I> が 0
ならば、どのパラメータも変更されません。 <I>n</I> が与えられない場合には、1 が指定されたものとみなされます。 <I>n</I> が <B>$#</B>
より大きい場合、位置パラメータは変化しません。 <I>n</I> が <B>$#</B> より大きい場合や 0 より小さい場合には、 返却ステータスは 0
より大きい数になります。 それ以外の場合には 0 になります。
<DT><B>shopt</B> [<B>-pqsu</B>] [<B>-o</B>] [<I>optname</I> ...]<DD>
シェルのオプション動作を制御する変数の値をトグルさせます。 オプションがない場合や、 <B>-p</B> オプションが指定されている場合には、
設定可能なオプション全てのリストが表示されます。 表示の際には、それぞれが設定されているかどうかも示されます。
オプションの表示は、入力として再利用できるフォーマットで行われます。 その他のオプションは、以下の意味を持っています:
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>-s</B><DD>
<I>optname</I> をそれぞれ有効にします (設定します)。
<DT><B>-u</B><DD>
<I>optname</I> をそれぞれ無効にします (設定解除します)。
<DT><B>-q</B><DD>
通常の出力を止めます (静かなモード)。 返却ステータスは <I>optname</I> が設定されているかどうかを示します。 複数の <I>optname</I>
引き数と <B>-q</B> が指定されている場合には、 全ての <I>optnames</I> が有効であるときに返却ステータスが 0 となります。
それ以外のときには、0 でない値となります。
<DT><B>-o</B><DD>
<I>optname</I> の値を、組み込みコマンド <B>set</B> の <B>-o</B> オプションで定義されているものに制限します。

</DL>
<P>

引き数 <I>optname</I> なしで <B>-s</B> オプションまたは <B>-u</B> オプションを使った場合、それぞれ設定されているもの、
または設定されていないものだけに表示が限定されます。 特に断らない限り、<B>shopt</B> オプションは デフォルトで無効 (設定解除) になっています。
<P>

オプションをリスト表示したときの返却ステータスは、 全ての <I>optnames</I> が有効になっている場合は 0 となります。 それ以外の場合には 0
でない値となります。 設定または設定取り消しのオプションのときには、 <I>optname</I> が不正なシェルオプションでなければ、 返却ステータスは 0
となります。
<P>

<B>shopt</B> オプションのリストを以下に示します:

<P>


<DL COMPACT>
<DT><B>autocd</B><DD>
設定されている場合、ディレクトリの名前のコマンド名は、 それが <B>cd</B> コマンドの引き数に指定されたものとして実行されます。
このオプションが使われるのは対話的シェルだけです。
<DT><B>cdable_vars</B><DD>
設定されている場合、組み込みコマンド <B>cd</B> への引き数でディレクトリでないものは変数の名前とみなされ、 その値が変更先のディレクトリとなります。
<DT><B>cdspell</B><DD>
設定されている場合、 <B>cd</B> コマンドのディレクトリ要素におけるスペルのちょっとした誤りは修正されます。
チェックされる誤りは、文字の入れ替わり・文字の欠け・ 1 文字余分にあることです。 訂正できた場合には、訂正後のファイル名が表示され、
コマンドは続けて実行されます。 このオプションが使われるのは対話的シェルだけです。
<DT><B>checkhash</B><DD>
設定されている場合、 <B>bash</B> はハッシュ表で見つけたコマンドを実行する前に 実際に存在するかどうかをチェックします。
ハッシュされているコマンドが既になくなっている場合、 通常のパス検索が行われます。
<DT><B>checkjobs</B><DD>
設定されている場合、<B>bash</B> は対話的シェルが終了する前に、 停止中のジョブや実行中のジョブの状態を一覧します。
実行中のジョブがあれば、シェルの終了は、 間にほかのコマンドを挟まずに 2 回目の終了が試みられるまで延期されます (前述の
<FONT SIZE="-1"><B>ジョブ制御</B> を参照)。 停止中のジョブがある場合は、シェルは常に終了を延期します。</FONT>
<DT><B>checkwinsize</B><DD>
設定されている場合、<B>bash</B> はコマンドの実行後に毎回ウィンドウの大きさをチェックし、 必要に応じて
<FONT SIZE="-1"><B>LINES</B> と</FONT>
<FONT SIZE="-1"><B>COLUMNS</B> の値を更新します。</FONT>
<DT><B>cmdhist</B><DD>
設定されている場合、 <B>bash</B> は複数行に分かれているコマンドの全ての行を、 同じ履歴エントリに保存しようとします。
これを使うと、複数行に分かれているコマンドの再編集が容易になります。
<DT><B>compat31</B><DD>
設定されている場合、 <B>bash</B> は、条件コマンド <B>[[</B> の <B>=~</B> 演算子のクォートされた引き数に関して bash version
3.1 の動作に変更します。
<DT><B>compat32</B><DD>
設定されている場合、 <B>bash</B> は、条件コマンド <B>[[</B> の <B>&lt;</B> 演算子と <B>&gt;</B>
演算子によるロケール固有の文字列比較に関して、 version 3.2 の動作に変更します。 bash の bash-4.1
より前のバージョンでは、ASCII コードの照合と <I><A HREF="../../LDP_man-pages/man3/strcmp.3.html">strcmp</A></I>(3)  を使います。 bash-4.1 およびそれ以後のバージョンでは、
現在のロケールの照合順序と <I><A HREF="../../LDP_man-pages/man3/strcoll.3.html">strcoll</A></I>(3)  を使います。
<DT><B>compat40</B><DD>
設定されている場合、 <B>bash</B> は、条件コマンド <B>[[</B> の <B>&lt;</B> 演算子と <B>&gt;</B>
演算子によるロケール固有の文字列比較 (前項を参照)  とコマンドリストの解釈の効果に関して、 version 4.0 の動作に変更します。
<DT><B>compat41</B><DD>
設定されている場合、 <B>bash</B> は posix モードのときに、 ダブルクォートの中のパラメータ展開で シングルクォートを特殊文字として扱います。
シングルクォートは対応が取れている (偶数個) 必要があり、 シングルクォートの間の文字はクォートされているものとして扱われます。 これは
version 4.1 の posix モードの動作です。 bash のデフォルトの動作は前のバージョンのままです。
<DT><B>dirspell</B><DD>
設定されている場合、 <B>bash</B> は 指定されたディレクトリ名が存在しなければ、 単語補完のときにディレクトリ名のスペルの訂正を試みます。
<DT><B>dotglob</B><DD>
設定されている場合、 <B>bash</B> は `.' で始まるファイル名をパス名展開の結果に含めます。
<DT><B>execfail</B><DD>
設定されている場合、 組み込みコマンド <B>exec</B> への引き数として指定されたファイルが実行できなくても、 対話的でないシェルが終了しません。
対話的シェルは <B>exec</B> に失敗しても終了しません。
<DT><B>expand_aliases</B><DD>
設定されている場合、エイリアスが前述の
<FONT SIZE="-1"><B>エイリアス</B> セクションで説明したように展開されます。</FONT>
このオプションは、対話的なシェルではデフォルトで有効です。
<DT><B>extdebug</B><DD>
設定されている場合、デバッガのための動作が有効になります。
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>1.</B><DD>
組み込みコマンド <B>declare</B> の <B>-F</B> オプションが、 引き数で指定された各関数のソースファイル名と行番号を表示します。
<DT><B>2.</B><DD>
<B>DEBUG</B> のトラップで実行されたコマンドが 0 以外を返したとき、 次のコマンドはスキップされ実行もされません。
<DT><B>3.</B><DD>
<B>DEBUG</B> のトラップで実行されたコマンドが 2 を返し、かつ、 シェルがサブルーチン (シェル関数や、組み込みコマンドの <B>.</B> や
<B>source</B> により実行されたシェルスクリプト)  を実行しているとき、<B>return</B> の呼び出しがシミュレートされます。
<DT><B>4.</B><DD>
上記のシェル変数の説明で述べたように、
<FONT SIZE="-1"><B>BASH_ARGC</B> と</FONT>
<FONT SIZE="-1"><B>BASH_ARGV</B> が更新されます。</FONT>
<DT><B>5.</B><DD>
関数のトレースが有効になります。 コマンド置換、シェル関数、<B>(</B> <I>command</I> <B>)</B> で起動されたサブシェルは、 <B>DEBUG</B> と
<B>RETURN</B> のトラップを継承します。
<DT><B>6.</B><DD>
エラーのトレースが有効になります。 コマンド置換、シェル関数、<B>(</B> <I>command</I> <B>)</B> から起動されたサブシェルは、 <B>ERR</B>
のトラップを継承します。
</DL>
</DL>

<DT><B>extglob</B><DD>
設定されている場合、拡張されたパターンマッチング機能が有効になります。 これについては、前述の<B>パス名展開</B>で説明しています。
<DT><B>extquote</B><DD>
設定されている場合、ダブルクォート中の <B>${</B><I>parameter</I><B>}</B> の展開で、<B>$</B>'<I>string</I>' と
<B>$</B>&quot;<I>string</I>&quot; のクォートが機能します。 このオプションは、デフォルトで有効です。
<DT><B>failglob</B><DD>
設定されている場合、パス名展開でパターンがファイル名のマッチに失敗すると、 展開エラーになります。
<DT><B>force_fignore</B><DD>
設定されている場合、単語補完において、シェル変数
<FONT SIZE="-1"><B>FIGNORE</B> で指定されたサフィックスの単語は無視されます。</FONT>
無視された単語が唯一の補完候補であったとしても無視されます。 詳しい説明については、前述の
<FONT SIZE="-1"><B>シェル変数</B> の</FONT>
<FONT SIZE="-1"><B>FIGNORE</B> の説明を参照してください。 このオプションは、デフォルトで有効です。</FONT>
<DT><B>globstar</B><DD>
設定されている場合、<B>**</B> というパターンがパス名展開で使われると、 深さ 0 以上のディレクトリやサブディレクトリの全てのファイルにマッチします。
直後に <B>/</B> が続く場合には、 ディレクトリとサブディレクトリのみにマッチします。
<DT><B>gnu_errfmt</B><DD>
設定されている場合、シェルのエラーメッセージは GNU 標準のエラーメッセージの形式で出力されます。
<DT><B>histappend</B><DD>
設定されている場合、シェルの終了時に変数
<FONT SIZE="-1"><B>HISTFILE</B> の値で指定しているファイルに履歴リストが追加されます。</FONT>
ファイルへの上書きは行われなくなります。
<DT><B>histreedit</B><DD>
この変数が設定されており、かつ <B>readline</B> が使われている場合、ユーザは失敗した履歴置換を再編集できます。
<DT><B>histverify</B><DD>
この変数が設定されており、かつ <B>readline</B> が使われている場合、履歴置換の結果は即座にはシェルのパーザに渡されません。
その代わり、結果として得られた行は <B>readline</B> の編集バッファに読み込まれ、さらに修正できます。
<DT><B>hostcomplete</B><DD>
この変数が設定されており、かつ <B>readline</B> が使われている場合、<B>bash</B> は <B>@</B>
を含む単語を補完するときにホスト名補完を実行しようとします (前述の
<FONT SIZE="-1"><B>READLINE ライブラリ</B> のセクションにおける <B>補完</B></FONT>
を参照)。 これはデフォルトで有効になっています。
<DT><B>huponexit</B><DD>
設定されている場合、<B>bash</B> は対話的なログインシェルを終了するときに、 全てのジョブに
<FONT SIZE="-1"><B>SIGHUP</B> を送ります。</FONT>
<DT><B>interactive_comments</B><DD>
設定されている場合、 <B>#</B> で始まる単語について、その単語とその行の残りの文字を 対話的シェルに無視させることができます (前述の
<FONT SIZE="-1"><B>コメント</B> セクションを参照)。 このオプションはデフォルトで有効になっています。</FONT>
<DT><B>lastpipe</B><DD>
設定されており、かつジョブ制御が有効でなければ、 シェルはバックグラウンドでの実行ではないパイプラインの最後のコマンドを 現在のシェル環境で実行します。
<DT><B>lithist</B><DD>
設定されており、かつ <B>cmdhist</B> オプションが有効ならば、 複数行に分かれているコマンドは (セミコロンで区切られるのではなく)
できる限り途中に改行を埋め込むことで履歴に保存されます。
<DT><B>login_shell</B><DD>
シェルがログインシェルとして起動されると (前述の
<FONT SIZE="-1"><B>INVOCATION</B> を参照)、このオプションが設定されます。</FONT>
この値を変更することはできません。
<DT><B>mailwarn</B><DD>
設定されており、かつ <B>bash</B> がメールのチェックに使うファイルが 前回のチェック以降にアクセスされている場合、 メッセージ ``The mail
in <I>mailfile</I> has been read'' が表示されます。
<DT><B>no_empty_cmd_completion</B><DD>
設定されており、かつ <B>readline</B> が使われている場合、 空行に対してコマンド補完をさせようとしたときに、 <B>bash</B> は補完候補を
<FONT SIZE="-1"><B>PATH</B> から検索しません。</FONT>
<DT><B>nocaseglob</B><DD>
設定されている場合、 <B>bash</B> はパス名展開 (前述の <B>パス名展開</B> を参照) を行うときに、
ファイル名の大文字と小文字を区別せずにマッチングを行います。
<DT><B>nocasematch</B><DD>
設定されている場合、 <B>bash</B> は条件コマンド <B>case</B> や <B>[[</B> 実行時のパターンマッチで
大文字小文字を区別せずにパターンマッチを行います。
<DT><B>nullglob</B><DD>
設定されている場合、 <B>bash</B> はどのファイルにもマッチしないパターン (前述の <B>パス名展開</B> を参照)
を、その文字列自身ではなく、空文字列に展開します。
<DT><B>progcomp</B><DD>
設定されている場合、プログラム補完機能 (前述の<B>プログラム補完</B>を参照) が有効になります。 このオプションはデフォルトで有効になっています。
<DT><B>promptvars</B><DD>
設定されている場合、 プロンプト文字列に対して パラメータ展開、コマンド置換、算術式展開、クォート削除 が行われます。 この展開は前述の
<FONT SIZE="-1"><B>プロンプト</B> セクションで説明した展開が行われた後に行われます。 このオプションはデフォルトで有効になっています。</FONT>
<DT><B>restricted_shell</B><DD>
シェルが制限モードで起動された場合、 このオプションが設定されます (後述の
<FONT SIZE="-1"><B>制限付きのシェル</B> セクションを参照)。</FONT>
この値を変更することはできません。 これは起動ファイルが実行されるときにもリセットされないので、
シェルが制限付きかどうかを起動ファイル内部で知ることができます。
<DT><B>shift_verbose</B><DD>
設定されている場合、組み込みコマンド <B>shift</B> においてシフトの回数が位置パラメータの数を超えると、 エラーメッセージが出力されます。
<DT><B>sourcepath</B><DD>
設定されている場合、組み込みコマンド <B>source</B> (<B>.</B>) は
<FONT SIZE="-1"><B>PATH</B></FONT>
の値を使って、引き数として与えられたファイルを含むディレクトリを探します。 このオプションはデフォルトで有効です。
<DT><B>xpg_echo</B><DD>
設定されている場合、 組み込みコマンド <B>echo</B> は デフォルトでバックスラッシュによるエスケープシーケンスを展開します。
</DL>
</DL>


<DT><B>suspend</B> [<B>-f</B>]<DD>
<FONT SIZE="-1"><B>SIGCONT</B> シグナルを受け取るまで、シェルの実行をサスペンドします。 ログインシェルはサスペンドできません。 <B>-f</B></FONT>
オプションを与えると、この動作が上書きされ、ログインシェルがサスペンド できるようになります。 シェルがログインシェルかつ <B>-f</B>
が与えられていない場合と、ジョブ制御が有効でない場合とを除いて、 返却ステータスは 0 です。
<DT><B>test</B> <I>expr</I><DD>

<DT><B>[</B> <I>expr</I> <B>]</B><DD>
条件式 <I>expr</I> を評価した結果に基づいて、ステータス 0 または 1 を返します。
演算子とオペランドそれぞれは別々の引き数でなければなりません。 式は前述の
<FONT SIZE="-1"><B>条件式</B> セクションで説明したプライマリで構成されます。</FONT>
<B>test</B> はオプションを受け取らず、 引き数 <B>--</B> をオプションの終わりを示すものとして受け取りも無視もしません。

<P>

式は次に示す演算子を使って結合できます。 優先度の高い順に示します。 式の評価は後で述べるように引き数の数に依存します。 引き数が 5
つ以上のときは演算子の優先度に従います。
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>! </B><I>expr</I><DD>
<I>expr</I> が偽ならば真になります。
<DT><B>( </B><I>expr</I><B> )</B><DD>
<I>expr</I> の値を返します。 これを使うと、通常の演算子の優先度を変更できます。
<DT><I>expr1</I> -<B>a</B> <I>expr2</I><DD>
<I>expr1</I> と <I>expr2</I> が両方とも真ならば真になります。
<DT><I>expr1</I> -<B>o</B> <I>expr2</I><DD>
<I>expr1</I> と <I>expr2</I> のいずれかが真ならば真になります。

</DL>
<P>

<B>test</B> および <B>[</B> は、 引き数の数に基づいた規則の集合を用いて条件式を評価します。

<P>


<DL COMPACT>
<DT>引き数が 0 個<DD>
この式は偽です。
<DT>引き数が 1 個<DD>
引き数が空でない場合に限り真になります。
<DT>引き数が 2 個<DD>
最初の引き数が <B>!</B> ならば、 2 番目の引き数が空の場合に限り真になります。 最初の引き数が、既に
<FONT SIZE="-1"><B>条件式</B></FONT>
セクションで説明した単項条件演算子のいずれかであれば、 単項の評価が真の場合に式は真となります。
最初の引き数が正しい単項条件演算子でなければ、式は偽となります。
<DT>引き数が 3 個<DD>
以下の順に条件が適用されます。 2 番目の引き数が、既に
<FONT SIZE="-1"><B>条件式</B> セクションで説明した二値条件演算子のいずれかであれば、</FONT>
最初の引き数と 3 番目の引き数をオペランドとして使った 二値評価の結果が式の結果となります。 引き数が 3 個の場合、 <B>-a</B> と <B>-o</B>
は二値演算子として扱われます。 最初の引き数が <B>!</B> であれば、2 番目と 3 番目の引き数を使った、 引き数 2
つの評価の結果を否定したものが値となります。 最初の引き数が <B>(</B> であり、3 番目の引き数が <B>)</B> ならば、 2 番目の引き数を使って引き数
1 つの評価を行った値が結果となります。 これら以外の場合には、式は偽となります。
<DT>引き数が 4 個<DD>
最初の引き数が <B>!</B> ならば、 残りの引き数で作った引き数 3 つの式の値を否定したものが結果となります。
それ以外の場合には、先に挙げた規則を使った優先度に従って 式が展開・評価されます。
<DT>引き数が 5 個以上<DD>
先に挙げた規則を使った優先度に従って式が展開・評価されます。

<P>

</DL>
<P>

<B>test</B> や <B>[</B> では、演算子 <B>&lt;</B> と <B>&gt;</B> は ASCII コードに基づき辞書順にソートします
</DL>


<DT><B>times</B><DD>
シェルとシェルから実行したプロセスのそれぞれについて、 累積のユーザ時間とシステム時間を加えたものを出力します。 返却ステータスは 0 です。
<DT><B>trap</B> [<B>-lp</B>] [[<I>arg</I>] <I>sigspec</I> ...]<DD>
シェルがシグナル <I>sigspec</I> を受け取ると、コマンド <I>arg</I> が読み込まれて、実行されます。 <I>arg</I> が存在しない (かつ
<I>sigspec</I> が一つ指定された) 場合か、 <I>arg</I> が <B>-</B> の場合、 指定されたシグナルは全てオリジナルの動作
(シェルの起動時に設定されていた値) にリセットされます。 <I>arg</I> が空文字列である場合、それぞれの <I>sigspec</I>
で指定されたシグナルは、 シェルとシェルが起動したコマンドから無視されます。 <I>arg</I> なしで <B>-p</B> オプションが与えられた場合、 各
<I>sigspec</I> に関連付けられた trap コマンドが表示されます。 引き数が全くないか、 <B>-p</B> だけが与えられた場合、 <B>trap</B>
は各シグナルに関連付けられたコマンドのリストを出力します。 <B>-l</B> オプションを与えると、 シェルはシグナル名と対応する番号のリストを出力します。
それぞれの <I>sigspec</I> は、&lt;<I>signal.h</I>&gt; で定義されているシグナル名、またはシグナル番号です。
シグナル名は大文字小文字は区別されず、先頭の
<FONT SIZE="-1"><B>SIG</B> は省略可能です。</FONT>

<P>

<I>sigspec</I> が
<FONT SIZE="-1"><B>EXIT</B> (0) であれば、シェルの終了時にコマンド <I>arg</I> が実行されます。 <I>sigspec</I></FONT>
が
<FONT SIZE="-1"><B>DEBUG</B> であれば、各々の <I>単純なコマンド</I>、<I>for</I> コマンド、<I>case</I> コマンド、<I>select</I></FONT>
コマンド、各々の算術 <I>for</I> コマンドの前、およびシェル関数の最初のコマンドの実行前 (前述の
<FONT SIZE="-1"><B>シェルの文法</B>セクションを参照)</FONT>
に、コマンド <I>arg</I> が実行されます。 <B>DEBUG</B> のトラップの影響についての詳細は組み込みコマンド <B>shopt</B> の
<B>extdebug</B> オプションの説明を参照してください。 <I>sigspec</I> が
<FONT SIZE="-1"><B>RETURN</B></FONT>
であれば、シェル関数の実行、または組み込みコマンドの <B>.</B> や <B>source</B> で実行されたスクリプトの実行が終わるたびにコマンド <I>arg</I>
が実行されます。

<P>

<I>sigspec</I> が
<FONT SIZE="-1"><B>ERR</B> であれば、 単純なコマンドが 0 以外の終了ステータスのときにコマンド <I>arg</I></FONT>
が実行されます。 ただし、失敗したコマンドが、 <B>while</B> または <B>until</B> キーワード直後のコマンドリストに含まれる場合、 <I>if</I>
文の条件に含まれる場合、 <B>&amp;&amp;</B> や <B>||</B> のリスト中で実行するコマンドに含まれる場合、 および、コマンドの戻り値が <B>!</B>
で反転されている場合には、
<FONT SIZE="-1"><B>ERR</B> のトラップは実行されません。 これらは <B>errexit</B> オプションが従う条件と同じです。</FONT>

<P>

シェルに入る際に無視されるシグナルは、 トラップもリセットもできません。 無視されなかったシグナルのトラップは、
サブシェルやサブシェル環境では作られたときに 元の値にリセットされます。 <I>sigspec</I> のいずれかが不正であれば、返却ステータスは偽になります。
それ以外の場合には、 <B>trap</B> は真を返します。
<DT><B>type</B> [<B>-aftpP</B>] <I>name</I> [<I>name</I> ...]<DD>
オプションなしの場合には、各 <I>name</I> をコマンド名として使ったときに、それがどのように解釈されるかを示します。 <B>-t</B> オプションを使うと、
<I>name</I> がエイリアス、シェルの予約語、関数、 組み込みコマンド、ディスク上のファイルのいずれかの場合、 <B>type</B> はそれぞれ
<I>alias</I>, <I>keyword</I>, <I>function</I>, <I>builtin</I>, <I>file</I> という文字列を出力します。 <I>name</I>
が見つからない場合は何も出力されず、偽の終了ステータスが返されます。 <B>-p</B> オプションを使うと、 <B>type</B> は <I>name</I>
をコマンド名として指定した場合に実行されるディスクファイルの名前を返します。 ただし、

``type -t name''
が <I>file</I> を返さない場合は、何も返しません。 <B>-P</B> オプションを使うと、

``type -t name''
が <I>file</I> を返さない場合でも <I>name</I> を
<FONT SIZE="-1"><B>PATH</B> から探します。 コマンドがハッシュされている場合、 <B>-p</B></FONT>
や <B>-P</B> はハッシュされている値を表示します。 この場合、表示されるのは、必ずしも
<FONT SIZE="-1"><B>PATH</B></FONT>
中で最初に現われるファイルとは限りません。 <B>-a</B> オプションを使うと、 <B>type</B> は <I>name</I>
という名前の実行ファイルがある場所を全て出力します。 <B>-p</B> オプションが同時に使われていない場合に限り、 エイリアスや関数も出力されます。
<B>-a</B> を使うときには、ハッシュされているコマンドの表は参照されません。 <B>-f</B> オプションを使うと、 組み込みコマンド <B>command</B>
と同じように、シェル関数を探しません。 <B>type</B> は、すべての引き数が見つかれば真を返し、 いずれかが見つからなければ偽を返します。
<DT><B>ulimit</B> [<B>-HSTabcdefilmnpqrstuvx</B> [<I>limit</I>]]<DD>
これを使うと、シェルおよびシェルが起動するプロセスが 利用できるリソースを制御できます。 ただし、このような制御ができるシステムの場合に限ります。
<B>-H</B> オプションと <B>-S</B> オプションは、 それぞれ指定されたリソースに対する 強い制限 (hard limit) と弱い制限 (soft
limit) を設定します。 強い制限は一度設定すると、root 以外のユーザが増やすことはできません。 弱い制限は強い制限の値までは増やせます。
<B>-H</B> と <B>-S</B> がどちらも指定されていない場合、 強い制限と弱い制限が両方とも設定されます。 <I>limit</I> の値には、数字
(単位はリソースに応じて規定)、または <B>hard</B>, <B>soft</B>, <B>unlimited</B> が指定できます。 <B>hard</B>,
<B>soft</B>, <B>unlimited</B> は、それぞれ現在の強い制限、現在の弱い制限、制限なしを表します。 <I>limit</I>
を省略すると、リソースの弱い制限の現在値が表示されます。 ただし、<B>-H</B> が与えられている場合は除きます。
複数のリソースが指定されているときは、制限名と単位が値の前に出力されます。 他のオプションは以下のように解釈されます:
<DL COMPACT><DT><DD>

<DL COMPACT>
<DT><B>-a</B><DD>
現在の制限を全て表示する
<DT><B>-b</B><DD>
ソケットバッファの最大サイズ
<DT><B>-c</B><DD>
生成されるコア (core) ファイルの最大サイズ
<DT><B>-d</B><DD>
プロセスのデータセグメントの最大サイズ
<DT><B>-e</B><DD>
スケジュール優先度 (&quot;nice&quot;) の最大値
<DT><B>-f</B><DD>
シェルとその子プロセスが生成できるファイルの最大サイズ
<DT><B>-i</B><DD>
保留中シグナルの最大数
<DT><B>-l</B><DD>
メモリにロックできる最大サイズ
<DT><B>-m</B><DD>
常駐セットサイズ (resident set size) の最大値 (多くのシステムはこの制限を守りません)
<DT><B>-n</B><DD>
オープンできるファイル・ディスクリプターの最大数 (ほとんどのシステムでは、この値を設定することはできません)
<DT><B>-p</B><DD>
512 バイトブロック単位でのパイプのサイズ (これは設定できないかもしれません)
<DT><B>-q</B><DD>
POSIX メッセージキューの最大バイト数
<DT><B>-r</B><DD>
リアルタイム・スケジューリングの優先度の最大値
<DT><B>-s</B><DD>
最大スタックサイズ
<DT><B>-t</B><DD>
CPU 時間の最大量 (秒単位)
<DT><B>-u</B><DD>
1 人のユーザが使用できる最大のプロセス数
<DT><B>-v</B><DD>
そのシェルが使用できる最大の仮想メモリ量 (システムによっては、子プロセスも含まれる)
<DT><B>-x</B><DD>
ファイルロックの最大数
<DT><B>-T</B><DD>
スレッドの最大数

</DL>
<P>

<I>limit</I> が指定された場合、その値が指定されたリソースの新しい値となります (<B>-a</B> は表示専用です)。
オプションが全く指定されなかった場合は、 <B>-f</B> が指定されたものとみなされます。 値は 1024 バイト単位で増えますが、例外として <B>-t</B>
は秒単位、 <B>-p</B> 512 バイトブロック単位、 <B>-T</B>, <B>-b</B>, <B>-n</B>, <B>-n</B>, <B>-u</B> は単位なしの値です。
返却ステータスは基本的に 0 ですが、 不正なオプションや引き数が渡された場合、 新しい制限を設定する際にエラーが起きた場合は除きます。
</DL>

<DT><B>umask</B> [<B>-p</B>] [<B>-S</B>] [<I>mode</I>]<DD>
ユーザのファイル生成マスクに <I>mode</I> を設定します。 <I>mode</I> が数字で始まる場合には、これは 8 進数と解釈されます。
それ以外の場合には、 <I><A HREF="../../0MultiFileIdx/man1/chmod.1.html">chmod</A></I>(1)  に指定するのと同様のシンボリックなモードマスクと解釈されます。 <I>mode</I>
が省略されると、現在のマスクの値が出力されます。 <B>-S</B> オプションを指定すると、マスクはシンボリックな形式で表示されます。 デフォルトの出力は 8
進の数値です。 <B>-p</B> オプションが指定され、かつ <I>mode</I> が省略された場合、入力として再利用できる形式で出力が行われます。
モードが正常に変更できた場合や、 <I>mode</I> 引き数が全く与えられなかった場合には、 返却ステータスは 0 となります。
それ以外の場合には偽となります。
<DT><B>unalias</B> [-<B>a</B>] [<I>name</I> ...]<DD>
定義されているエイリアスのリストから <I>name</I> を削除します。 <B>-a</B> が与えられている場合には、エイリアス定義は全て削除されます。
与えられた <I>name</I> が定義されているエイリアスでない場合以外は、返却ステータスは真になります。
<DT><B>unset</B> [-<B>fv</B>] [<I>name</I> ...]<DD>
<I>name</I> それぞれについて、対応する変数や関数を削除します。 オプションが全く指定されていない場合や、 <B>-v</B>
オプションが指定された場合は、各 <I>name</I> はシェル変数を参照します。 読み込み専用の変数の設定を消すことはできません。 <B>-f</B>
が指定されている場合、各 <I>name</I> はシェル関数を参照し、その関数の定義が削除されます。 設定が消された変数や関数は全て、
それ以降のコマンドに渡される環境変数からも削除されます。
<FONT SIZE="-1"><B>COMP_WORDBREAKS</B>,</FONT>
<FONT SIZE="-1"><B>RANDOM</B>,</FONT>
<FONT SIZE="-1"><B>SECONDS</B>,</FONT>
<FONT SIZE="-1"><B>LINENO</B>,</FONT>
<FONT SIZE="-1"><B>HISTCMD</B>,</FONT>
<FONT SIZE="-1"><B>FUNCNAME</B>,</FONT>
<FONT SIZE="-1"><B>GROUPS</B>,</FONT>
<FONT SIZE="-1"><B>DIRSTACK</B> のいずれかの設定を消した場合、これらが持つ特別な特性もなくなります。</FONT>
これは後で再設定しても元に戻ることはありません。 <I>name</I> が読み込み専用の場合以外は、 終了ステータスは真となります。
<DT><B>wait</B> [<I>n ...</I>]<DD>
指定された各プロセスを wait し、その終了ステータスを返します。 各 <I>n</I> はプロセス ID またはジョブ指定です。
ジョブ指定を与えた場合、そのジョブのパイプラインに含まれる 全てのプロセスを wait します。 <I>n</I>
が与えられていない場合には、現在アクティブな全ての子プロセスを wait し、 返却ステータスは 0 となります。 <I>n</I>
が存在しないプロセスやジョブを指定している場合、 返却ステータスは 127 になります。 それ以外の場合、返却ステータスは wait
していた最後のプロセスまたはジョブの終了ステータスとなります。




</DL>
<A NAME="lbAD">&nbsp;</A>
<H2>関連項目</H2>

<A HREF="../man1/bash.1.html">bash</A>(1), sh(1)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">bash の組み込みコマンド</A><DD>
<DT><A HREF="#lbAD">関連項目</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:22 GMT, December 05, 2022
</BODY>
</HTML>
