
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of FTP</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>FTP</H1>
Section: User Commands  (1)<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/netkit/release/man1/ftp.1">roff page</A><HR>
<BR>BSD mandoc<BR>
Linux NetKit (0.17)

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

<B>ftp</B>

 - <B>Internet</B>



ファイル転送プログラム
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>ftp</B>

[-<B>pinegvd</B>

]

[<I>host</I>

]

<B>pftp</B>

[-<B>inegvd</B>

]

[<I>host</I>

]

<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

<B>ftp</B>

は、
<B>Internet</B>

標準のファイル転送プロトコル (File Transfer Protocol) の
ユーザーインターフェースである。
このプログラムにより、ユーザーはリモートのネットワークサイトと
相互にファイルを転送できる。
<P>

オプションは、コマンドライン上か、コマンドインタプリタで指定できる。
<DL COMPACT>
<P>

<DT><B>-p</B>


<DD>
データ転送にパッシブ (passive) モードを使う。
ファイヤーウォールが背後にあるクライアントマシンへの
外部からの接続を防いでいるような環境で ftp が使えるようになる。
FTP サーバが PASV コマンドをサポートしている必要がある。
<B>pftp</B>

として起動された場合のデフォルトである。
<DT><B>-i</B>


<DD>
複数のファイルの転送中に対話 (interactive) プロンプトを出さないようにする。
<DT><B>-n</B>


<DD>
<B>ftp</B>

が最初の接続で &ldquo;自動ログイン (auto-login)&rdquo; しようとするのを抑制する。
自動ログインが可能な場合、
<B>ftp</B>

はユーザーのホームディレクトリにある
.netrc

ファイル
<B>( <A HREF="../man5/netrc.5.html">netrc</A>(5)

</B>

を参照) 
でリモートマシンのアカウントが記述されているエントリをチェックする。
エントリがない場合、
<B>ftp</B>

はリモートマシンのログイン名 (デフォルトではローカルマシンでログイン名)
を要求するプロンプトを出す。
必要ならば、ログインに使うパスワードとアカウントを要求するプロンプトを出す。
<DT><B>-e</B>


<DD>
<B>ftp</B>

プログラムにコマンドライン編集 (edit) とヒストリ機能が組み込まれている場合、
それを使用不可にする。
組み込まれていない場合は、何も影響しない。
<DT><B>-g</B>


<DD>
ファイル名展開 (glob) をさせない。
<DT><B>-v</B>


<DD>
詳細表示 (verbose) オプションを使うと、
<B>ftp</B>

はデータ転送の結果だけでなく、
リモートサーバからの全てのレスポンスを表示する。
<DT><B>-d</B>


<DD>
デバッグ (debug) を有効にする。
</DL>
<P>

<P>

<B>ftp</B>

が通信するクライアントホストは、コマンドラインで指定される。
通信相手が指定された場合、
<B>ftp</B>

はすぐにそのホスト上の
<B>FTP</B>

サーバと通信を確立しようと試みる。
指定されない場合、
<B>ftp</B>

はコマンドインタプリタとして動作し、ユーザーからのコマンド入力を待つ。
<B>ftp</B>

がユーザーからのコマンドを待つ場合、ユーザーに対して
`ftp&gt;'

というプロンプトが出される。
<B>ftp</B>

は以下のコマンドを認識する。
<DL COMPACT>
<P>

<DT><B>! </B>[<I>command </I>[<I>args</I>

]



]




<DD>
ローカルマシン上で対話シェルを起動する。
複数の引き数がある場合、
最初の引き数は実際に実行されるコマンドとして解釈される。
残りはそのコマンドの引き数となる。
<DT><B>$ </B><I>macro-name </I>[<I>args</I>

]






<DD>
<B>macdef</B>

コマンドで定義されたマクロ
<I>macro-name</I>

を実行する。
引き数は展開されずにマクロに渡される。
<DT><B>account </B>[<I>passwd</I>

]




<DD>
一度ログインが完了してから、リソースにアクセスするために
リモートシステムから要求される追加のパスワードを入力する。
引き数が指定されない場合、エコーなしの入力モードで、
そのアカウントのパスワードの入力を促すプロンプトが出される。
<DT><B>append </B><I>local-file </I>[<I>remote-file</I>

]






<DD>
ローカルファイルをリモートマシン上のファイルに追加書き込みする。
<I>remote-file</I>

が指定されない場合、ローカルファイル名を
<B>ntrans</B>

と
<B>nmap</B>

の設定で変更した後の名前をリモートファイルの名前として使う。
ファイル転送では
<B>type </B>

 
<B>format</B>

 
<B>mode </B>

 
<B>structure</B>

の現在の設定が使われる。
<DT><B>ascii</B>


<DD>
ファイル転送の
<B>type</B>

をネットワーク
<B>ASCII</B>

に設定する。これがデフォルトである。
<DT><B>bell</B>


<DD>
各ファイル転送コマンドが完了する毎にベルを鳴らすように設定する。
<DT><B>binary</B>


<DD>
バイナリイメージなどの転送をサポートするために、ファイル転送の
<B>type</B>

を設定する。
<DT><B>bye</B>


<DD>
リモートサーバとの
<B>FTP</B>

セッションを閉じて、
<B>ftp</B>

を終了させる。
同様に、end of file でもセッションを閉じて終了する。
<DT><B>case</B>


<DD>
<B>mget</B>

コマンドの場合に行われるリモート計算機上のファイル名に対する
大文字から小文字への変換を切替える。
<B>case</B>

が on の場合 (デフォルトでは off)、
リモート計算機上でファイル名が全て大文字のファイルは、
ローカルディレクトリに小文字に変換された
ファイル名で書き込まれる。
<DT><B>cd </B><I>remote-directory</I>




<DD>
リモートマシン上のワーキングディレクトリを
<I>remote-directory</I>

に変更する。
<DT><B>cdup</B>


<DD>
リモートマシン上のワーキングディレクトリを
リモートマシン上でのカレントワーキングディレクトリの親ディレクトリにする。
<DT><B>chmod </B><I>mode file-name</I>




<DD>
リモートマシン上のファイル
<I>file-name</I>

のアクセス権を
<I>mode</I>

に変更する。
<DT><B>close</B>


<DD>
リモートサーバとの
<B>FTP</B>

セッションを閉じて、コマンドインタプリタに戻る。
定義された全てのマクロは消去される。
<DT><B>cr</B>


<DD>
ascii タイプでファイル転送をする場合に行われる
キャリッジリターンの除去を切替える。
ascii タイプのファイル転送では、
レコードはキャリッジリターン / ラインフィードという文字列で表される。
<B>cr</B>

が on の場合 (これがデフォルトである)、
キャリッジリターンは
UNIX
のラインフィードのみによるレコード区切りに合わせるために
文字列から取り除かれる。
UNIX
以外のリモートシステム上のレコードでは、
ラインフィードしか含まれない場合がある。
ascii タイプの転送の場合、
<B>cr</B>

が off になっているときにのみ、
これらのラインフィードがレコード区切りと区別される。
<DT><B>delete </B><I>remote-file</I>




<DD>
リモートマシン上のファイル
<I>remote-file</I>

を削除する。
<DT><B>debug </B>[<I>debug-value</I>

]




<DD>
デバッグモードを切替える。
オプション
<I>debug-value</I>

が指定されると、デバッグレベルを指定するために使われる。
debug が on の場合、
<B>ftp</B>

はリモートマシンに送られた各コマンドを
`--&gt;'

に続けて表示する。
<DT><B>
</B>

<B>dir</B>

[<I>remote-directory</I>

]

[<I>local-file</I>

]

<DD>

リモートマシン上のディレクトリ
<I>remote-directory</I>

の内容をリスト表示する。
オプションとして、出力をローカルのファイル
<I>local-file</I>

に書き出す。
対話プロンプトが on である場合、
<B>ftp</B>

は最後の引き数が本当に
<B>dir</B>

の出力を書き込むローカルファイルであるかを確認するプロンプトを出す。
ディレクトリが指定されていない場合、
リモートマシン上のカレントワーキングディレクトリの内容が表示される。
ローカルファイルが指定されていない場合、または
<I>local-file</I>

が
-


の場合、出力は端末に送られる。
<DT><B>disconnect</B>


<DD>
<I>close</I>

と同じ。
<DT><B>form </B><I>format</I>




<DD>
ファイル転送形式
<B>form</B>

を
<I>format</I>

に設定する。
デフォルトの転送形式は &ldquo;file&rdquo; である。
<DT><B>get </B><I>remote-file </I>[<I>local-file</I>

]






<DD>
リモートファイル
<I>remote-file</I>

を取得しローカルマシンに保存する。
ローカルファイル名が指定されていない場合、
リモートマシン上でのファイル名を現在の
<B>case </B>

 
<B>ntrans</B>

 
<B>nmap</B>

の設定に従って変更した名前になる。
現在の
<B>type </B>

 
<B>form</B>

 
<B>mode </B>

 
<B>structure</B>

の設定がファイル転送の際に使われる。
<DT><B>glob</B>


<DD>
<B>mdelete </B>

 
<B>mget</B>

 
<B>mput</B>

で使われるファイル名展開の使用・不使用を切替える。
<B>glob</B>

がオフの場合、ファイル名の引き数は文字通り扱われ、展開されない。
<B>mput</B>

の場合のファイル名展開は、
csh(1)


と行われるものと同様である。
<B>mdelete</B>

と
<B>mget</B>

の場合、リモートファイル名はリモートマシン上で個々に展開され、
リストはマージされない。
ディレクトリ名の展開は、通常ファイルの名前展開と異なる場合がある。
つまり、展開の結果は OS と FTP サーバに依存する。
また、展開結果は
`mls'

<DD>remote-files -
によって、あらかじめ知ることができる。
注意:
<B>mget</B>

と
<B>mput</B>

はファイルのディレクトリサブツリー全体を転送するわけではない。
サブツリー全体を転送するには、
サブツリーの
<A HREF="../../GNU_tar/man1/tar.1.html">tar</A>(1)


書庫を (binary モードで) 転送すればよい。
<DT><B>hash</B>


<DD>
各データブロックが転送される毎に表示されるハッシュ記号 (``#'') の
表示・非表示を切替える。
データブロックのサイズは 1024 バイトである。
<DT><B>help </B>[<I>command</I>

]




<DD>
コマンド
<I>command</I>

の意味についての情報メッセージを表示する。
引き数がない場合、
<B>ftp</B>

は使用可能なコマンドの一覧を表示する。
<DT><B>idle </B>[<I>seconds</I>

]




<DD>
リモートサーバの無活動タイマを
<I>seconds</I>

秒に設定する。
<I>seconds</I>

を省略すると、現在の無活動タイマの値が表示される。
<DT><B>lcd </B>[<I>directory</I>

]




<DD>
ローカルマシン上のワーキングディレクトリを変更する。
ディレクトリ
<I>directory</I>

が指定されない場合、ユーザーのホームディレクトリが指定される。
<DT><B>
</B>

<B>ls</B>

[<I>remote-directory</I>

]

[<I>local-file</I>

]

<DD>

リモートマシン上のディレクトリの内容をリスト表示する。
リストにはサーバが選択したシステム依存の情報が含まれる。
例えば、大部分の
UNIX
システムでは
`ls'

-l
コマンド
<B>( nlist</B>



を参照) による出力が行われる。
リモートディレクトリ
<I>remote-directory</I>

が指定されない場合、カレントワーキングディレクトリが指定される。
対話プロンプトが on の場合、
<B>ftp</B>

は最後の引き数が本当に
<B>ls</B>

の出力を書き込むローカルファイルであるかを確認するプロンプトを出す。
ローカルファイルが指定されない場合、または
<I>local-file</I>

が
`-

'

の場合、出力は端末に送られる。
<DT><B>macdef </B><I>macro-name</I>




<DD>
マクロを定義する。
後続の行がマクロ
<I>macro-name</I>

として保存される。
空行 (ファイル中の連続した改行文字、
または端末からのキャリッジリターン) により
マクロ入力モードは終了する。
定義された全てのマクロで、マクロ数 16 個、合計 4096 文字という制限がある。
<B>close</B>

コマンドが実行されるまで、マクロは定義されたまま継続する (有効である)。
マクロプロセッサは `$' と `\' を特殊文字として解釈する。
<DD>1 つ以上の数字が続く `$' は、マクロを呼び出したコマンドラインの
対応する引き数に置き換えられる。
`i' が続く `$' は、マクロプロセッサに対して
マクロをループさせるように指示する。
最初のパスで `$i' は、マクロを呼び出したコマンドラインの
最初の引き数に置き換えられる。
そして、2 回目のパスでは 2 番目の引き数に置き換えられ、
それ以降も同様に順番に置き換えられる。
任意の文字が続く `\' は、その文字に置き換えられる。
`$' を特殊文字として扱わせないためには `\' を使うこと。
<DT><B>mdelete </B>[<I>remote-files</I>

]




<DD>
リモートマシン上のファイル
<I>remote-files</I>

を削除する。
<DT><B>mdir </B><I>remote-files local-file</I>




<DD>
複数のリモートファイルを指定できることを除くと、
<B>dir</B>

と同じ。
対話プロンプトが on の場合、
<B>ftp</B>

は最後の引き数が本当に
<B>mdir</B>

の出力を書き込むローカルファイルであるかを確認するプロンプトを出す。
<DT><B>mget </B><I>remote-files</I>




<DD>
リモートマシン上でファイル名
<I>remote-files</I>

を展開し、その名前のファイルに対して
<B>get</B>

を実行する。
ファイル名展開の詳細は、
<B>glob</B>

を参照すること。
結果として得られたファイル名は、
<B>case </B>

 
<B>ntrans</B>

 
<B>nmap</B>

の設定に従って処理される。
ファイルはローカルのワーキングディレクトリに転送される。
このディレクトリは
`lcd'

directory
で変更できる。
新しいローカルディレクトリは
`!'

mkdir directory
で作成することができる。
<DT><B>mkdir </B><I>directory-name</I>




<DD>
リモートマシン上にディレクトリを作成する。
<DT><B>mls </B><I>remote-files local-file</I>




<DD>
複数のリモートファイルを指定できる点とローカルファイル
<I>local-file</I>

を指定しなければならない点を除くと、
<B>nlist</B>

と同じ。
対話プロンプトが on の場合、
<B>ftp</B>

は最後の引き数が本当に
<B>mls</B>

の出力を書き込むローカルファイルであるかを確認するプロンプトを出す。
<DT><B>mode </B>[<I>mode-name</I>

]




<DD>
ファイル転送モード
<B>mode</B>

を
<I>mode-name</I>

に設定する。
デフォルトは &ldquo;stream&rdquo; モードである。
<DT><B>modtime </B><I>file-name</I>




<DD>
リモートマシン上のファイルの最終修正時刻を表示する。
<DT><B>mput </B><I>local-files</I>




<DD>
引き数で与えられたローカルファイルのリストにあるワイルドカードを展開し、
結果として得られたファイルリストにある各ファイルに対して
<B>put</B>

を実行する。
ファイル名展開の詳細は、
<B>glob</B>

を参照すること。
結果として得られたファイル名は、
<B>ntrans</B>

と
<B>nmap</B>

の設定に従って処理される。
<DT><B>newer </B><I>file-name </I>[<I>local-file</I>

]






<DD>
リモートファイルの修正時刻が
ローカルマシン上のファイルのものより新しい場合にのみ、
ファイルを取得する。
ファイルがローカルマシンに存在しない場合、リモートファイルは
<B>新しい</B>

ものとして扱われる。
その他について、このコマンドは
<I>get</I>

と同じである。
<DT><B>
</B>

<B>nlist</B>

[<I>remote-directory</I>

]

[<I>local-file</I>

]

<DD>

リモートマシン上のディレクトリにあるファイルのリストを表示する。
リモートディレクトリ
<I>remote-directory</I>

が指定されない場合、カレントワーキングディレクトリが指定される。
対話プロンプトが on の場合、
<B>ftp</B>

は最後の引き数が本当に
<B>nlist</B>

の出力を書き出すローカルファイルであるかを確認するプロンプトを出す。
ローカルファイルが指定されない場合、または
<I>local-file</I>

が
-


の場合、出力は端末に送られる。
<DT><B>nmap </B>[<I>inpattern outpattern</I>

]




<DD>
ファイル名のマッピング機能を設定・解除する。
引き数が指定されない場合、ファイル名のマッピング機能は解除される。
引き数が指定された場合、リモートの転送先ファイル名が指定されていない
<B>mput</B>

コマンドと
<B>put</B>

コマンドの実行時に、リモートファイル名がマッピングされる。
また、引き数が指定された場合、ローカルの転送先ファイル名が指定されていない
<B>mget</B>

コマンドと
<B>get</B>

コマンドの実行時に、ローカルファイル名がマッピングされる。
このコマンドは、ファイル名の命名規則が異なる
<B>UNIX
</B>

以外のリモートマシンとの接続時に役立つ。
マッピングは
<I>inpattern</I>

と
<I>outpattern</I>

というパターンの組に従う。
[<I>inpattern</I>

]

は入力ファイル名のテンプレートである
(入力ファイル名は
<B>ntrans</B>

と
<B>case</B>

の設定に従って処理されている場合もある)。
<I>inpattern</I>

に `$1', `$2', ..., `$9' という文字列を入れることで、
変数を使ったテンプレートを作ることができる。
`$' 文字を特殊文字として扱わなくするには `\' を使うこと。
その他の全ての文字は、文字通りに扱われるとともに、
<B>nmap</B>

の
[<I>inpattern</I>

]

変数の値を決定するために使われる。
例えば、
<I>inpattern</I>

として $1.$2、リモートファイル名として &quot;mydata.data&quot; が与えられた場合、
$1 は &quot;mydata&quot; という値になり、$2 は &quot;data&quot; という値になる。
<I>outpattern</I>

はマップされた結果のファイル名を決定する。
文字列 `$1', `$2', ...., `$9' はテンプレート
<I>inpattern</I>

から生成された値に置き換えられる。
文字列 `$0' は元のファイル名に置き換えられる。
さらに、文字列
`[<I>seq1</I>

]

'

, Ar seq2
は、
<I>seq1</I>

が空文字列でない場合は
[<I>seq1</I>

]

に置き換えられ、
<I>seq1</I>

が空文字列の場合は
<I>seq2</I>

に置き換えられる。
例えば、コマンド
<P>


<BLOCKQUOTE>
<PRE>
<DD>nmap $1.$2.$3 [$1,$2].[$2,file]
</PRE>
</BLOCKQUOTE>

<P>

は、
入力ファイル名 &quot;myfile.data&quot; と &quot;myfile.data.old&quot; に対して
出力ファイル名 &quot;myfile.data&quot; を、
入力ファイル名 &quot;myfile&quot; に対して
出力ファイル名 &quot;myfile.file&quot; を、
入力ファイル名 &quot;.myfile&quot; に対して
出力ファイル名 &quot;myfile.myfile&quot; を生成する。
`nmap $1 sed &quot;s/  *$//&quot; &gt; $1' という例のように、
<I>outpattern</I>

にスペースを入れても構わない。
`$', '[', '[', `,' を特殊文字として扱いたくない場合は、
`\' を使うこと。
<DT><B>ntrans </B>[<I>inchars </I>[<I>outchars</I>

]



]




<DD>
ファイル名の文字変換機能を設定・解除する。
引き数が指定されない場合、ファイル名の文字変換機能は解除される。
引き数が指定された場合、リモートの転送先ファイル名が指定されていない
<B>mput</B>

コマンドと
<B>put</B>

コマンドの実行時に、リモートファイル名が文字変換される。
また、引き数が指定された場合、ローカルの転送先ファイル名が指定されていない
<B>mget</B>

コマンドと
<B>get</B>

コマンドの実行時に、ローカルファイル名が文字変換される。
このコマンドは、ファイル名の命名規則が異なる
<B>UNIX
</B>

以外のリモートマシンとの接続時に役立つ。
ファイル名に含まれる文字で
<I>inchars</I>

の中の文字に一致するものが、
<I>outchars</I>

の中にある対応する文字で置き換えられる。
<I>inchars</I>

の中での文字の位置が
<I>outchars</I>

の長さを越えている場合、その文字はファイル名から削除される。
<DT><B>open </B><I>host </I>[<I>port</I>

]






<DD>
指定したホスト
<I>host</I>

の
<B>FTP</B>

サーバとの接続を確立する。
オプションとしてポート番号を指定した場合、
<B>ftp</B>

は指定したポートで
<B>FTP</B>

サーバーと接続を試みる。
<B>auto-login</B>

が on (デフォルト) の場合、
<B>ftp</B>

は
<B>FTP</B>

サーバーに自動ログインを試みる (以下を参照)。
<DT><B>prompt</B>


<DD>
対話プロンプトの使用・不使用を切替える。
(prompt が on の場合) 複数のファイルを転送するときに
ユーザーが選択的にファイルを取得・保存できるように、
対話的な問い合わせが行われる。
prompt が off (デフォルトは on) の場合、
<B>mget</B>

または
<B>mput</B>

では全てのファイルが転送され、
<B>mdelete</B>

では全てのファイルが削除される。
<DT><B>proxy </B><I>ftp-command</I>




<DD>
ftp コマンドを 2 次的な制御接続上から実行する。
このコマンドを使うと、2 つのリモート FTP サーバ間でファイルを転送するために、
同時に 2 つのサーバに接続できる。
最初の
<B>proxy</B>

コマンドは、2 次的な制御接続を確立するための
<B>open</B>

コマンドである必要がある。
2 次接続上で実行可能な他の ftp コマンドを閲覧するためには、
&quot;proxy ?&quot; というコマンドを入力すること。
以下のコマンドは
<B>proxy</B>

が前に置かれると別の動作をする: 
<B>open</B>

は自動ログインの処理中に新しいマクロを定義しない。
<B>close</B>

は既に存在するマクロ定義を削除しない。
<B>get</B>

と
<B>mget</B>

は、1 次制御接続のホストから 2 次制御接続のホストへファイルを転送する。
<B>put </B>

 
<B>mput</B>

 
<B>append</B>

は、2 次制御接続のホストから 1 次制御接続のホストへファイルを転送する。
第三者によるファイル転送が可能かどうかは、
2 次制御接続上のサーバが FTP プロトコルの
<B>PASV</B>

コマンドをサポートしているかどうかに依存する。
<DT><B>put </B><I>local-file </I>[<I>remote-file</I>

]






<DD>
ローカルファイルをリモートマシン上に保存する。
リモートファイル
<I>remote-file</I>

が指定されない場合、リモートファイル名として
<B>ntrans</B>

または
<B>nmap</B>

の設定に基づいて処理した後のローカルファイル名が使われる。
ファイル転送には
<B>type </B>

 
<B>format</B>

 
<B>mode </B>

 
<B>structure</B>

の現在の設定が使われる。
<DT><B>pwd</B>


<DD>
リモートマシン上のカレントワーキングディレクトリ名を表示する。
<DT><B>quit</B>


<DD>
<B>bye</B>

と同じ。
<DT><B>quote </B><I>arg1 arg2 ...</I>




<DD>
指定された引き数をそのまま
<B>FTP</B>

サーバに送信する。
<DT><B>recv </B><I>remote-file </I>[<I>local-file</I>

]






<DD>
<B>get</B>

と同じ。
<DT><B>reget </B><I>remote-file </I>[<I>local-file</I>

]






<DD>
<B>get</B>

と似た動作をする。
ただし、ローカルファイル
<I>local-file</I>

が存在しているがリモートファイル
<I>remote-file</I>

より小さいという場合、ローカルファイル
<I>local-file</I>

がリモートファイル
<I>remote-file</I>

の部分的に転送されたコピーであると見做し、
転送の失敗が見つかった位置から転送を続行する。
このコマンドは非常に大きなファイルを
接続が切れやすいネットワーク上で転送する場合に役立つ。
<DT><B>remotehelp </B>[<I>command-name</I>

]




<DD>
リモートの
<B>FTP</B>

サーバに対してヘルプメッセージを要求する。
コマンド名
<I>command-name</I>

が指定された場合、そのコマンド名はサーバにも送られる
(サーバにそのコマンドのヘルプを要求する)。
<DT><B>remotestatus </B>[<I>file-name</I>

]




<DD>
引き数が指定されない場合、リモートマシンの状態を表示する。
ファイル名
<I>file-name</I>

が指定された場合、リモートマシン上のファイル
<I>file-name</I>

の状態を表示する。
<DT><B>
</B>

<B>rename</B>

[<I>from</I>

]

[<I>to</I>

]

<DD>

リモートマシン上の
<I>from</I>

というファイルを
<I>to</I>

というファイル名に変更する。
<DT><B>reset</B>


<DD>
応答キューをクリアする。
このコマンドは、リモートの FTP サーバとの間で
コマンドと応答のシーケンスを再同期させる。
リモートサーバによる FTP プロトコル違反があった場合、
その後に再同期が必要になることがある。
<DT><B>restart </B><I>marker</I>




<DD>
マーカー
<I>marker</I>

で示した位置から
<B>get</B>

や
<B>put</B>

をすぐに再開する。
UNIX
システムでは、通常 marker はファイルのバイトオフセットである。
<DT><B>rmdir </B><I>directory-name</I>




<DD>
リモートマシン上のディレクトリを削除する。
<DT><B>runique</B>


<DD>
一意なファイル名でローカルシステムに保存するか否かを切替える。
<B>get</B>

や
<B>mget</B>

コマンドによる転送先ローカルファイル名と
同じ名前のファイルが既に存在する場合、
転送先ファイル名に &quot;.1&quot; が付加される。
そのファイル名も既に存在するファイル名と一致する場合、
元のファイル名に &quot;.2&quot; が付加される。
この処理が &quot;.99&quot; まで続いた場合、
エラーメッセージが表示され、転送は行われない。
生成された一意なファイル名が表示される。
<B>runique</B>

はシェルコマンドによって生成されるローカルファイル (以下を参照) には
影響しない点に注意すること。
デフォルトの値は off である。
<DT><B>send </B><I>local-file </I>[<I>remote-file</I>

]






<DD>
<B>put</B>

と同じ。
<DT><B>sendport</B>


<DD>
<B>PORT</B>

コマンドの使用・不使用を切替える。
デフォルトでは、
<B>ftp</B>

はデータ転送のための接続を確立するため
<B>PORT</B>

コマンドを使おうとする。
<B>PORT</B>

コマンドを使用すると、複数のファイルを転送する場合に遅延を避けることができる。
<B>PORT</B>

コマンドが失敗した場合、
<B>ftp</B>

はデフォルトのデータポートを使う。
<B>PORT</B>

コマンドが off の場合、データ転送に
<B>PORT</B>

コマンドを使おうと試みない。
このオプションは、
<B>PORT</B>

コマンドを無視するにもかかわらず、
受け付けると間違って返答するような
<B>FTP</B>

の実装の場合に役立つ。
<DT><B>site </B><I>arg1 arg2 ...</I>




<DD>
指定された引き数を
<B>SITE</B>

コマンドの引き数としてそのままリモートの
<B>FTP</B>

サーバに送信する。
<DT><B>size </B><I>file-name</I>




<DD>
リモートマシン上のファイル
<I>file-name</I>

のサイズを返す。
<DT><B>status</B>


<DD>
<B>ftp</B>

の現在の状態を表示する。
<DT><B>struct </B>[<I>struct-name</I>

]




<DD>
ファイル転送の構造
<I>structure</I>

を
<I>struct-name</I>

に設定する。
デフォルトでは、&ldquo;stream&rdquo; 構造が使われる。
<DT><B>sunique</B>


<DD>
一意なファイル名でリモート計算機上にファイルを保存するか否かを切替える。
この機能が使えるためには、リモートの FTP サーバが FTP プロトコルの
<B>STOU</B>

コマンドをサポートしていなければならない。
リモートサーバは一意なファイル名を表示する。
デフォルトの値は off である。
<DT><B>system</B>


<DD>
リモートマシンで稼働している OS のタイプを表示する。
<DT><B>tenex</B>


<DD>
<B>TENEX</B>

マシンと通信するために必要なファイル転送タイプに type を設定する。
<DT><B>trace</B>


<DD>
パケットトレースの使用・不使用を切替える。
<DT><B>type </B>[<I>type-name</I>

]




<DD>
ファイル転送のタイプ
<B>type</B>

を
<I>type-name</I>

に設定する。
<DD>type を指定しない場合、現在の type が表示される。
デフォルトの type はネットワーク
<B>ASCII</B>

である。
<DT><B>umask </B>[<I>newmask</I>

]




<DD>
リモートサーバのデフォルトの umask を
<I>newmask</I>

に設定する。
<I>newmask</I>

を省略すると、現在の umask が表示される。
<DT><B>
</B>

<B>user </B><I>user-name</I>



[<I>password</I>

]

[<I>account</I>

]

<DD>

リモートの
<B>FTP</B>

サーバにユーザーを識別させる。
パスワード
<I>password</I>

が指定されておらず、かつサーバがパスワードを必要とする場合、
<B>ftp</B>

は (ローカルエコーをオフにしてから) ユーザーにパスワードを問い合わせる。
アカウントフィールド
<I>account</I>

が指定されておらず、かつ
<B>FTP</B>

サーバがアカウントを必要としている場合、ユーザーはアカウントを尋ねられる。
リモートサーバがログインにアカウントを必要としない場合、
アカウントフィールド
<I>account</I>

が指定されると、ログイン処理の完了後に
<DD>account コマンドがリモートサーバに渡される。
<B>ftp</B>

が &ldquo;自動ログイン (auto-login)&rdquo; を off にして起動されない限り、
この処理は
<B>FTP</B>

サーバに最初に接続されたときに自動的に行われる。
<DT><B>verbose</B>


<DD>
詳細表示モードを切替える。詳細表示モードの場合、
<B>FTP</B>

サーバからの全ての応答が表示される。
さらに詳細表示モードが on の場合、ファイル転送が完了すると、
転送効率に関する統計が報告される。
デフォルトでは、詳細表示モードは on である。
<DT><B>? </B>[<I>command</I>

]




<DD>
<B>help</B>

と同じ。
</DL>
<P>

<P>

スペースを含むコマンド引き数は、引用記号 `&quot;' で括らなければならない。
<A NAME="lbAE">&nbsp;</A>
<H2>ファイル転送の中止</H2>

ファイル転送を中止するためには、
端末のインタラプトキー (通常は Ctrl-C) を使うこと。
データ送信は直ちに停止する。
データ受信は FTP プロトコルの
<B>ABOR</B>

コマンドをリモートサーバに送信することで停止し、
それ以降のデータは破棄される。
これが行われるスピードは、リモートサーバの
<B>ABOR</B>

コマンド処理の機能に依存する。
リモートサーバが
<B>ABOR</B>

コマンドをサポートしていない場合、
要求したファイルをリモートサーバが送信しおわるまで
`ftp&gt;'

というプロンプトは現れない。
<P>

<B>ftp</B>

がローカルの処理を完了し、リモートサーバからの応答を待っている場合、
端末からのインタラプトキー文字列は無視される。
このモードでの長い遅延は、上で述べた ABOR 処理によるものか、
FTP プロトコル違反を含めたリモートサーバの予期せぬ動作によるものである。
リモートサーバの予期せぬ動作の結果による遅延の場合、ローカルの
<B>ftp</B>

プログラムは手動で終了 (kill) しなければならない。
<A NAME="lbAF">&nbsp;</A>
<H2>ファイル名の変換</H2>

<B>ftp</B>

の引き数として指定されたファイル名は、以下の規則に従って変更される。
<OL><P>

<LI>

ファイル名として
`-

'

が指定された場合、(読み込みとして)
<I>stdin</I>

が、(書き出しとして)
<I>stdout</I>

が使われる。
<LI>

ファイル名の最初の文字が
`|'

の場合、残りの引き数はシェルコマンドとして解釈される。
そして、
<B>ftp</B>

は与えられた引き数を
<A HREF="../../LDP_man-pages/man3/popen.3.html">popen</A>(3)


に渡してシェルを fork し、stdout を読み込み、stdin に書き出す。
シェルコマンドがスペースを含む場合、
&ldquo;&quot; ls -lt&quot;&rdquo;
のように引き数をクォートしなければならない。
この機構の特に役立つ例としては、&ldquo;dir more&rdquo; がある。
<LI>

上記のチェックにひっかからず、ファイル名展開 ``glob'' が on の場合、
ローカルファイル名は
csh(1)


で使われる規則に基づいて展開される。
<B>glob</B>

コマンドを参照すること。
<B>ftp</B>

コマンドが 1 つしかローカルファイルを必要としない場合 (例えば
<B>put  </B>

の場合)、「ファイル名展開」操作で生成された最初のファイル名のみが使われる。
<LI>

<B>mget</B>

コマンドと
<B>get</B>

コマンドにおいてローカルファイル名が指定されていない場合、
ローカルファイル名はリモートファイル名と同じであるが、
<B>case </B>

 
<B>ntrans</B>

 
<B>nmap</B>

の設定によって変更されることがある。
<B>runique</B>

が on の場合、結果として得られるファイル名が変更されることがある。
<LI>

<B>mput</B>

コマンドと
<B>put</B>

コマンドにおいてリモートファイル名が指定されていない場合、
リモートファイル名はローカルファイル名と同じであるが、
<B>ntrans</B>

と
<B>nmap</B>

の設定によって変更されることがある。
<B>sunique</B>

が on の場合、結果として得られるファイル名が
サーバによって更に変更されることがある。
</OL><P>

<A NAME="lbAG">&nbsp;</A>
<H2>ファイル転送パラメータ</H2>

FTP の仕様にはファイル転送に影響を及ばす多くのパラメータがある。
<B>type</B>

は &ldquo;ascii&rdquo;, &ldquo;image&rdquo; (binary),
&ldquo;ebcdic&rdquo;, &ldquo;local byte size&rdquo; (
<B>PDP -10's</B>



と
<B>PDP -20's</B>



でよく使われる) のいずれかである。
<B>ftp</B>

ascii タイプと image タイプのファイル転送をサポートしている。
更に、
<B>tenex</B>

モード転送のためにローカルバイトサイズ 8 のファイル転送をサポートしている。
<P>

<B>ftp</B>

は他のファイル転送パラメータ
<B>mode </B>

 
<B>form</B>

 
<B>struct</B>

についてはデフォルトの値しか使えない。
<A NAME="lbAH">&nbsp;</A>
<H2>環境変数</H2>

<B>ftp</B>

は以下の環境変数を使用する。
<DL COMPACT>
<P>

<DT><B>HOME</B>


<DD>
.netrc

ファイルが存在する場合のデフォルトの場所。
<DT><B>SHELL</B>


<DD>
デフォルトのシェル。
</DL>
<P>

<A NAME="lbAI">&nbsp;</A>
<H2>関連項目</H2>

<A HREF="../man8/ftpd.8.html">ftpd</A>(8),


RFC 959
<A NAME="lbAJ">&nbsp;</A>
<H2>履歴</H2>

<B>ftp</B>

コマンドは
BSD 4.2
で登場した。
<A NAME="lbAK">&nbsp;</A>
<H2>バグ</H2>

コマンドが正しく動作するかは、リモートサーバが適切に動作するかに依存する。
<P>

BSD 4.2
の ascii タイプ転送のソースコードにあった
キャリッジリターンの扱いに関するエラーが訂正された。
この訂正の結果として、
BSD 4.2
のサーバとの間でバイナリファイルを ascii タイプで転送すると、
転送に誤りが起こる。
この問題を避けるためには、binary image タイプを使うこと。
<A NAME="lbAL">&nbsp;</A>
<H2>翻訳者謝辞</H2>

この man ページの翻訳にあたり、
FreeBSD jpman project &lt;<A HREF="http://www.jp.freebsd.org/man-jp/">http://www.jp.freebsd.org/man-jp/</A>&gt;
による翻訳を参考にさせていただいた。
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">ファイル転送の中止</A><DD>
<DT><A HREF="#lbAF">ファイル名の変換</A><DD>
<DT><A HREF="#lbAG">ファイル転送パラメータ</A><DD>
<DT><A HREF="#lbAH">環境変数</A><DD>
<DT><A HREF="#lbAI">関連項目</A><DD>
<DT><A HREF="#lbAJ">履歴</A><DD>
<DT><A HREF="#lbAK">バグ</A><DD>
<DT><A HREF="#lbAL">翻訳者謝辞</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:40 GMT, December 05, 2022
</BODY>
</HTML>
