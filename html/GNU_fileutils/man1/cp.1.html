
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of CP</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>CP</H1>
Section: FSF (1)<BR>Updated: November 1998<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/GNU_fileutils/release/man1/cp.1">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

cp - ファイルやディレクトリをコピーする
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>cp</B>

[<I>オプション</I>]...<I> SOURCE DEST</I>
<BR>

<B>cp</B>

[<I>オプション</I>]...<I> SOURCE</I>...<I> DIRECTORY</I>
<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

<P>


<P>

SOURCEファイルをDESTファイルへコピーする。
または、複数のSOURCEファイルをDIRECTORY(ディレクトリ)下へコピーする。
<DL COMPACT>
<DT><B>-a</B>, <B>--archive</B><DD>
<B>-dpR</B>と同じ。
<DT><B>-b</B>, <B>--backup</B><DD>
上書きされたり、削除されることになるファイルのバックアップを作る。
<DT><B>-d</B>, <B>--no-dereference</B><DD>
リンクを保存する。
(訳注: シンボリックリンクをコピーするときは、
シンボリックリンクが指しているファイルをコピーするのではなく、
シンボリック自体をコピーする。
また、ハードリンクされたもの同士をコピーする場合は、
それら同士はコピー先でもハードリンクされたままになる。)
<DT><B>-f</B>, <B>--force</B><DD>
コピー先が存在する場合、確認を求めずに削除する。
<DT><B>-i</B>, <B>--interactive</B><DD>
上書きする前に確認を求める。
<DT><B>-l</B>, <B>--link</B><DD>
コピーのかわりにハードリンクを作る。
<DT><B>-p</B>, <B>--preserve</B><DD>
可能ならファイル属性を保持する。
<DT><B>-P</B>, <B>--parents</B><DD>
コピー元のパスをDIRECTORY(ディレクトリ)下に追加する。
(訳注: 例えば、
`cp --parents a/b/c existing_dir' というコマンドは
<I>a/b/c</I>

というファイルを
<I>existing_dir/a/b/c</I>

というファイルに(間のディレクトリもなければ作って)コピーする。)
<DT><B>-r</B><DD>
再帰的にコピーする。
その際、ディレクトリ以外は全てファイルとしてコピーされる。
<DT><B>--sparse</B>=<I>WHEN</I><DD>
スパースなファイルの生成をコントロールする。
<DT><B>-R</B>, <B>--recursive</B><DD>
ディレクトリを再帰的にコピーする。
<DT><B>-s</B>, <B>--symbolic-link</B><DD>
コピーのかわりにシンボリックリンクを作る。
<DT><B>-S</B>, <B>--suffix</B>=<I>SUFFIX</I><DD>
バックアップファイルを作る際の添字を指定する。
<DT><B>-u</B>, <B>--update</B><DD>
コピー先ファイルよりもSOURCEファイルの方が新しい場合か、
または、コピー先ファイルが見付からない場合のみコピーする。
<DT><B>-v</B>, <B>--verbose</B><DD>
実行内容を表示する。
<DT><B>-V</B>, <B>--version-control</B>=<I>WORD</I><DD>
バックアップファイルの命名方法を指定する。
<DT><B>-x</B>, <B>--one-file-system</B><DD>
同一ファイルシステム内に留める。
(訳注: コピーする際、違うファイルシステムのサブディレクトリはコピーしない。)
<DT><B>--help</B><DD>
使用方法を表示して正常終了する。
<DT><B>--version</B><DD>
バージョン情報を出力して正常終了する。
</DL>
<P>

デフォルトでは、大雑把な発見的手法でスパースなSOURCEファイルを検出し、
対応するDESTファイルを同様にスパースにする。
<B>--sparse</B>=<I>auto</I>を指定するとデフォルトの動作となる。
<B>--sparse</B>=<I>always</I>を指定すると、
SOURCEファイルが十分長いゼロバイト列を含む場合はいつでも、
スパースなDESTファイルを生成する。
<B>--sparse</B>=<I>never</I>を指定すると、スパースなファイルの生成を禁止する。
<P>

環境変数SIMPLE_BACKUP_SUFFIXが設定されていない場合、
バックアップファイルを作る際の添字は ~ である。
バックアップファイルの命名方法は、環境変数VERSION_CONTROLで指定する。
指定する値は以下の通り。
<DL COMPACT>
<DT>t, numbered<DD>
番号の拡張子を持つバックアップを作成する。
<DT>nil, existing<DD>
番号の拡張子を持つバックアップがすでにある場合には、
番号の拡張子を持つバックアップを、
そうでない場合には単純なバックアップを作成する。
<DT>never, simple<DD>
常に単純なバックアップを作成する。
</DL>
<P>

特殊ケースとして、forceオプションとbackupオプションが同時に指定され、かつ、
SOURCEとDESTが同じ名前の存在する通常のファイルである場合、
SOURCEのバックアップを作成する。
<A NAME="lbAE">&nbsp;</A>
<H2>バグレポート</H2>

バグレポートは&lt;<A HREF="mailto:bug-fileutils@gnu.org">bug-fileutils@gnu.org</A>&gt;へ。
<A NAME="lbAF">&nbsp;</A>
<H2>関連項目</H2>

<B>cp</B>

の完全なドキュメントはinfoマニュアルとしてメンテナンスされている。
<B>info</B>

と
<B>cp</B>

が正しくインストールされていれば、次のコマンド
<DL COMPACT>
<DT><DD>
<B>info cp</B>

</DL>
<P>

で完全なマニュアルを参照することができる。
<P>
<A NAME="lbAG">&nbsp;</A>
<H2>訳注</H2>

以下にディレクトリのコピー例を添付する。

<BR>

&lt;&lt;testdir に各種の file を作り、cp を各種 option 付きで実行した結果&gt;&gt;
<BR>

(左から、パーミッション、ハードリンクの数、ファイル名)
<BR>

---------------- begin ---------------------- 
<BR>

testdir:
<BR>&nbsp;&nbsp;&nbsp;drwxr-xr-x&nbsp;&nbsp;&nbsp;2&nbsp;directory/
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;file
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;hardlinkfile
<BR>&nbsp;&nbsp;&nbsp;prw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;hardlinkpipe|
<BR>&nbsp;&nbsp;&nbsp;prw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;pipe|
<BR>&nbsp;&nbsp;&nbsp;lrwxrwxrwx&nbsp;&nbsp;&nbsp;2&nbsp;symlinkfile&nbsp;-&gt;&nbsp;file
<BR>&nbsp;&nbsp;&nbsp;lrwxrwxrwx&nbsp;&nbsp;&nbsp;1&nbsp;symlinkpipe&nbsp;-&gt;&nbsp;pipe|
<P>
testdir-R:
<BR>&nbsp;&nbsp;&nbsp;drwxr-xr-x&nbsp;&nbsp;&nbsp;2&nbsp;directory/
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;1&nbsp;file
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;1&nbsp;hardlinkfile
<BR>&nbsp;&nbsp;&nbsp;prw-r--r--&nbsp;&nbsp;&nbsp;1&nbsp;hardlinkpipe|
<BR>&nbsp;&nbsp;&nbsp;prw-r--r--&nbsp;&nbsp;&nbsp;1&nbsp;pipe|
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;1&nbsp;symlinkfile
<BR>&nbsp;&nbsp;&nbsp;prw-r--r--&nbsp;&nbsp;&nbsp;1&nbsp;symlinkpipe|
<P>
testdir-a:
<BR>&nbsp;&nbsp;&nbsp;drwxr-xr-x&nbsp;&nbsp;&nbsp;2&nbsp;directory/
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;file
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;hardlinkfile
<BR>&nbsp;&nbsp;&nbsp;prw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;hardlinkpipe|
<BR>&nbsp;&nbsp;&nbsp;prw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;pipe|
<BR>&nbsp;&nbsp;&nbsp;lrwxrwxrwx&nbsp;&nbsp;&nbsp;1&nbsp;symlinkfile&nbsp;-&gt;&nbsp;file
<BR>&nbsp;&nbsp;&nbsp;lrwxrwxrwx&nbsp;&nbsp;&nbsp;1&nbsp;symlinkpipe&nbsp;-&gt;&nbsp;pipe|
<P>
testdir-dR:
<BR>&nbsp;&nbsp;&nbsp;drwxr-xr-x&nbsp;&nbsp;&nbsp;2&nbsp;directory/
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;file
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;hardlinkfile
<BR>&nbsp;&nbsp;&nbsp;prw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;hardlinkpipe|
<BR>&nbsp;&nbsp;&nbsp;prw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;pipe|
<BR>&nbsp;&nbsp;&nbsp;lrwxrwxrwx&nbsp;&nbsp;&nbsp;1&nbsp;symlinkfile&nbsp;-&gt;&nbsp;file
<BR>&nbsp;&nbsp;&nbsp;lrwxrwxrwx&nbsp;&nbsp;&nbsp;1&nbsp;symlinkpipe&nbsp;-&gt;&nbsp;pipe|
<P>
testdir-dr:
<BR>&nbsp;&nbsp;&nbsp;drwxr-xr-x&nbsp;&nbsp;&nbsp;2&nbsp;directory/
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;file
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;hardlinkfile
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;hardlinkpipe
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;2&nbsp;pipe
<BR>&nbsp;&nbsp;&nbsp;lrwxrwxrwx&nbsp;&nbsp;&nbsp;1&nbsp;symlinkfile&nbsp;-&gt;&nbsp;file
<BR>&nbsp;&nbsp;&nbsp;lrwxrwxrwx&nbsp;&nbsp;&nbsp;1&nbsp;symlinkpipe&nbsp;-&gt;&nbsp;pipe
<P>
testdir-r:
<BR>&nbsp;&nbsp;&nbsp;drwxr-xr-x&nbsp;&nbsp;&nbsp;2&nbsp;directory/
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;1&nbsp;file
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;1&nbsp;hardlinkfile
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;1&nbsp;hardlinkpipe
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;1&nbsp;pipe
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;1&nbsp;symlinkfile
<BR>&nbsp;&nbsp;&nbsp;-rw-r--r--&nbsp;&nbsp;&nbsp;1&nbsp;symlinkpipe
<BR>

----------------- end ------------------------
<P>
<P>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">バグレポート</A><DD>
<DT><A HREF="#lbAF">関連項目</A><DD>
<DT><A HREF="#lbAG">訳注</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:23 GMT, December 05, 2022
</BODY>
</HTML>
