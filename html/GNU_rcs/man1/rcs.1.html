
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of RCS</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../contrib.css">
</HEAD>
<BODY>
<DIV ALIGN="right">
本ページは <A HREF="http://www.jp.freebsd.org/man-jp/index.html">FreeBSD jpman project</A>
(man-jp@jp.FreeBSD.org) より寄贈いただきました。
</DIV>


<H1>RCS</H1>
Section: User Commands  (1)<BR>Updated: 1999/08/27<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/GNU_rcs/contrib/man1/rcs.1">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名称</H2>

rcs - RCS ファイルの属性を変更する
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>rcs</B>

<I>options file </I>...

<A NAME="lbAD">&nbsp;</A>
<H2>解説</H2>

<B>rcs</B>

は、<FONT SIZE="-1">RCS</FONT> ファイルの新規作成および <FONT SIZE="-1">RCS</FONT> ファイルの属性変更を行います。
<FONT SIZE="-1">RCS</FONT> ファイルは、複数のリビジョン、アクセスリスト、変更履歴、
内容記述、制御属性からなります。
<B>rcs</B>

コマンドが実行できるのは、
実行したユーザが <FONT SIZE="-1">RCS</FONT> ファイルのアクセスリストに登録されているか、
アクセスリストが空であるか、ユーザが <FONT SIZE="-1">RCS</FONT> ファイルの所有者であるか、
スーパユーザであるか、あるいは
<B>-i</B>

オプションが指定されている場合に限られます。
<P>

<FONT SIZE="-1">RCS</FONT> 拡張子にマッチするファイル名は <FONT SIZE="-1">RCS</FONT> ファイルであるとみなし、その他
のファイル名はワークファイルであるとみなします。詳しくは、
<B><A HREF="../man1/ci.1.html">ci</A></B>(1)

を参照してください。リビジョン番号は
<B><A HREF="../man1/ci.1.html">ci</A></B>(1)

に記述されている形式を用います。
<A NAME="lbAE">&nbsp;</A>
<H2>オプション</H2>

<DL COMPACT>
<DT><B>-i</B>

<DD>
新たな <FONT SIZE="-1">RCS</FONT> ファイルを作成し、初期化します。ただし、リビジョンは作成しません。
指定されたファイル名にディレクトリ名が含まれていない場合、
<B>rcs</B>

はまずカレントディレクトリにある
<B>./RCS</B>

ディレクトリにファイルを作成しよう
と試みます。これに失敗したら、カレントディレクトリに作成しようと試みます。
もしすでに <FONT SIZE="-1">RCS</FONT>
ファイルが存在した場合はエラーとなります。
<DT><B>-a</B><I>logins</I>

<DD>
<FONT SIZE="-1">RCS</FONT> ファイルのアクセスリストに
<I>logins</I>

で指定したユーザ名を追加します。
<I>logins</I>

は、コンマで区切ったユーザ名のリストです。
<DT><B>-A</B><I>oldfile</I>

<DD>
<I>oldfile</I>

で指定した <FONT SIZE="-1">RCS</FONT> ファイルのアクセスリストに登録されているユーザ名を、
対象の <FONT SIZE="-1">RCS</FONT> ファイルのアクセスリストに追加します。
<DT><B>-e</B>[<I>logins</I>]

<DD>
<I>logins</I>

で指定したユーザ名を、<FONT SIZE="-1">RCS</FONT> ファイルのアクセスリストから消去します。
<I>logins</I>

が省略された場合は、アクセスリスト全体を消去します。
<DT><B>-b</B>[<I>rev</I>]

<DD>
<I>rev</I>

をデフォルトの枝とします。
<I>rev</I>

が省略された場合、デフォルト枝は
幹上で最も大きな番号を持つ枝になります。
<DT><B>-c</B><I>string</I>

<DD>
コメント開始文字列を
<I>string</I>

に設定します。
最初に
<B>ci</B>

を起動した時、あるいは
<B>rcs&nbsp;-i</B>

に
<B>-c</B>

オプションを指定しなかった時は、コメント開始文字列は
ワークファイルの拡張子から自動的に推測されます。
<DL COMPACT><DT><DD>
<P>

通常、<FONT SIZE="-1">RCS</FONT> はチェックアウト (
<B><A HREF="../man1/co.1.html">co</A></B>(1)

参照) 時の記録行を挿入する際に、
<B>$Log$</B>

行の行頭部を使用するので、このオプションは現在廃止の方向にあります。
しかしながら、<FONT SIZE="-1">RCS</FONT> の古いバージョンでは、
<B>$Log$</B>

行の行頭部ではなくコメント開始文字列を使用しているので、
<FONT SIZE="-1">RCS</FONT> の新旧両方のバージョンのファイルを使用する場合は、
そのコメント開始文字列が
<B>$Log$</B>

行の行頭部と一致するようにしなければなりません。
</DL>

<DT><B>-k</B><I>subst</I>

<DD>
デフォルトのキーワード展開方式を
<I>subst</I>

に設定します。キーワード展開の効果については
<B><A HREF="../man1/co.1.html">co</A></B>(1)

に記述してあります。
<B>co</B>,

<B>rcsdiff</B>,

<B>rcsmerge</B>

に
<B>-k</B>

オプションを指定することで、デフォルトの展開方式を無効にすることができます。
<B>rcs&nbsp;-kv</B>

を用いるときは注意してください。なぜなら、
<B>-kv</B>

をデフォルトにすると
<B>co&nbsp;-l</B>

あいいれなくなるからです。
<B>rcs&nbsp;-kkv</B>

によって、通常のデフォルト値に戻すことができます。
<DT><B>-l</B>[<I>rev</I>]

<DD>
リビジョン
<I>rev</I>

をロックします。
<I>rev</I>

が枝を示す場合、枝上の最新のリビジョンがロックされます。
<I>rev</I>

が省略された場合、デフォルト枝上の最新のリビジョンがロックされます。
ロックすることにより、そのリビジョンのファイルに対して複数の人が
変更することを防止できます。別の人が既にロックしている場合、
<B>rcs&nbsp;-u</B>

により、ロックを解除することができます(下記参照)。
<DT><B>-u</B>[<I>rev</I>]

<DD>
リビジョン
<I>rev</I>

をロック解除します。
<I>rev</I>

が枝を示す場合、枝上の最新のリビジョンがロック解除されます。
<I>rev</I>

が省略された場合、コマンドを実行したユーザがロックした
最新のリビジョンがロック解除されます。
通常、ロックしたユーザのみがロックを解除することができます。
他のユーザがロックを解除しようとすると、
ロックしたユーザへメールが送信されます。
メールにはロックを解除する理由等を書いた
コメントを付加します。コメントはロックを解除しようとしたユーザが入力し、
ファイル終端あるいは
<B>.</B>

のみを含む行を入力することで終了します。
<DT><B>-L</B>

<DD>
ロックを厳格に行なうモード (以下、厳格モード) に設定します。
厳格ロックを指定すると、<FONT SIZE="-1">RCS</FONT> ファイルの
所有者であっても、ロックしているファイルをチェックインすることが
できなくなります。
複数のユーザで共有するようなファイルは本モードで利用すべきです。
<DT><B>-U</B>

<DD>
ロックを厳格には行なわないモード (以下、非厳格モード) に設定します。
非厳格ロックを指定すると、<FONT SIZE="-1">RCS</FONT> ファイルの所有者はロックすることなく、
新しいリビジョンをチェックインすることができます。複数の
ユーザで共有するファイルは本モードで使用すべきではありません。
デフォルトのロックモードを厳格にするか非厳格にするかは、<FONT SIZE="-1">RCS</FONT> システムを
インストールしたシステム管理者が決めますが、通常は厳格モードです。
<DT><B>-m</B><I>rev</I><B>:</B><I>msg</I><DD>
リビジョン
<I>rev</I>

のログメッセージを
<I>msg</I>

に置換します。
<DT><B>-M</B>

<DD>
ロックしたユーザ以外のユーザがロックを解除した際に、メールを送りません。
これは使用を簡便にする目的のオプションではありません。他の方法により
ユーザに警告を行うようなプログラムを使用し、
<B>rcs&nbsp;-u</B>

を単に低いレベルのロック解除の目的で使用するような場合のために
用意されています。
<DT><B>-n</B><I>name</I>[<B>:</B>[<I>rev</I>]]<DD>
枝またはリビジョン
<I>rev</I>

にシンボリック名
<I>name</I>

を関連付けます。
<B>:</B>

も
<I>rev</I>

も省略した場合、シンボリック名
<I>name</I>

は削除されます。
<I>name</I>

がすでに別の
リビジョンに関連付けられていた場合はエラーとなります。
<I>rev</I>

がシンボリック名の場合も
<I>name</I>

との関連付けは番号によって行われます。枝番号に
<I>.</I>

を付加したものは、その枝での最新のリビジョンを示します。
<B>:</B>

だけで
<I>rev</I>

を省略した場合、デフォルト枝(通常は幹)の最新のリビジョンが関連付けられます。
たとえば、
<B>rcs&nbsp;-n</B><I>name</I><B>:&nbsp;RCS/*</B>

はすべての <FONT SIZE="-1">RCS</FONT> ファイルの最新のリビジョンに対してシンボリック名
<I>name</I>

を関連付けます。一方、
<B>rcs&nbsp;-n</B><I>name</I><B>:$&nbsp;RCS/*</B>

は各 <FONT SIZE="-1">RCS</FONT> ファイルに対応したワークファイル中のキーワードに含まれる
リビジョン番号と
<I>name</I>

を関連付けます。
<DT><B>-N</B><I>name</I>[<B>:</B>[<I>rev</I>]]<DD>
<B>-n</B>

と同様に動作します。ただし、同じ
<I>name</I>

が別のリビジョンに関連付けられていてもエラーとはせず、
関連付けをしなおします。
<DT><B>-o</B><I>range</I>

<DD>
<I>range</I>

で指定したリビジョンを削除します。
<I>range</I>

がただ 1 つのリビジョン番号ならば、そのリビジョンを削除します。
<I>range</I>

に枝番号が含まれれば、その枝の最新のリビジョンを削除します。
<I>rev1</I><B>:</B><I>rev2</I>

形式の範囲指定では、同じ枝上の
<I>rev1</I>

から
<I>rev2</I>

までのすべてのリビジョンが削除されます。
<B>:</B><I>rev</I>

は枝の開始から
<I>rev</I>

までのリビジョンを、
<I>rev</I><B>:</B>

は同じ枝上の
<I>rev</I>

以降のリビジョンのすべてを削除します。
削除されるリビジョンにロックや枝があってはいけません。
<DT><B>-q</B>

<DD>
診断メッセージは表示されません。
<DT><B>-I</B>

<DD>
対話モードで動作します。たとえ標準入力が端末でなくても、ユーザに対して
問い合わせを行います。
<DT><B>-s</B><I>state</I>[:<I>rev</I>]

<DD>
リビジョン
<I>rev</I>

の状態を
<I>state</I>

にします。
<I>rev</I>

が枝番号なら、その枝の最新のリビジョンの状態を変更します。
<I>rev</I>

が省略されたなら、デフォルト枝の最新リビジョンを変更します。
<I>state</I>

としては自由な識別子を指定できます。一般に用いられる識別子としては、
<B>Exp</B>

(experimental: 実験的)、
<B>Stab</B>

(stable: 安定した)、
<B>Rel</B>

(released: リリースした)があります。デフォルトでは、
<B><A HREF="../man1/ci.1.html">ci</A></B>(1)

は状態を
<B>Exp</B>

にします。
<DT><B>-t</B>[<I>file</I>]

<DD>
<FONT SIZE="-1">RCS</FONT> ファイルの内容記述テキストをファイル
<I>file</I>

の内容で置換します。すでに存在していた内容記述は削除されます。ファイル名は
<B>-</B>

で始まってはいけません。
<I>file</I>

が省略された場合、
テキストは標準入力から読み込まれ、ファイル終端または
<B>.</B>

のみを含む行で終了します。可能ならば、テキストの入力を
促すプロンプトが表示されます(
<B>-I</B>

オプションの項を参照)。
<B>-i</B>

オプションを指定すると、
<B>-t</B>

オプションが指定されていなくても内容記述テキストの入力を求めます。
<DT><B>-t-</B><I>string</I>

<DD>
<FONT SIZE="-1">RCS</FONT> ファイルの内容記述テキストを文字列
<I>string</I>

で置換します。すでに存在していた内容記述は削除されます。
<DT><B>-T</B>

<DD>
リビジョンが削除されない限り、<FONT SIZE="-1">RCS</FONT> ファイルの変更時刻を保存します。
このオプションを使うことにより、<FONT SIZE="-1">RCS</FONT> ファイルの中のワークファイルの
コピーによって生ずる
<B><A HREF="../../GNU_make/man1/make.1.html">make</A></B>(1)

の依存関係に伴う必要以上の再コンパイルを防ぐことができます。
このオプションを使用する際には注意が必要です。本当に再コンパイルが必要な
場合にも再コンパイルされない場合が生じます。つまり、<FONT SIZE="-1">RCS</FONT> ファイルへの変更が
ワークファイル中のキーワードの変更を意味する場合があるからです。
<DT><B>-V</B>

<DD>
<FONT SIZE="-1">RCS</FONT> システムのバージョン番号を表示します。
<DT><B>-V</B><I>n</I>

<DD>
<FONT SIZE="-1">RCS</FONT> システムのバージョン
<I>n</I>

のエミュレーションを行います。詳細は
<B><A HREF="../man1/co.1.html">co</A></B>(1)

を参照してください。
<DT><B>-x</B><I>suffixes</I>

<DD>
<FONT SIZE="-1">RCS</FONT> ファイル拡張子を
<I>suffixes</I>

に指定します。詳しくは
<B><A HREF="../man1/ci.1.html">ci</A></B>(1)

を参照してください。
<DT><B>-z</B><I>zone</I>

<DD>
デフォルトのタイムゾーンとして
<I>zone</I>

を使用します。
このオプションは何の効果もありません。他の <FONT SIZE="-1">RCS</FONT> コマンドとの互換性を保つ
ために存在します。
</DL>
<P>

<B>rcs</B>

コマンドの将来予定されている拡張との互換性を維持するには、
少なくともひとつのオプションを明示的に指定する必要があります。
<A NAME="lbAF">&nbsp;</A>
<H2>互換性</H2>

<B>-b</B><I>rev</I>

オプションを指定すると、 <FONT SIZE="-1">RCS</FONT> バージョン 3 以前では処理できない <FONT SIZE="-1">RCS</FONT>
ファイルが生成されます。
<P>

<B>-k</B><I>subst</I>

オプション(
<B>-kkv</B>

を除く)を指定すると、 <FONT SIZE="-1">RCS</FONT> バージョン 4 以前では
処理できない <FONT SIZE="-1">RCS</FONT> ファイルが生成されます。
<P>

バージョン
<I>n</I>

の <FONT SIZE="-1">RCS</FONT> で処理できる <FONT SIZE="-1">RCS</FONT> ファイルを生成するために
<B>rcs -V</B><I>n</I>

を利用することができます。これにより、バージョン
<I>n</I>

で処理できない情報を削除することができます。
<P>

バージョン 5.5 以前の <FONT SIZE="-1">RCS</FONT> は
<B>-x</B>

オプションをサポートしません。<FONT SIZE="-1">RCS</FONT> ファイルの拡張子としては
<B>,v</B>

が用いられます。
<A NAME="lbAG">&nbsp;</A>
<H2>関連ファイル</H2>

<B>rcs</B>

は
<B><A HREF="../man1/ci.1.html">ci</A></B>(1)

とほぼ同様のファイル群にアクセスします。ただし、アクセスは
すべて実効ユーザ ID によって行われます。
また、ワークファイルやそのディレクトリには書き込みを
行いません。リビジョン番号として
<B>$</B>

を指定した場合を除き、ワークファイルを読むこともありません。
<A NAME="lbAH">&nbsp;</A>
<H2>環境変数</H2>

<DL COMPACT>
<DT><B></B><FONT SIZE="-1"><B>RCSINIT</B></FONT><B></B>

<DD>
コマンドライン引数に先立って与えられるオプションを指定します。
各オプションは空白で区切って指定します。詳しくは
<B><A HREF="../man1/ci.1.html">ci</A></B>(1)

を参照してください。
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>診断</H2>

<FONT SIZE="-1">RCS</FONT> ファイル名およびひとつ古い(outdated)リビジョン番号が診断出力として
表示されます。
すべての処理が成功した場合に限り終了ステータス 0 を返します。
<A NAME="lbAJ">&nbsp;</A>
<H2>作者</H2>

Author: Walter F. Tichy.
<BR>

Manual Page Revision: 1.5; Release Date: 1999/08/27.
<BR>

Copyright &#169; 1982, 1988, 1989 by Walter F. Tichy.
<BR>

Copyright &#169; 1990, 1991, 1992, 1993, 1994, 1995 Paul Eggert.
<A NAME="lbAK">&nbsp;</A>
<H2>関連項目</H2>

<A HREF="../man1/rcsintro.1.html">rcsintro</A>(1), <A HREF="../man1/co.1.html">co</A>(1), <A HREF="../man1/ci.1.html">ci</A>(1), <A HREF="../man1/ident.1.html">ident</A>(1), <A HREF="../man1/rcsclean.1.html">rcsclean</A>(1), <A HREF="../man1/rcsdiff.1.html">rcsdiff</A>(1),
<A HREF="../man1/rcsmerge.1.html">rcsmerge</A>(1), <A HREF="../man1/rlog.1.html">rlog</A>(1), <A HREF="../man5/rcsfile.5.html">rcsfile</A>(5)
<BR>

Walter F. Tichy,
<FONT SIZE="-1">RCS</FONT>--A System for Version Control,
<I>Software--Practice &amp; Experience</I>

<B>15</B>,

7 (July 1985), 637-654.
<A NAME="lbAL">&nbsp;</A>
<H2>バグ</H2>

システムクラッシュ等の大惨事があると、<FONT SIZE="-1">RCS</FONT> はセマフォファイルを
残してしまうため、後に <FONT SIZE="-1">RCS</FONT> を実行しようとすると、<FONT SIZE="-1">RCS</FONT> ファイルが使用中であると
警告します。
これを直すにはセマフォファイルを消去する必要があります。
通常、セマフォファイル名前は
<B>,</B>

で始まるか、
<B>_</B>

で終了します。
<P>

以前の版の
<B>rcs</B>

では
<B>-o</B>

オプションにおけるリビジョンの区切りは
<B>:</B>

ではなく
<B>-</B>

でした。
しかし、これはシンボリック名が
<B>-</B>

を含んでいるときに混乱を生じます。
従来の版との互換性のため
<B>rcs -o</B>

は
<B>-</B>

を用いた記法もサポートしますが、
この記法を用いた場合は警告メッセージを表示します。
<P>

シンボリック名が指しているリビジョンが存在するとは限りません。例えば、
<B>-o</B>

オプションによってリビジョンが削除されてもそれを指すシンボリック名は削
除されずに残っています。シンボリック名を削除するには
<B>-n</B>

オプションを用いる必要があります。
<BR>

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名称</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">解説</A><DD>
<DT><A HREF="#lbAE">オプション</A><DD>
<DT><A HREF="#lbAF">互換性</A><DD>
<DT><A HREF="#lbAG">関連ファイル</A><DD>
<DT><A HREF="#lbAH">環境変数</A><DD>
<DT><A HREF="#lbAI">診断</A><DD>
<DT><A HREF="#lbAJ">作者</A><DD>
<DT><A HREF="#lbAK">関連項目</A><DD>
<DT><A HREF="#lbAL">バグ</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:25 GMT, December 05, 2022
</BODY>
</HTML>
