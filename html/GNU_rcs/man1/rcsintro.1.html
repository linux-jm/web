
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of RCSINTRO</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../contrib.css">
</HEAD>
<BODY>
<DIV ALIGN="right">
本ページは <A HREF="http://www.jp.freebsd.org/man-jp/index.html">FreeBSD jpman project</A>
(man-jp@jp.FreeBSD.org) より寄贈いただきました。
</DIV>


<H1>RCSINTRO</H1>
Section: User Commands  (1)<BR>Updated: 1999/08/27<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/GNU_rcs/contrib/man1/rcsintro.1">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名称</H2>

rcsintro - RCS 入門
<A NAME="lbAC">&nbsp;</A>
<H2>解説</H2>

<FONT SIZE="-1">RCS</FONT> (Revision Control System) は、ファイルのリビジョンを複数管理します。
<FONT SIZE="-1">RCS</FONT> は格納、取り出し、ログ、識別、リビジョンの併合を自動化します。<FONT SIZE="-1">RCS</FONT>
は頻繁に更新されるテキスト、たとえば、プログラム、ドキュメント、
グラフィックス、論文、定型手紙等を扱うのに便利です。
<P>

基本的なユーザインタフェースはとても単純です。初心者は 2 つのコマンド、
<B><A HREF="../man1/ci.1.html">ci</A></B>(1)

と
<B><A HREF="../man1/co.1.html">co</A></B>(1)

を覚えるだけで使用できます。
<B>ci</B>

はチェックイン
``check in'' を省略した名前です。これは、ファイルの内容を
「<FONT SIZE="-1">RCS</FONT> ファイル」と呼ばれる記録用のファイルに格納します。
<FONT SIZE="-1">RCS</FONT> ファイルは、特定ファイルの全リビジョンを含んでいます。
<B>co</B>

はチェックアウト``check out'' を省略した名前です。
これは、<FONT SIZE="-1">RCS</FONT> ファイルからリビジョンを取り出します。

<P>


<DL COMPACT>
<DT>&bull;<DD>
テキストの複数のリビジョンの保存と取り出しを行います。<FONT SIZE="-1">RCS</FONT> は
すべての古いリビジョンを効率的な方法で保存します。
ファイルを変更しても
元のリビジョンが失なわれることはなく、いずれも取り出すことが
可能です。リビジョンは、リビジョン番号、シンボル名、日付、作者、
状態を指定して取り出せます。
<DT>&bull;<DD>
完全な変更の履歴を管理します。<FONT SIZE="-1">RCS</FONT> は、すべての変更点を自動的に
記録します。各リビジョンの内容とともに、作者、チェックインした日時、
変更点を要約したログメッセージが記録されます。
ログによって、どのような変更が行われたのかがひと目でわかります。
ソースリストを見比べたり、一緒に作業している
プログラマにたずねたりする必要はありません。
<DT>&bull;<DD>
アクセス矛盾を解決します。複数のプログラマがあるファイルの
同じリビジョンに対して変更を加えようとした場合、
<FONT SIZE="-1">RCS</FONT> は警告を発し、他者が行った変更を台無しにしてしまう
のを防ぎます。
<DT>&bull;<DD>
リビジョンの木を管理します。<FONT SIZE="-1">RCS</FONT> はモジュールごとに独立した
開発ラインを管理できます。
<FONT SIZE="-1">RCS</FONT> は、リビジョンの系図を表現した木を保存します。
<DT>&bull;<DD>
リビジョンを併合し、矛盾を解決します。あるモジュールの 2 つの
リビジョンを併合することができます。
併合しようとする 2 つのリビジョンが、あるコードの同じ部分に
対する変更を含んでいた場合、<FONT SIZE="-1">RCS</FONT> は変更が重複していると警告します。
<DT>&bull;<DD>
リリースと構成を管理します。リビジョンにはシンボル名を
つけることができます。また、「リリース版(released)」、「安定版(stable)」、
「実験版(experimental)」といった状態をつけることもできます。
これにより、単純かつ直接的にモジュールの構成を表すことができます
<DT>&bull;<DD>
リビジョン番号、作成日時、作者等を自動的に識別することができます。
識別情報は、消印のようにテキストの適当な場所に埋め込むことが
できます。これにより、あるソフトウェアの構成に
どのモジュールのどのリビジョンが使用されているかを
判断することが容易になります。
<DT>&bull;<DD>
必要なディスク容量を最小にします。<FONT SIZE="-1">RCS</FONT> は、リビジョンのために
最小のスペース(差分のみ)しか消費しません。もし途中のリビジョンが
削除されたなら、記録されていた差分もそれに従って小さくなります。

</DL>
<P>


<FONT SIZE="-1">RCS</FONT> の管理下に置きたい
<B>f.c</B>

というファイルがあるとします。もし、まだ作成していなければ、
<FONT SIZE="-1">RCS</FONT> ディレクトリを以下のコマンドにより作成します。
<DL COMPACT>
<DT><DD>
<B>mkdir  RCS</B>

</DL>
<P>

次に ci (チェックイン) コマンドを実行します。
<DL COMPACT>
<DT><DD>
<B>ci  f.c</B>

</DL>
<P>

これにより、
<B>f.c</B>

の内容をリビジョン 1.1 として記録
した <FONT SIZE="-1">RCS</FONT> ファイルが
<B>RCS</B>

ディレクトリ内に
作成され、
<B>f.c</B>

は削除されます。また、
<B>ci</B>

は
<B>f.c</B>

に
関する説明文の入力を促します。
説明文にはファイルの内容を要約して書きます。
以降
<B>ci</B>

を実行するたびに、ファイルに加えた変更の要約を入力するように促します。
<P>

<FONT SIZE="-1">RCS</FONT> ディレクトリにあるファイルは <FONT SIZE="-1">RCS</FONT> ファイルと呼ばれ、
それ以外のファイルはワークファイルと
呼ばれます。先の例で挙げたワークファイル
<B>f.c</B>

を取り戻す
には
<B>co</B>

(チェックアウト) コマンドを実行します。
<DL COMPACT>
<DT><DD>
<B>co  f.c</B>

</DL>
<P>

このコマンドは <FONT SIZE="-1">RCS</FONT> ファイル中の最新のリビジョンを取り出してファイル
<B>f.c</B>

に書き出します。
もし、
<B>f.c</B>

に変更を加えたければ、次のコマンドを使ってチェックアウトしロック
しなければいけません。
<DL COMPACT>
<DT><DD>
<B>co  -l  f.c</B>

</DL>
<P>

これで
<B>f.c</B>

を編集することができます。
<P>

ある程度編集したところで、どのような変更を加えたか
知りたくなるときがあります。
この場合は、以下のコマンドを実行します。
<DL COMPACT>
<DT><DD>
<B>rcsdiff  f.c</B>

</DL>
<P>

このコマンドは、最後にチェックインしたリビジョンと
ワークファイルの違いを表示します。編集が終わったら、
以下のコマンドにより、もう一度チェックインすることができます。
<DL COMPACT>
<DT><DD>
<B>ci  f.c</B>

</DL>
<P>

これにより、リビジョン番号が自動的に付け直されます。
<P>

もし
<B>ci</B>

が
<DL COMPACT>
<DT><DD>
<B>ci error: no lock set by </B><I>your name</I>

</DL>
<P>

というエラーメッセージを出力したなら、
それは、ロックせずにチェックアウトしたファイルを
チェックインしようとしたからです。もちろん、
ここでロックしチェックアウトし直すのでは遅すぎます。
ここでチェックアウトすると、あなたが行った編集は
上書きされて失われてしまうからです。
かわりに、以下のコマンドを実行します。
<DL COMPACT>
<DT><DD>
<B>rcs  -l  f.c</B>

</DL>
<P>

これは、ほかに誰もロックしていなければ、最新のリビジョンを
ロックします。もし、すでに誰かがロックしてしまっていたなら、
その人と相談しなければなりません。
<P>

ロックすることにより、あなただけがファイルを更新(チェックイン)
できるようになり、同時に複数の人が同じファイルを編集する際の
厄介な問題を回避することができます。たとえリビジョンが
ロックされていても、そのファイルをチェックアウトして内容を見たり、
コンパイルすることは可能です。ロック機構は、ロックした人
以外が
<I>チェックイン</I>

できないようにするだけです。
<P>

もし扱う <FONT SIZE="-1">RCS</FONT> ファイルが個人的なもの、すなわち
そのファイルに対して新しいリビジョンをチェックインするのが
あなただけである場合、厳格なロック機構は必要ないでしょう。
厳格なロック機構はオフにすることもできます。
もし厳格なロックモードがオフになっているなら、
<FONT SIZE="-1">RCS</FONT> ファイルの所有者はロックしていないファイルをチェックイン
することができます(それ以外の人はロックが必要です)。
厳格なロックモードのオンとオフは、
それぞれ以下のコマンドにより行います。
<DL COMPACT>
<DT><DD>
<B>rcs  -L  f.c</B>     及び     <B>rcs  -U  f.c</B>

</DL>
<P>

もしワークディレクトリに <FONT SIZE="-1">RCS</FONT> ファイルをまき散らしたく
ないなら、<FONT SIZE="-1">RCS</FONT> という名前のディレクトリを作成し、<FONT SIZE="-1">RCS</FONT> ファイルを
すべてその下に移動します。<FONT SIZE="-1">RCS</FONT> コマンドは <FONT SIZE="-1">RCS</FONT> ファイルを探すとき、
まず、
<B>RCS</B>

ディレクトリを検索します。この場合も、これまでに述べてきたコマンドは
引数をいっさい変更せずに実行できます(実際は <FONT SIZE="-1">RCS</FONT> に <FONT SIZE="-1">RCS</FONT> ファイルと
ワークファイルの対を指示する方法は 3 通りあります:
(a) 両方を指定する、(b) ワークファイルのみを指定する、
(c) <FONT SIZE="-1">RCS</FONT> ファイルのみを指定する。<FONT SIZE="-1">RCS</FONT> ファイルとワークファイルは
自由なパスに置くことができますが、<FONT SIZE="-1">RCS</FONT> コマンドはファイルの対を
インテリジェントに探します)。
<P>

チェックインしたときにワークファイルが削除されないようにする
(編集を続けたり、コンパイルしたりする場合)には以下のコマンドを使います。
<DL COMPACT>
<DT><DD>
<B>ci  -l  f.c</B>     あるいは     <B>ci  -u  f.c</B>

</DL>
<P>

これらのコマンドは通常どおり
<B>f.c</B>

をチェックインします。しかし、自動的にチェックアウトも行います。
最初の例ではロックを行い、2 番目の例ではロックを行いません。
このようにすればチェックアウト操作を 1 回省けます。
最初の例は編集を続ける場合に、2 番目の例は単にファイルを
読みたかったりコンパイルしたりする場合に便利です。どちらの場合も、
ワークファイル中の識別用マーカ(後述)が更新されます。
<P>

<B>ci</B>

にチェックインするリビジョンの番号を指定することができます。
それまでのリビジョンが 1.1、1.2、1.3... だったときに、以下の
コマンドによりリリース2 を開始することができます。
<DL COMPACT>
<DT><DD>
<B>ci  -r2  f.c</B>     あるいは     <B>ci  -r2.1  f.c</B>

</DL>
<P>

これにより、新しいリビジョンには番号 2.1 がつけられます。以降、
<I>ci</I>

はこの
ファイルの新しいリビジョンに 2.2、2.3...と番号をつけていきます。
対応した以下の
<B>co</B>

コマンド
<DL COMPACT>
<DT><DD>
<B>co  -r2  f.c</B>     及び     <B>co  -r2.1  f.c</B>

</DL>
<P>

は、リビジョン番号が
2.<I>x</I>

である最新のリビジョン、リビジョン 2.1 をそれぞれ
チェックアウトします。
<B>co</B>

にリビジョン番号を指定しない場合、幹(trunk)の上の最新のリビジョン
(すなわち、x.x の形式で最大のリビジョン番号を持つリビジョン)が
チェックアウトされます。リビジョンの枝(branch)を用いるためには 3 つ
以上の番号が必要になります。
たとえば、1.3 から枝を作成するには、以下のコマンドを実行します。
<DL COMPACT>
<DT><DD>
<B>ci  -r1.3.1  f.c</B>

</DL>
<P>

これにより、リビジョン 1.3 上に番号 1 の枝を作成し、
枝上の最新リビジョンとして 1.3.1.1 を割り当てます。
枝の詳細については
<B><A HREF="../man5/rcsfile.5.html">rcsfile</A></B>(5)

を参照してください。

<P>


<FONT SIZE="-1">RCS</FONT> は、リビジョンの識別のために特別な文字列をソースや
オブジェクトコードに埋め込むことができます。
リビジョンの識別を行うためには、以下の文字列(マーク)
<DL COMPACT>
<DT><DD>
<B>$Id$</B>

</DL>
<P>

をコメントなどのテキスト部分に書きます。
<FONT SIZE="-1">RCS</FONT> は、このマークを次の形式の文字列に置換します。
<DL COMPACT>
<DT><DD>
<B>$Id:</B><I> ファイル名 リビジョン 日付 時刻 作者 状態 </I><B>$</B>

</DL>
<P>

このようなマークをモジュールのソースコードの 1 ページ目に
置くことにより、編集しているファイルのリビジョンを
すぐに判断することができます。<FONT SIZE="-1">RCS</FONT> はマークの更新を自動的に行います。
マークをオブジェクトコードに組み込むには、それをリテラルな
文字列中に含めます。C 言語では、以下のようにします。
<DL COMPACT>
<DT><DD>
<B>
static char rcsid[] = &quot;$Id$&quot;;
</B>
</DL>
<P>

<B>ident</B>

コマンドは、オブジェクトファイルやダンプ出力からもマークを探し表示することが
できます。従って
<B>ident</B>

コマンドを用いることにより、あるプログラムがどのモジュールの
どのリビジョンによって作成されたかを知ることができます。
<P>

マーク
<B>$Log$</B>

をテキストやコメント内に含めることも有用かもしれません。
このマークはチェックインのときに要求されたログを蓄えていきます。
これにより、変更の履歴を直接、ファイルに記録することができます。
<FONT SIZE="-1">RCS</FONT> にはほかにもいくつかのマークがあります。詳しくは
<B><A HREF="../man1/co.1.html">co</A></B>(1)

を参照してください。
<A NAME="lbAD">&nbsp;</A>
<H2>作者</H2>

Author: Walter F. Tichy.
<BR>

Manual Page Revision: 1.5; Release Date: 1999/08/27.
<BR>

Copyright &#169; 1982, 1988, 1989 Walter F. Tichy.
<BR>

Copyright &#169; 1990, 1991, 1992, 1993 Paul Eggert.
<A NAME="lbAE">&nbsp;</A>
<H2>関連項目</H2>

<A HREF="../man1/ci.1.html">ci</A>(1), <A HREF="../man1/co.1.html">co</A>(1), <A HREF="../man1/ident.1.html">ident</A>(1), <A HREF="../man1/rcs.1.html">rcs</A>(1), <A HREF="../man1/rcsdiff.1.html">rcsdiff</A>(1), <A HREF="../man1/rcsintro.1.html">rcsintro</A>(1), <A HREF="../man1/rcsmerge.1.html">rcsmerge</A>(1), <A HREF="../man1/rlog.1.html">rlog</A>(1)
<BR>

Walter F. Tichy,
<FONT SIZE="-1">RCS</FONT>--A System for Version Control,
<I>Software--Practice &amp; Experience</I>

<B>15</B>,

7 (July 1985), 637-654.
<BR>

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名称</A><DD>
<DT><A HREF="#lbAC">解説</A><DD>
<DT><A HREF="#lbAD">作者</A><DD>
<DT><A HREF="#lbAE">関連項目</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:25 GMT, December 05, 2022
</BODY>
</HTML>
