
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of GET_KERNEL_SYMS</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>GET_KERNEL_SYMS</H1>
Section: Linux Module Support (2)<BR>Updated: 26 Dec 1996<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/modutils/release/man2/get_kernel_syms.2">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

get_kernel_syms - エクスポートされているカーネルとモジュールのシンボルを取得する
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<PRE>
<B>#include &lt;<A HREF="file:///usr/include/linux/module.h">linux/module.h</A>&gt;</B>

<B>int get_kernel_syms(struct kernel_sym *</B><I>table</I><B>);</B>
</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>このマニュアルについて</H2>

これは、Linux Kernel 2.4 の時代に使われていた modutils
パッケージ所収の古いマニュアルです。(2022/12/02, Linux JM Project)
<A NAME="lbAE">&nbsp;</A>
<H2>説明</H2>

<I>table</I> が <B>NULL</B> ならば、<B>get_kernel_syms</B> は問い合わせで
きるシンボルの数を返す。<B>NULL</B> でなければ、以下の構造体に値を入れ
て返す:
<P>

<DL COMPACT><DT><DD>
<PRE>
struct kernel_sym
{
  unsigned long value;
  char name[60];
};
</PRE>

</DL>

<P>

シンボルの中には
<B>#</B><I>モジュール名</I>

という形式の、カーネルが空の名前を持っているマジックシンボルが散在して
いる。
この形式のシンボルに対応する値は、モジュールがロードされた位置のアドレ
スである。
<P>

それぞれのモジュールからエクスポートされたシンボルは、マジックモジュール
タグの後に置かれる。また、モジュールはロードされた順番と逆順で返される。
<A NAME="lbAF">&nbsp;</A>
<H2>返り値</H2>

返り値は返されるシンボル数である。エラーで復帰することはない。
<A NAME="lbAG">&nbsp;</A>
<H2>関連項目</H2>

<B><A HREF="../man2/create_module.2.html">create_module</A></B>(2), <B><A HREF="../man2/init_module.2.html">init_module</A></B>(2), <B><A HREF="../man2/delete_module.2.html">delete_module</A></B>(2), 

<B><A HREF="../man2/query_module.2.html">query_module</A></B>(2)

<A NAME="lbAH">&nbsp;</A>
<H2>バグ</H2>

<I>table</I> のために確保したバッファの大きさを伝える方法がない。
プログラムがシンボルテーブルの大きさを問い合わせた後にカーネルに
シンボルが追加されると、メモリの内容が破壊される。
<P>

エクスポートされるシンボル名の長さは 59 文字に制限される。
<P>

以上の制限により、このシステムコールよりは <B>query_module</B> を使う方
が望ましい。
<P>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">このマニュアルについて</A><DD>
<DT><A HREF="#lbAE">説明</A><DD>
<DT><A HREF="#lbAF">返り値</A><DD>
<DT><A HREF="#lbAG">関連項目</A><DD>
<DT><A HREF="#lbAH">バグ</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:39 GMT, December 05, 2022
</BODY>
</HTML>
