
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of COMPILE_ET</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>COMPILE_ET</H1>
Section: User Commands  (1)<BR>Updated: 30 Mar 1998<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/e2fsprogs/release/man1/compile_et.1">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

compile_et - エラー表のコンパイラー
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>compile_et</B>

file
<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

<B>compile_et</B>

は、エラーコードの名前と対応するメッセージをリストした表を、
<I><A HREF="../man3/com_err.3.html">com_err</A></I>(3)

ライブラリで扱いやすい C ソース形式に変換する。
<P>
ソースファイルの名前は ``.et'' という拡張子で終わっている必要がある。
ファイルの先頭で、まずエラーコード表の名前
(名前は 4 文字まで)。
を与える宣言を行う。
<DL COMPACT><DT><DD>
<P>
<B>error_table</B>

<I>name</I>

<P>
</DL>

続いて、エントリを次の形式で与える (256 エントリまで)。
<DL COMPACT><DT><DD>
<P>
<B>error_code</B>

<I>name,</I>



<P>
</DL>

<P>
そして最後に表の末尾を
<DL COMPACT><DT><DD>
<P>
<B>end</B>

<P>
</DL>

によって示す。
<P>
表の名前は、サブルーチンの名前をつくるときに
<I>initialize_XXXX_error_table</I>

の様に用いられる。
<I>com_err</I>

ライブラリにこのエラー表を認識させるには、
このサブルーチンを呼び出す必要がある。
<P>
各種エラーコードの定義は、ひとつずつ増える数値に割り当てられる
(先頭の数値は、表の名前をハッシュ関数に与えて計算された値になる)。
したがって互換性を保つためには、
新しいコードの追加は既存の表の末尾に行い、
表からコードの削除を行わないことである。
<P>
表で定義されている名前は、 C のヘッダファイルにおいて、
それらの名前を 32 ビットまでの整数定数として定義する
プリプロセッサ指定になる。
<P>
C ソースファイルも生成されるので、これをコンパイルして、
エラーコードを参照するオブジェクトファイルにリンクする。
C ソースファイルには、メッセージのテキストと初期化サブルーチンとが含まれる。
C のヘッダファイル・ソースファイル両者の名前は、
オリジナルのソースファイルの名前の ``.et'' 拡張子を、
それぞれ ``.h'', ``.c'' に置き換えたものになる。
<P>
ソースファイル中の ``#'' はコメント文字として扱われ、
その行の末尾までの残りのテキストは無視される。
<A NAME="lbAE">&nbsp;</A>
<H2>バグ</H2>

オリジナルの
<B>compile_et</B>

は
<I><A HREF="../../0MultiFileIdx/man1/yacc.1.html">yacc</A></I>(1)

を用いた非常に簡単なパーサーを使っていたし、
現在のバージョンの
<B>compile_et</B>

は awk と sed スクリプトを組み合わせて用いているので、
エラーリカバリは望ましい水準からはほど遠い。


<A NAME="lbAF">&nbsp;</A>
<H2>関連項目</H2>

com_err (3)
<P>
Ken Raeburn, &quot;A Common Error Description Library for UNIX&quot;.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">バグ</A><DD>
<DT><A HREF="#lbAF">関連項目</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:37 GMT, December 05, 2022
</BODY>
</HTML>
