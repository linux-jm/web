
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of PRINTCAP</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>PRINTCAP</H1>
Section: File Formats (5)<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/lpr-linux/release/man5/printcap.5">roff page</A><HR>
<BR>BSD mandoc<BR>
BSD 4.2

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

<B>printcap</B>

 - プリンタ ケイパビリティ データベース

<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>printcap</B>

<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

<B>printcap </B>

は
<A HREF="../../LDP_man-pages/man5/termcap.5.html">termcap</A>(5)


データベースを簡単にしたものであり、ラインプリンタを記述するのに使われる。
スプーリングシステムは、使用されるたびに
<B>printcap</B>

ファイルにアクセスし、プリンタの動的な追加と削除を可能にしている。
データベースにおける各エントリは、1 つのプリンタを記述するのに使われる。
このデータベースは書き込み可能にしておいてはならない(
termcap


データベースは普通書き込み可能になっている)。
なぜなら、それによってアカウンティング(accounting)をすり抜けることが
可能になってしまうからである。
<P>

通常、デフォルトプリンタは
<I>lp</I>

である。ただし、環境変数
<B>PRINTER</B>

が設定されていれば、そちらが優先される。
各スプーリングユーティリティは、目的のプリンタを明示的に指定できるよう、
オプション
-<B>P </B><I>printer</I>



をサポートしている。
<P>

ある特定のプリンタに対するこのデータベースの設定の詳細は
<I>&quot;4.3 BSD Line Printer Spooler Manual&quot;</I>
を参照せよ。
<A NAME="lbAE">&nbsp;</A>
<H2>ケイパビリティ</H2>

ファイルレイアウトの説明については
<A HREF="../../LDP_man-pages/man5/termcap.5.html">termcap</A>(5)


を参照せよ。
<DL COMPACT>
<P>

<B>Name<TT>&nbsp;&nbsp;&nbsp;</TT>Type<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>Description</B>

<DT><B>&quot;af<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>str&quot; Ta </B><B>NULL Ta </B><B>アカウントファイル名</B>








<DD>
<DT><B>&quot;br<TT>&nbsp;</TT>numnonelp が tty の場合, そのボーレートを設定する&quot;</B>
<DD>
( <A HREF="../../LDP_man-pages/man2/ioctl.2.html">ioctl</A>(2)



コール)<BR>
<DT><B>&quot;cf<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>str&quot; Ta </B><B>NULL Ta </B><B>cifplot データ用フィルタ</B>








<DD>
<DT><B>&quot;df<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>str&quot; Ta </B><B>NULL Ta </B><B>tex データ</B>








<DD>
( <B>DVI</B>



フォーマット)<BR>
用フィルタ
<DT><B>&quot;fc<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>num<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>0<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>lp が tty の場合, フラグビットをクリアーする&quot;</B>
<DD>
(sgtty.h

)

<DT><B>&quot;ffstr&quot; Ta </B>So <B>\f Sc </B>Ta <B>改ページ(form feed) のために送信する文字列</B>












<DD>
<DT><B>&quot;foboolfalseデバイスオープン時に改ページ(form feed)を印刷する&quot;</B>
<DD>
<DT><B>&quot;fsnum0`fc' と同様だが、こちらはビットをセットする&quot;</B>
<DD>
<DT><B>&quot;gfstr&quot; Ta </B><B>NULL Ta </B><B>グラフデータ用フィルタ</B>








<DD>
( plot(3)



フォーマット )<BR>
<DT><B>&quot;hl<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>bool<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>false<TT>&nbsp;&nbsp;&nbsp;</TT>最後にバーストヘッダーページを印刷する&quot;</B>
<DD>
<DT><B>&quot;ic<TT>&nbsp;</TT>bool<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>falseドライバはインデント付き印刷のために (非標準の) ioctl をサポートする&quot;</B>
<DD>
<DT><B>&quot;ifstr&quot; Ta </B><B>NULL Ta </B><B>アカウントのためのテキストフィルタ名</B>








<DD>
<DT><B>&quot;lfstr&quot; Ta </B>/dev/console Ta <B>エラーログファイル名</B>








<DD>
<DT><B>&quot;lostr&quot; Ta </B>lock Ta <B>ロックファイル名</B>








<DD>
<DT><B>&quot;lpstr&quot; Ta </B>/dev/lp Ta <B>出力に対してオープンするデバイス名</B>








<DD>
<DT><B>&quot;mxnum1000最大ファイルサイズ (&quot;</B>
<DD>
<B>BUFSIZ</B>

ブロックの数で指定), 0 = 制限なし<BR>
<DT><B>&quot;nd<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>str&quot; Ta </B><B>NULL Ta </B><B>キューリストのための次のディレクトリ (未実装)</B>








<DD>
<DT><B>&quot;nfstr&quot; Ta </B><B>NULL Ta </B><B>ditroff データ(デバイス非依存 troff)用フィルタ</B>








<DD>
 <BR>
<DT><B>&quot;of<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>str&quot; Ta </B><B>NULL Ta </B><B>出力フィルタプログラム名</B>








<DD>
<DT><B>&quot;pc<TT>&nbsp;&nbsp;&nbsp;</TT>num<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>200<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>1 フィートもしくは 1 ページあたりの価格(1/100 セント単位)&quot;</B>
<DD>
<DT><B>&quot;plnum66ページ長 (行数)&quot;</B>
<DD>
<DT><B>&quot;pwnum132ページ幅 (文字数)&quot;</B>
<DD>
<DT><B>&quot;pxnum0ピクセル単位でのページ幅 (水平方向)&quot;</B>
<DD>
<DT><B>&quot;pynum0ピクセル単位でのページ長 (垂直方向)&quot;</B>
<DD>
<DT><B>&quot;rfstr&quot; Ta </B><B>NULL Ta </B><B></B>








<DD>
<B>FORTRAN</B>

スタイルのテキストファイルを印刷するためのフィルタ<BR>
<DT><B>&quot;rg<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>str&quot; Ta </B><B>NULL Ta </B><B>制限グループ。このグループのメンバーのみアクセスが許される</B>








<DD>
<DT><B>&quot;rmstr&quot; Ta </B><B>NULL Ta </B><B>リモートプリンタのためのマシン名</B>








<DD>
<DT><B>&quot;rpstr``lp''リモートプリンタ名引数&quot;</B>
<DD>
<DT><B>&quot;rsboolfalseローカルにアカウントをもったリモートユーザに限定する&quot;</B>
<DD>
<DT><B>&quot;rwboolfalse読み書きのためにプリンタデバイスをオープンする&quot;</B>
<DD>
<DT><B>&quot;sbboolfalseショートバナー(short banner) (1 行のみ)&quot;</B>
<DD>
<DT><B>&quot;scboolfalse複数コピーを抑制する&quot;</B>
<DD>
<DT><B>&quot;sdstr&quot; Ta </B>/var/spool/lpd Ta <B>スプールディレクトリ</B>








<DD>
<DT><B>&quot;sfboolfalse改ページ(form feed)を抑制する&quot;</B>
<DD>
<DT><B>&quot;shboolfalseバーストページヘッダーの印刷を抑制する&quot;</B>
<DD>
<DT><B>&quot;ststr&quot; Ta </B>status Ta <B>ステータスファイル名</B>








<DD>
<DT><B>&quot;tfstr&quot; Ta </B><B>NULL Ta </B><B>troff データ(cat 写植)用フィルタ</B>








<DD>
 <BR>
<DT><B>&quot;tr<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>str&quot; Ta </B><B>NULL Ta </B><B>キューが空の場合に印刷するための後書き文字列(trailer string)</B>








<DD>
<DT><B>&quot;vfstr&quot; Ta </B><B>NULL Ta </B><B>ラスタイメージ(raster image)用フィルタ</B>








<DD>
</DL>
<P>

<P>

ローカルのラインプリンタドライバが字下げをサポートしているならば、<BR>
デーモンはその方法を理解できなければならない。
<A NAME="lbAF">&nbsp;</A>
<H2>フィルタ</H2>

<A HREF="../man8/lpd.8.html">lpd</A>(8)


デーモンは、さまざまなプリンタのタイプに応じてファイルを処理するために、
<I>filters</I>

(フィルタ)
のパイプラインを構築している。
選択されるフィルタは、
<A HREF="../man1/lpr.1.html">lpr</A>(1)


へ渡されるフラグに依存している。
パイプラインの構築は、次のようになる :

<BLOCKQUOTE>
<PRE>
p       pr | if 通常テキスト + <A HREF="../../0MultiFileIdx/man1/pr.1.html">pr</A>(1)
none    if      通常テキスト
c       cf      cifplot
d       df      DVI (tex)
g       gf      plot(3)
n       nf      ditroff
f       rf      Fortran
t       tf      troff
v       vf      ラスタイメージ(raster image)
</PRE>
</BLOCKQUOTE>

<P>

<B>if</B>

フィルタは、次の引数とともに呼び出される:

<BLOCKQUOTE>

<B>if</B>

[-<B>c</B>

]

-<B>w </B><I>width</I>





-<B>l </B><I>length</I>





-<B>i </B><I>indent</I>





-<B>n </B><I>login</I>



-<B>h </B><I>host acct-file</I>



</BLOCKQUOTE>

<P>

-<B>c</B>

フラグは、
lpr


に
-<B>l</B>

フラグ(制御文字を文字としてそのまま通す)が指定してある時に限って渡される。
<I>width</I>

と
<I>length</I>

は、ページの幅と長さ(それぞれ
<B>pw</B>

と
<B>pl</B>

から得られる)を文字数で指定する。
-<B>n</B>

と
-<B>h</B>

はそれぞれ、ジョブ所有者のログイン名とホスト名を指定する。
<I>acct-file</I>

は、
<B>printcap</B>

の
<B>af</B>

エントリから渡される。
<P>

<B>if</B>

が指定されていない場合は、
代わりに
<B>of</B>

が使用される。これらの間には、
<B>if</B>

がそれぞれのジョブに対して毎回オープンされるのに対し、
<B>of</B>

は 1 回しかオープンされないという違いがある。
したがって、アカウンティング(accounting)を行なうには
<B>if</B>

の方が適している。
<B>of</B>

には、
<I>width</I>

と
<I>length</I>

の 2 つのフラグが与えられるだけである。
<P>

他のすべてのフィルタは、次のようにして呼び出される:

<BLOCKQUOTE>

<B>filter</B>

-<B>x </B><I>width</I>





-<B>y </B><I>length</I>





-<B>n </B><I>login</I>



-<B>h </B><I>host acct-file</I>



</BLOCKQUOTE>

<P>

ただし、
<I>width</I>

と
<I>length</I>

はピクセル単位で表され、それぞれ
<B>px</B>

エントリと
<B>py</B>

エントリによって指定される。
<P>

すべてのフィルタは、そのファイルとして
<I>stdin </I>

(標準入力)を、プリンタとして
<I>stdout </I>

(標準出力)をとる。そのログは、
<I>stderr </I>

(標準エラー出力)に対して、もしくは
<A HREF="../../LDP_man-pages/man3/syslog.3.html">syslog</A>(3)


を使ってとられる。また、
<B>SIGINT</B>

を無視することは許されない。
<A NAME="lbAG">&nbsp;</A>
<H2>ロギング(LOGGING)</H2>

ラインプリンタプログラム自身
(つまり、
lpNs*


プログラム)
によって生成されたエラーメッセージは、
<B>LPR</B>

を使うことで
<A HREF="../../LDP_man-pages/man3/syslog.3.html">syslog</A>(3)


によって記録される。
フィルタのうちの 1 つの
<I>stderr</I>

(標準エラー出力)
上に印刷されたメッセージは、それに対応する
<B>lf</B>

ファイルへと送られる。
もちろん、フィルタはそれ自身で
syslog


を使ってもかまわない。
<P>

コンソールへ送られるエラーメッセージには、改行(LF)だけではなく、
復帰(CR)と改行(LF)が追加される。
<A NAME="lbAH">&nbsp;</A>
<H2>関連項目</H2>

<A HREF="../../LDP_man-pages/man5/termcap.5.html">termcap</A>(5),


<A HREF="../man8/lpc.8.html">lpc</A>(8),


<A HREF="../man8/lpd.8.html">lpd</A>(8),


pac(8),


<A HREF="../man1/lpr.1.html">lpr</A>(1),


<A HREF="../man1/lpq.1.html">lpq</A>(1),


<A HREF="../man1/lprm.1.html">lprm</A>(1)


<DL COMPACT><DT><DD>
<I>&quot;4.3 BSD ラインプリンタスプーラーマニュアル&quot;</I>
</DL>

<A NAME="lbAI">&nbsp;</A>
<H2>履歴</H2>

<B></B>


ファイルフォーマットは、
BSD 4.2 
で登場した。
<P>
<P>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">ケイパビリティ</A><DD>
<DT><A HREF="#lbAF">フィルタ</A><DD>
<DT><A HREF="#lbAG">ロギング(LOGGING)</A><DD>
<DT><A HREF="#lbAH">関連項目</A><DD>
<DT><A HREF="#lbAI">履歴</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:39 GMT, December 05, 2022
</BODY>
</HTML>
