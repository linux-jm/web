
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of MV</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>MV</H1>
Section: User Commands  (1)<BR>Updated: 18 June 2002<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/gnumaniak/release/man1/mv.1">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

mv - ファイルを移動する (ファイル名を変更する)
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>mv [</B><I>option...</I><B>] </B><I>source target</I>

<BR>

<B>mv [</B><I>option...</I><B>] </B><I>source... target</I>

<P>
POSIX オプション:
<B>[-fi]</B>

<P>
GNU オプション (簡略形式):
<B>[-bfiuv] [-S </B><I>suffix</I><B>] [-V {numbered,existing,simple}] </B>

<B>[--strip-trailing-slashes]</B>

<B>[--target-directory]</B>

<B>[--help] [--version] [--]</B>

<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

<B>mv</B>

はファイルやディレクトリの移動や名前変更を行なう。
<P>

最後の引き数がすでに存在しているディレクトリならば、
<B>mv</B>

は指定したファイルを同じ名前でそのディレクトリに移動する。
一方、2 つのファイルしか指定されない場合、
1 番目のファイル名を 2 番目のファイル名に変更する。
最後の引数がディレクトリでなく、
3 つ以上のファイルが指定された場合はエラーとなる。
<P>

したがって `mv /a/x/y /b' とすると、
ディレクトリ /b がすでに存在する場合は
/a/x/y を /b/y という名前に変更する。
/b が存在しない場合は /b という名前に変更する。
<P>

指定されたファイルの移動先のファイルを
<I>destination</I>

とよぶことにする。
「<I>destination</I>

がすでに存在する場合に -i オプションが指定されている」
もしくは
「<I>destination</I>

が書き込み不可で、標準入力が端末で、
<B>-f</B>

オプションが指定されていない」のいずれかであれば、
<B>mv</B>

はユーザーにファイルを置き換えてよいかを問い合わせる。
問い合わせは標準エラーに書き出され、返答は標準入力から読み込まれる。
返答が置き換えを肯定するものでなければ、そのファイルは移動させない。
<P>

<I>source</I>

と
<I>destination</I>

が同じファイルシステム上にある場合、
その 2 つのファイルは同一のものである
(名前が変更されるだけあり、
所有者・許可モード・タイムスタンプは変更されない)。
2 つのファイルが異なるファイルシステム上にある場合、
元ファイルはコピーされた後で削除される。
可能であれば、
<B>mv</B>

は修正時刻・アクセス時刻・ユーザー ID・グループ ID・許可モードをコピーする。
ユーザー ID やグループ ID のコピーに失敗した場合は、
setuid ビットと setgid ビットをそれぞれクリアする。
<A NAME="lbAE">&nbsp;</A>
<H2>POSIX オプション</H2>

<DL COMPACT>
<DT><B>-f</B>

<DD>
上書きの確認の問い合わせをしない。
<DT><B>-i</B>

<DD>
<I>destination</I>

がすでに存在する場合、上書きの確認の問い合わせをする。
(-f と -i が両方とも指定された場合、
後から指定された方のオプションが有効になる。)
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>GNU オプション</H2>

<DL COMPACT>
<DT><B>-f, --force</B>

<DD>
移動先に存在する既存のファイルを削除する。
その際、ファイル削除の可否をユーザーに問い合わせない。
<DT><B>-i, --interactive</B>

<DD>
移動先に存在するファイルを上書きするかを問い合わせる。 
返答が `y' または `Y' で始まっていない場合、そのファイルを移動しない。
<DT><B>--strip-trailing-slashes</B>

<DD>
指定された全ての引き数について、
後ろに付いているスラッシュを取り除く。
これは `mkdir a; ln -s a la; mv la/ b' のような場合に役立つ。
この場合 POSIX の要求により、
mv はシンボリックリンク `la' ではなく 
ディレクトリ `a' を実際に移動してしまう。
<DT><B>--target-directory=</B><I>DIR</I>

<DD>
移動先ディレクトリを、コマンドラインの最後の引き数ではなく、
オプションで指定する。
<B><A HREF="../../GNU_findutils/man1/xargs.1.html">xargs</A>(1)</B> と一緒に用いるのに役立つ。
<DT><B>-u, --update</B>

<DD>
ディレクトリ以外のファイルの移動で、
移動先ファイルが既に存在し、
その修正時刻が移動元より新しい場合 (同じ場合を含む)、移動を行わない。
<DT><B>-v, --verbose</B>

<DD>
移動する前にそれぞれのファイル名を出力する。
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>GNU バックアップオプション</H2>

GNU 版のプログラム
<B>cp</B>,

<B>mv</B>,

<B>ln</B>,

<B>install</B>,

<B>patch</B>

は、上書き・修正・削除といった場合に、指示すればファイルの
バックアップを作成する。
バックアップファイルを必要とする場合は -b オプションで指定する。
どのような名前にするかは -V オプションで指定する。
バックアップファイルの名前を、ファイル名に拡張子を追加する形で
与えるようにしたい場合、
この拡張子を -S オプションで指示する。
<DL COMPACT>
<DT><B>-b, --backup[=</B><I>METHOD</I><B>]</B>

<DD>
上書きもしくは削除の必要がある場合にはファイルのバックアップを作成する。
<B>-b</B> が引き数をとらない点に注意すること。
<DT><B>-S </B><I>SUFFIX</I><B>, --suffix=</B><I>SUFFIX</I>

<DD>
<I>SUFFIX</I>

をバックアップファイルそれぞれに付け加える。
このオプションが指定されていない場合、環境変数
<B>SIMPLE_BACKUP_SUFFIX</B>

に設定されている値が使われる。
<B>SIMPLE_BACKUP_SUFFIX</B>

が設定されていない場合のデフォルトは `~' である。
<DT><B>-V </B><I>METHOD</I><B>, --version-control=</B><I>METHOD</I>

<DD>
<DL COMPACT><DT><DD>
バックアップファイルの命名方法を指定する。
引き数
<I>METHOD</I>

には、`numbered' (または `t')、`existing' (または `nil')、
`never' (または `simple') を指定できる。
このオプションが指定されていない場合、環境変数
<B>VERSION_CONTROL</B>

の値が使われる。
<B>VERSION_CONTROL</B>

が設定されていない場合のデフォルトは `existing' である。
<P>

このオプションは Emacs 変数の `version-control' に対応している。
有効な
<I>METHOD</I>

は以下の通り。
(他と重複しない範囲で短縮形を使うことができる):
<DL COMPACT>
<DT><B>t</B>, <B>numbered</B>

<DD>
常に番号の拡張子を持つバックアップを作成する。
<DT><B>nil</B>, <B>existing</B>

<DD>
番号の拡張子を持つバックアップがすでにある場合には
番号の拡張子を持つバックアップを、
そうでない場合には単純なバックアップを作成する。
<DT><B>never</B>, <B>simple</B>

<DD>
常に単純なバックアップを作成する。
</DL>
<P>

このオプションは推奨されない。
代りに <B>--backup=</B><I>METHOD</I> を使うこと。
</DL>

</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>GNU 標準オプション</H2>

<DL COMPACT>
<DT><B>--help</B>

<DD>
標準出力に使用方法のメッセージを出力して正常終了する。
<DT><B>--version</B>

<DD>
標準出力にバージョン情報を出力して正常終了する。
<DT><B>--</B>

<DD>
オプションリストを終了する。
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>環境変数</H2>

変数 LANG, LC_ALL, LC_COLLATE, LC_CTYPE, LC_MESSAGES は通常の意味を持つ。
GNU 版では、変数 SIMPLE_BACKUP_SUFFIX と VERSION_CONTROL により
バックアップファイルの命名法が制御される (上記参照)。
<A NAME="lbAJ">&nbsp;</A>
<H2>準拠</H2>

POSIX 1003.2 に準拠するが、ファイルシステムを越えて
ディレクトリ階層を移動することはできない。
<A NAME="lbAK">&nbsp;</A>
<H2>注意</H2>

このページは fileutils-4.1 パッケージの
<B>mv</B>

コマンドについて説明したものである。
その他のバージョンでは少し違いがあるかもしれない。
修正や追加は <A HREF="mailto:aeb@cwi.nl">aeb@cwi.nl</A>, <A HREF="mailto:aw@mail1.bet1.puv.fi">aw@mail1.bet1.puv.fi</A>, <A HREF="mailto:ragnar@ragnar-hojland.com">ragnar@ragnar-hojland.com</A>
宛にメールで連絡してください。
プログラムのバグについては <A HREF="mailto:bug-fileutils@gnu.org">bug-fileutils@gnu.org</A> へ報告してください。
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">POSIX オプション</A><DD>
<DT><A HREF="#lbAF">GNU オプション</A><DD>
<DT><A HREF="#lbAG">GNU バックアップオプション</A><DD>
<DT><A HREF="#lbAH">GNU 標準オプション</A><DD>
<DT><A HREF="#lbAI">環境変数</A><DD>
<DT><A HREF="#lbAJ">準拠</A><DD>
<DT><A HREF="#lbAK">注意</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:38 GMT, December 05, 2022
</BODY>
</HTML>
