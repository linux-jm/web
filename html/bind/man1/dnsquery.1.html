
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of DNSQUERY</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../contrib.css">
</HEAD>
<BODY>
<DIV ALIGN="right">
本ページは <A HREF="http://www.jp.freebsd.org/man-jp/">FreeBSD jpman project</A>
(man-jp@jp.FreeBSD.org) より寄贈いただきました。
</DIV>


<H1>DNSQUERY</H1>
Section: User Commands  (1)<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/bind/contrib/man1/dnsquery.1">roff page</A><HR>
<BR>BSD mandoc<BR>
BSD 4

<A NAME="lbAB">&nbsp;</A>
<H2>名称</H2>

<B>dnsquery</B>

 - リゾルバを用いて DNS に問い合わせる

<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>dnsquery</B>

[-<B>n </B><I>nameserver</I>



]

[-<B>t </B><I>type</I>



]

[-<B>c </B><I>class</I>



]

[-<B>r </B><I>retry</I>



]

[-<B>p </B><I>period</I>



]

[-<B>d</B>

]

[-<B>s</B>

]

[-<B>v</B>

]

<I>host</I>

<A NAME="lbAD">&nbsp;</A>
<H2>解説</H2>

<B>dnsquery</B>

プログラムは、BIND リゾルバのライブラリ呼び出しによって
ネームサーバとやりとりする一般的なインタフェースです。
本プログラムはオペコード QUERY によるネームサーバ問い合わせを
サポートしています。
本プログラムは、nstest, nsquery, nslookup のようなプログラムを
置き換えるあるいは補うものとして作成されました。
<I>host</I>

と
<I>nameserver</I>

以外の引数は大文字小文字を区別しません。
<A NAME="lbAE">&nbsp;</A>
<H2>オプション</H2>

<DL COMPACT>
<P>

<DT><B>-n </B><I>nameserver</I>




<DD>
問い合わせに用いるネームサーバ。
ネームサーバ指定は、w.x.y.z 形式のインターネットアドレス表記でも、
ドメインネーム表記でも構いません。
(デフォルト:
/etc/resolv.conf

の指定。)
<DT><B>-t </B><I>type</I>




<DD>
関心あるリソースレコード型。型には以下のものがあります:
<DL COMPACT>
<P>

<DT><B></B><I>A</I>


<DD>
アドレス
<DT><B></B><I>NS</I>


<DD>
ネームサーバ
<DT><B></B><I>CNAME</I>


<DD>
正式名
<DT><B></B><I>PTR<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT></I>


<DD>
ドメインネームへのポインタ<BR>
<DT><B></B><I>SOA<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT></I>


<DD>
権威の開始 (Start of Authority)<BR>
<DT><B></B><I>WKS<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT></I>


<DD>
よく知られたサービス (well-known service)<BR>
<DT><B></B><I>HINFO</I>


<DD>
ホスト情報
<DT><B></B><I>MINFO</I>


<DD>
メールボックス情報
<DT><B></B><I>MX<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT></I>


<DD>
メールエクスチェンジ (mail exchange)<BR>
<DT><B></B><I>RP<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT></I>


<DD>
責任者 (responsible person)<BR>
<DT><B></B><I>MG<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT></I>


<DD>
メールグループメンバ<BR>
<DT><B></B><I>AFSDB<TT>&nbsp;&nbsp;&nbsp;</TT></I>


<DD>
DCE または AFS サーバ<BR>
<DT><B></B><I>ANY<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT></I>


<DD>
ワイルドカード<BR>
</DL>
<P>

<P>

大文字小文字どちらでも使用できます。(デフォルト:
<I>ANY</I>

)。
<DT><B>-c </B><I>class</I>




<DD>
関心あるリソースレコードのクラス。クラスには以下のものがあります:
<DL COMPACT>
<P>

<DT><B></B><I>IN<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT></I>


<DD>
インターネット<BR>
<DT><B></B><I>HS<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT></I>


<DD>
Hesiod<BR>
<DT><B></B><I>CHAOS</I>


<DD>
Chaos
<DT><B></B><I>ANY<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT></I>


<DD>
ワイルドカード<BR>
</DL>
<P>

<P>

大文字小文字どちらでも使用できます。(デフォルト:
<I>IN</I>

)。
<DT><B>-r </B><I>retry</I>




<DD>
ネームサーバが応答しない場合のリトライ回数。(デフォルト: 4)
<DT><B>-p </B><I>period</I>




<DD>
<B>-p</B>

タイムアウト時間(秒)。(デフォルト:
<B>RES_TIMEOUT</B>

)。
<DT><B>-d</B>


<DD>
デバッグ機能を有効にする。リゾルバの
Ft options

フィールドの
<B>RES_DEBUG</B>

ビットをセットします。(デフォルト: デバッグ機能オフ)
<DT><B>-s</B>


<DD>
パケットではなく
<I>ストリーム</I>

を用います。つまり、ネームサーバとの接続に UDP データグラムではなく、
TCP ストリームを用います。リゾルバの
Ft options

フィールドの
<B>RES_USEVC</B>

ビットをセットします。(デフォルト: UDP データグラム)
<DT><B>-v</B>


<DD>
オプション
``-<B>s</B>

''

と同じ意味です。
<DT><B></B><I>host</I>


<DD>
関心あるホスト名(あるいはドメイン名)。
</DL>
<P>

<A NAME="lbAF">&nbsp;</A>
<H2>関連ファイル</H2>

<DL COMPACT>
<P>

<DT><B>/etc/resolv.conf

</B>
<DD>
デフォルトのネームサーバと検索リスト
<DT><B>&lt;<A HREF="file:///usr/include/arpa/nameser.h">arpa/nameser.h</A>&gt; <TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>

</B>
<DD>
利用できる RR タイプとクラスの一覧<BR>
<DT><B>&lt;<A HREF="file:///usr/include/resolv.h">resolv.h</A>&gt;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>

</B>
<DD>
リゾルバのフラグ一覧<BR>
</DL>
<P>

<A NAME="lbAG">&nbsp;</A>
<H2>診断</H2>

リゾルバが問い合わせの回答に失敗し、デバッグ機能が有効になっていない場合、
<B>dnsquery</B>

は単に以下のようなメッセージを表示します:

<BLOCKQUOTE><TT>Query failed (rc = 1) : Unknown host</TT></BLOCKQUOTE>
<P>

リターンコードの値は
Ft h_errno

から得ます。
<A NAME="lbAH">&nbsp;</A>
<H2>関連項目</H2>

<A HREF="../man8/nslookup.8.html">nslookup</A>(8),


nstest(1),


nsquery(1),


<A HREF="../man8/named.8.html">named</A>(8),


<A HREF="../man5/resolver.5.html">resolver</A>(5)


<A NAME="lbAI">&nbsp;</A>
<H2>作者</H2>

Bryan Beecher
<A NAME="lbAJ">&nbsp;</A>
<H2>バグ</H2>

<I>IN</I>

以外のクラスを問い合わせると面白い結果が得られることがあります。
というのは、ネームサーバは普通、クラス
<I>IN</I>

のリソースレコードとして
ルートネームサーバのリストだけしか持っていないからです。
<P>

本コマンドは、
Fn inet_addr

を呼び出して
``-<B>n</B>

''

オプションが
正しいインターネットアドレスかどうかを判断します。
残念ながら、
Fn inet_addr

は一部の(正しくない)アドレス(例えば 1.2.3.4.5)に
対してセグメンテーションフォールトを起こすことがあるようです。
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名称</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">解説</A><DD>
<DT><A HREF="#lbAE">オプション</A><DD>
<DT><A HREF="#lbAF">関連ファイル</A><DD>
<DT><A HREF="#lbAG">診断</A><DD>
<DT><A HREF="#lbAH">関連項目</A><DD>
<DT><A HREF="#lbAI">作者</A><DD>
<DT><A HREF="#lbAJ">バグ</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:36 GMT, December 05, 2022
</BODY>
</HTML>
