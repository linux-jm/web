
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of NAMED</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../contrib.css">
</HEAD>
<BODY>
<DIV ALIGN="right">
本ページは <A HREF="http://www.jp.freebsd.org/man-jp/">FreeBSD jpman project</A>
(man-jp@jp.FreeBSD.org) より寄贈いただきました。
</DIV>


<H1>NAMED</H1>
Section: Maintenance Commands (8)<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/bind/contrib/man8/named.8">roff page</A><HR>
<BR>BSD mandoc<BR>
BSD 4

<A NAME="lbAB">&nbsp;</A>
<H2>名称</H2>

<B>named</B>

 - インターネットドメインネームサーバ (DNS)

<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B></B>


[-<B>d </B><I>debuglevel</I>



]

[-<B>p </B><I>port#</I>



]

[-<B>Po </B><B>b | c</B>












Pc <I>config_file</I>



]
[-<B>f q r v</B>

]

[-<B>u </B><I>user_name</I>



]

[-<B>g </B><I>group_name</I>



]

[-<B>t </B><I>directory</I>



]

[-<B>w </B><I>directory</I>



]

[<I>config_file</I>

]

<A NAME="lbAD">&nbsp;</A>
<H2>解説</H2>

<B></B>


はインターネットドメインネームサーバです。
インターネットドメインネームシステムの詳細な情報については
RFC 1033, 1034, 1035 を参照してください。
パラメータがない場合は
<B></B>


はデフォルトの設定ファイルである
/etc/namedb/named.conf

の初期化データを読み込み、問い合わせに対し待機します。
コマンド行の最後に与えられた
<I>config_file</I>

引数は
``-<B>b</B>

''

または
``-<B>c</B>

''

フラグを使用して指定された
<I>config_file</I>

を無効にします。
<P>

<B>注:</B>

<B></B>


のいくつかのオプションと多くの動作は、設定ファイルの中で
制御できます。更なる情報はこの
<B>BIND</B>

配布物に含まれる設定ファイルガイドを参照してください。
<P>

指定できるオプションは以下の通りです。
<DL COMPACT>
<P>

<DT><B>-d </B><I>debuglevel</I>




<DD>
デバッグ情報を出力します。
<I>debuglevel</I>

は表示するメッセージのレベルを決定する数字です。もし負の値の場合、
<I>debuglevel</I>

は
``1''

に設定されます。
<P>

<B>注:</B>

新しいデバッグの枠組は古いバージョンの
<B></B>


よりもかなり洗練されています。
設定ファイルの
``<B>logging</B>

''

宣言は (問い合わせや内/外への転送などの) 多くの種類にわたるイベント
それぞれに対して、複数の別々なデバッグレベルを設定することができます。
これらの広範囲にわたる新しい機能に関する更なる情報は、この
<B>BIND</B>

配布物に含まれる設定ファイルガイドを参照してください。
<DT><B>-p </B><I>port#</I>




<DD>
指定されたリモートポート番号を使用します。このポート番号は
<B></B>


が問い合わせを送る番号です。デフォルトの値は標準のポート番号、つまり
<A HREF="../../LDP_man-pages/man3/getservbyname.3.html">getservbyname</A>(3)


が
``<B>domain</B>

''

に対して返すポート番号です。
<P>

<B>注:</B>

以前は、
``-<B>p </B><I>port# </I><B></B>[<I>/localport#</I>

]







''

という文法が使用でき、1 つ目のポートが
<I>remote</I>

サーバへの接続に使用され、2 つ目のポートが
<B></B>


の
<I>local</I>

サーバに対するポート番号として使用されました。
現在の使用法は古い使用法から
<I>localport#</I>

の指定を除いたものと同等です。この機能は
設定ファイルの
``<B>options</B>

''

宣言にある
``<B>listen-on</B>

''

節で指定できます。
<DT><B>
-Po </B><B>b | c</B>













Pc Ar config_file

<DD>

代わりの
<I>config_file</I>

を使用します。
この引数はコマンド行の最後に指定された
<I>config_file</I>

によって上書きされます。
デフォルトの値は
/etc/namedb/named.conf

です。
<DT><B>-f</B>


<DD>
このプロセスを表で動かし、
<A HREF="../../LDP_man-pages/man2/fork.2.html">fork</A>(2)


やデーモン化をしません (デフォルトではデーモン化をします)。
<DT><B>-q</B>


<DD>
<B></B>


が
<B>QRYLOG</B>

を定義してコンパイルされている場合に、
すべての問い合わせのトレースを行ないます。
<P>

<B>注:</B>

設定ファイルの
``<B>logging</B>

''

宣言で
``<B>queries</B>

''

<I>logging category</I>

する方が賛成され、このオプションは反対されています。
更なる情報は、この
<B>BIND</B>

配布物に含まれる設定ファイルガイドを参照してください。
<DT><B>-r</B>


<DD>
再帰的なネームサーバの問い合わせを抑止します。
問い合わせに対してはローカルゾーン (プライマリもしくはセカンダリ) からのみ
回答されます。
この指定はルートサーバにて使用することができます。
デフォルトでは再帰的な問い合わせを行ないます。
<P>

<B>注:</B>

このオプションは設定ファイルの
``<B>options</B>

''

宣言の
``<B>recursion</B>

''

節によって上書きされ、またそちらのほうが推奨されています。
<DT><B>-v</B>


<DD>
バージョンを報告し、終了します。
<DT><B>-u </B><I>user_name</I>




<DD>
ユーザを指定すると、初期化後のサーバがこのユーザで動作します。
値はユーザ名または数字のユーザ ID どちらでも構いません。
``-<B>g</B>

''

フラグが指定されていなかった場合、
指定されたユーザのプライマリグループがグループ ID として使用されます
(initgroups() が呼ばれるため、ユーザの所属するすべてのグループがサーバに
渡されます)。
<P>

<DT><B>-g </B><I>group_name</I>




<DD>
グループを指定すると、初期化後のサーバがこのグループで動作します。
値はグループ名または数字のグループ ID どちらでも構いません。
<P>

<DT><B>-t </B><I>directory</I>




<DD>
サーバがコマンド行引数を処理したらすぐに chroot() するべき
ディレクトリを指定します。
<P>

<DT><B>-w </B><I>directory</I>




<DD>
サーバの作業ディレクトリを設定します。設定ファイルの
``<B>options</B>

''

宣言の
``<B>directory</B>

''

節はコマンド行で指定したあらゆる値を上書きします。
デフォルトの作業ディレクトリはカレントディレクトリ
(``.''

)

です。
</DL>
<P>

<P>

それ以外の引数は上で述べたとおり、
古い実装との互換性のために、設定ファイルの名前として扱われます。この引数は
``-<B>b</B>

''

または
``-<B>c</B>

''

フラグを使用して指定される
<I>config_file</I>

を無効にします。
特に引数が与えられなければ、デフォルトの設定ファイルが使用されます
(/etc/namedb/named.conf

)

。
<A NAME="lbAE">&nbsp;</A>
<H3>マスタファイル形式</H3>

マスタファイルは制御情報とゾーン中のオブジェクトの
資源レコードのリストからなり、次の形式を取ります。

<BLOCKQUOTE>
<PRE>
$INCLUDE &lt;filename&gt; &lt;opt_domain&gt;
$ORIGIN &lt;domain&gt;
$TTL &lt;ttl&gt;
&lt;domain&gt; &lt;opt_ttl&gt; &lt;opt_class&gt; &lt;type&gt; &lt;resource_record_data&gt;
</PRE>
</BLOCKQUOTE>

<P>

ここで、
<DL COMPACT>
<P>

<DT><B></B><I>domain</I>


<DD>
ルートの場合は
``<B>.</B>

''

を、現在の起点の場合は
``<B>@</B>

''

を、それら以外では通常のドメイン名を指定します。
<I>domain</I>

が
``<B>.</B>

''

で終って
<I>いない</I>

通常のドメイン名である場合は、
現在の起点がドメインに追加されます。
ドメイン名が
``<B>.</B>

''

で終っている場合は変更されません。
<DT><B></B><I>opt_domain</I>


<DD>
このフィールドにはインクルードファイル中のデータの起点を定義します。
これはインクルードファイルの最初の行の前に
<B>$ORIGIN</B>

宣言を置くことと等価です。
このフィールドはオプショナルです。
<I>opt_domain</I>

フィールドやインクルードファイル中の
<B>$ORIGIN</B>

宣言はそのファイル自身の現在の起点を変更することはありません。
<DT><B></B><I>ttl</I>


<DD>
明示的な TTL (time-to-live) を持たない
将来のレコードのためのデフォルトの TTL を、整数値で指定します。
<DT><B></B><I>opt_ttl</I>


<DD>
このフィールドはオプションであり、
<DD>time-to-live を整数値で指定します。
設定されない場合、TTL は最後の $TTL 文から取得されます。
$TTL 文が存在しない場合、SOA の最小値が使用され、警告が生成されます。
<DT><B>opt_class</B>
<DD>
オブジェクトのアドレスの型を指定します。
現在はDARPAインターネットに接続するオブジェクトである
<B>IN</B>

のみがサポートされています。
<DT><B></B><I>type</I>


<DD>
このフィールドには以下のトークンのうちひとつが含まれます。
括弧中におのおの
<I>resource_record_data</I>

フィールドに指定すべきデータを示しています。
<DL COMPACT>
<P>

<DT><B>A</B>


<DD>
ホストアドレス (4つ組ドット IP アドレス)
<DT><B>NS</B>


<DD>
権威があるネームサーバ (ドメイン)
<DT><B>MX</B>


<DD>
メールエクスチェンジャ (ドメイン)
優先順位 (0..32767) に引続き指定します。
優先順位は小さい値が優先順位の高いことを示します。
<DT><B>CNAME</B>


<DD>
別名に対応した正式名 (ドメイン)
<DT><B>SOA</B>


<DD>
オーソリティゾーンデータの開始を示します。
(ホストの属するドメイン、メンテナのドメインアドレス、
シリアル番号、その後にリフレッシュ、リトライ、有効期限、最小 TTL
(RFC 883 と RFC 2308 を参照)
の各値を秒で指定したパラメータが続く)。
<DT><B>NULL</B>


<DD>
ヌルリソースレコード (形式やデータはありません)
<DT><B>RP</B>


<DD>
いくつかのドメイン名の責任者 (メールアドレスか参照できるテキスト)
<DT><B>PTR</B>


<DD>
ドメイン名のポインタ (ドメイン)
<DT><B>HINFO</B>


<DD>
ホスト情報 (CPUタイプ、OSタイプ)
</DL>
<P>

</DL>
<P>

<P>

通常は行末でリソースレコードは終了しますが、
左括弧と右括弧で囲まれた場合は複数行にまたがることが可能となります。
セミコロンから行末まではコメントとして扱われます。
<P>

<B>注:</B>

ここには示されていませんが、このほかのタイプのリソースレコードも存在します。
リソースレコードのすべてのタイプを知るには
<B>BIND</B>

Operations Guide
(``BOG''

)

を参照する必要があるでしょう。
新しい RFC にていくつかのリソースタイプが標準化されていますが、
このバージョンの
<B>BIND</B>

ではまだ実装されていません。
<A NAME="lbAF">&nbsp;</A>
<H3>SOA レコード形式</H3>

各マスタゾーンファイルはそのゾーンの SOA レコードで始まらなければなりません。
以下に SOA レコードの例を示します。

<PRE>
@       IN      SOA     ucbvax.Berkeley.EDU. rwh.ucbvax.Berkeley.EDU. (
                                1989020501      ; serial
                                10800   ; refresh
                                3600    ; retry
                                3600000 ; expire
                                86400 ) ; minimum
</PRE>

<P>

SOA ではシリアル番号 (serial) を指定します。
シリアル番号はマスタファイルを更新するたびに増加する必要があります。
シリアル番号は小数点つきの数字を指定することもできますが、
整数への変換は乗算や加算ではなく文字列としてつなげて行っているため、
<I>あまり</I>

賢い方法とはいえません。
年月日と 0〜99 のシリアル番号を使用することで、
このフィールドのサイズである符号なしの 32 ビット以内に収まります。
(このやり方は 4294 年には考え直す必要があることは確かですが、
それについては心配する必要はないでしょう)。
<P>

セカンダリサーバは秒で指定されたリフレッシュ時間 (refresh) の間隔で
シリアル番号をチェックします。
シリアル番号に変更があれば、新しいデータを読み込むために
ゾーン情報が転送されます。
リフレッシュ時間が過ぎてもマスタサーバに接続できない場合は、
リトライ時間 (retry) の間隔でリフレッシュが試みられます。
期限切れ時間 (expire) が過ぎてマスタサーバに接続できない場合は、
セカンダリサーバはそのゾーンのすべてのデータを破棄します。
<A NAME="lbAG">&nbsp;</A>
<H2>注</H2>

ブートファイルでの
``<B>domain</B>

''

と
``<B>suffixes</B>

''

の指定は廃止され、
もっと便利なリゾルバベースの実装、すなわち部分的な形のドメイン名
(partially-qualified domain names) の接尾辞に置き変えられました。
以前のメカニズムでは多くの状況下で失敗することがあり、
特にローカルネームサーバが完全な情報を持っていない場合に失敗しました。
<P>

以下に各シグナルを
<A HREF="../../0MultiFileIdx/man1/kill.1.html">kill</A>(1)


コマンドによってサーバに送った場合の効果を示します。
<P>

<DL COMPACT>
<P>

<DT><B>SIGHUP</B>


<DD>
サーバは
named.conf

を読み、データベースをロードし直します。
サーバがコンパイルオプションの
<B>FOCED_RELOAD</B>

を定義されてコンパイルされている場合は、
<B>SIGHUP</B>

を送るとサーバはすべてのセカンダリゾーンのシリアル番号もチェックします。
通常、シリアル番号は SOA 中に指定された間隔でのみチェックされます。
<DT><B>SIGINT</B>


<DD>
現在のデータベースとキャッシュの内容を
``/var/tmp/named_dump.db

''

または
<B>_PATH_DUMPFILE</B>

の値にダンプします。
<DT><B>SIGILL</B>


<DD>
サーバが -DSTATS 付きでコンパイルされていれば、
統計データを
named.stats

にダンプします。
統計データはこのファイルの末尾に追加されます。
<DT><B>SIGSYS</B>


<DD>
サーバがプロファイリング (サーバの fork, chdir と exit) を
有効にされてコンパイルされていれば、
プロファイリングデータを
/var/tmp

にダンプします。
<DT><B>SIGTERM</B>


<DD>
更新されたデータが存在すればこれを保存し、サーバをシャットダウンします
<DT><B>SIGUSR1</B>


<DD>
デバッグ機能を有効にします。
<B>SIGUSR1</B>

が送られるたびにデバッグレベルが上がります。
Po Dv SIGUSR1

がない古いシステムでは
<B>SIGEMT</B>

が使われます。
Pc <DT><B>SIGUSR2</B>


<DD>


デバッグ機能を完全に無効にします。
Po Dv SIGUSR2

がない古いシステムでは
<B>SIGFPE</B>

が使われます。
Pc <DT><B>SIGWINCH</B>


<DD>


すべてのサーバに入力される問い合わせの
syslog(8)


による
ログ採取の有無を切り替えます。
(ログ採取はサーバが
<B>QRYLOG</B>

オプションを指定されて
コンパイルされている必要があります。)
</DL>
<P>

<A NAME="lbAH">&nbsp;</A>
<H2>関連ファイル</H2>

<DL COMPACT>
<P>

<DT><B>/etc/namedb/named.conf

</B>
<DD>
デフォルトのネームサーバの設定ファイル
<DT><B>/var/run/named.pid (_PATH_PIDFILE</B>

)




<DD>
プロセス ID
<DT><B>/var/tmp/named_dump.db (_PATH_DUMPFILE</B>

)




<DD>
ネームサーバデータベースのダンプ
<DT><B>/var/tmp/named.run (file:  _PATH_DEBUG</B>

)




<DD>
デバッグ出力
<DT><B>/var/tmp/named.stats (file:  _PATH_STATS</B>

)




<DD>
ネームサーバの統計データ
</DL>
<P>

<A NAME="lbAI">&nbsp;</A>
<H2>関連項目</H2>

<A HREF="../../LDP_man-pages/man3/gethostbyname.3.html">gethostbyname</A>(3),


<A HREF="../man7/hostname.7.html">hostname</A>(7),


<A HREF="../../0MultiFileIdx/man1/kill.1.html">kill</A>(1),


<A HREF="../../LDP_man-pages/man3/resolver.3.html">resolver</A>(3),


<A HREF="../man5/resolver.5.html">resolver</A>(5),


<A HREF="../../LDP_man-pages/man2/signal.2.html">signal</A>(2),


RFC 882, RFC 883, RFC 973, RFC 974, RFC 1033, RFC 1034, RFC 1035, RFC 1123,
RFC 2308
``Name Server Operations Guide for <B>BIND</B>

''

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名称</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">解説</A><DD>
<DL>
<DT><A HREF="#lbAE">マスタファイル形式</A><DD>
<DT><A HREF="#lbAF">SOA レコード形式</A><DD>
</DL>
<DT><A HREF="#lbAG">注</A><DD>
<DT><A HREF="#lbAH">関連ファイル</A><DD>
<DT><A HREF="#lbAI">関連項目</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:36 GMT, December 05, 2022
</BODY>
</HTML>
