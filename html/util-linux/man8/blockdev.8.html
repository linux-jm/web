
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of BLOCKDEV</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>BLOCKDEV</H1>
Section: System Administration (8)<BR>Updated: August 2010<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/util-linux/release/man8/blockdev.8">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

blockdev - コマンドラインからブロックデバイスの ioctl を呼び出す
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>blockdev</B> [<B>-q</B>] [<B>-v</B>] <I>command</I> [<I>command</I>...] <I>device</I>
[<I>device</I>...]
<BR>

<B>blockdev</B> <B>--report</B> [<I>device</I>...]
<BR>

<B>blockdev</B> -h<B>|</B>-V
<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

<B>blockdev</B> ユーティリティを使えば、コマンドラインからブロックデバイスの
ioctl を呼び出すことができる。
<A NAME="lbAE">&nbsp;</A>
<H2>オプション</H2>

<DL COMPACT>
<DT><B>-q</B><DD>
寡黙モード。
<DT><B>-v</B><DD>
饒舌モード。
<DT><B>--report</B><DD>
指定したデバイスの情報を表示する。複数のデバイスを指定することもできる。
何も指定しない場合は、/proc/partitions
に記載されているすべてのデバイスが表示される。パーティションの開始セクタ
(StartSec) は 512-byte セクタによる表示である。
<DT><B>-h</B>, <B>--help</B><DD>
ヘルプテキストを表示して、終了する。
<DT><B>-V</B>, <B>--version</B><DD>
バージョンを表示して、終了する。
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>コマンド</H2>

デバイスもコマンドも複数指定できる。
<DL COMPACT>
<DT><B>--flushbufs</B><DD>
バッファをフラッシュする。
<DT><B>--getalignoff</B><DD>
アラインメントオフセット (alignment offset) を取得する。
<DT><B>--getbsz</B><DD>
ブロックサイズをバイト単位で表示する。このサイズが示しているのは、デバイスのトポロジーではない。
これは、カーネルによって内部的に使用されるサイズであり、マウント時に
(たとえば) ファイルシステムドライバによって変更されることもある。
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT>[<B>訳注</B>]<DD>
デバイスのトポロジーというのは、デバイス固有の物理セクタサイズ、論理セクタサイズ、最小
I/O サイズなどのこと。特に、物理セクタサイズ。
</DL>
</DL>

<DT><B>--getdiscardzeroes</B><DD>
discard zeroes サポートの状態を取得する。
<DT><B>--getfra</B><DD>
ファイルシステムの先読み (readahead) の大きさを 512-byte セクタ単位で取得する。
<DT><B>--getiomin</B><DD>
最小 I/O サイズを取得する。
<DT><B>--getioopt</B><DD>
最適 I/O サイズを取得する。
<DT><B>--getmaxsect</B><DD>
1 リクエストあたりの最大セクタ数を取得する。
<DT><B>--getpbsz</B><DD>
物理ブロック (セクタ) サイズを取得する。
<DT><B>--getra</B><DD>
先読みの大きさを (512-byte セクタ単位で) 表示する。
<DT><B>--getro</B><DD>
読み込み専用か否かを検出する。デバイスが読み込み専用ならば 1 を、
さもなければ 0 を表示する。
<DT><B>--getsize64</B><DD>
デバイスのサイズをバイト単位で表示する。
<DT><B>--getsize</B><DD>
デバイスのサイズをセクタ単位で表示する
(32 ビットまでしか対応していない！)。これは非推奨であり、--getsz
オプションを使った方がよい。
<DT><B>--getss</B><DD>
論理セクタサイズをバイト単位で表示する。通常は 512 バイトである。
<DT><B>--getsz</B><DD>
デバイスのサイズを 512-byte セクタ単位で取得する。
<DT><B>--rereadpt</B><DD>
パーティションテーブルの再読み込みを行う。
<DT><B>--setbsz</B> <I>bytes</I><DD>
ブロックサイズを設定する。なお、このブロックサイズは、
ブロックデバイスをオープンしている現在のファイルディスクリプターに限定されたものである。
そのため、ブロックサイズの変更は blockdev
がデバイスをオープンしている間だけ続き、blockdev が終了すると失われる。
<DT><B>--setfra</B> <I>sectors</I><DD>
ファイルシステムの先読みの大きさを設定する
(2.6 カーネルの --setra と同様)。
<DT><B>--setra</B> <I>sectors</I><DD>
先読みの大きさを (512-byte セクタ単位で) 設定する。
<DT><B>--setro</B><DD>
読み込み専用に設定する。
デバイスへの現在のアクティブなアクセスは、この変更の影響を受けないかもしれない。
たとえば、既に読み書きモードでマウントされているファイルシステムは、影響を受けない。
変更は再マウント後に適用される。
<DT><B>--setrw</B><DD>
読み書き可に設定する。
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>作者</H2>

blockdev を書いたのは Andries E. Brouwer であり、それを
Karel Zak が書き直した。
<A NAME="lbAH">&nbsp;</A>
<H2>入手方法</H2>

この blockdev コマンドは、util-linux パッケージの一部であり、
<A HREF="https://www.kernel.org/pub/linux/utils/util-linux/">https://www.kernel.org/pub/linux/utils/util-linux/</A> から入手できる。
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">オプション</A><DD>
<DT><A HREF="#lbAF">コマンド</A><DD>
<DT><A HREF="#lbAG">作者</A><DD>
<DT><A HREF="#lbAH">入手方法</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:46 GMT, December 05, 2022
</BODY>
</HTML>
