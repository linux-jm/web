
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of MOUNT</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>MOUNT</H1>
Section: Linux Programmer's Manual (8)<BR>Updated: 2004-12-16<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/util-linux/release/man8/mount.8">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

mount - ファイルシステムをマウントする
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>mount [-lhV]</B>

<P>

<B>mount -a [-fFnrsvw] [-t </B><I>vfstype</I><B>] [-O </B><I>optlist</I><B>]</B>

<BR>

<B>mount [-fnrsvw] [-o </B><I>options</I><B> [,...]] </B><I>device </I><B>|</B><I> dir</I>

<BR>

<B>mount [-fnrsvw] [-t </B><I>vfstype</I><B>] [-o </B><I>options</I><B>] </B><I>device dir</I>

<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

Unix のシステムにおいては、アクセスできるファイルはすべて 1 つの大きな
ツリー構造にまとめられている。
これは
<B>/</B>

をルート (root:根) とする階層構造をなしている。
これらのファイル群は複数のデバイスにわたって配置することができる。
<B>mount</B>

コマンドはあるデバイス上のファイルシステムを
この大きなツリー構造に接続するために用いられる。
逆に接続を解除する際には
<B><A HREF="../man8/umount.8.html">umount</A></B>(8)

コマンドが用いられる。
<P>
<B>mount</B>

コマンドの標準形は次の通りである。
<DL COMPACT><DT><DD>
<BR>

<B>mount -t</B><I> type device dir</I>

</DL>

これは
<I>device</I>

上にあるファイルシステム (タイプ
<I>type</I>)

をディレクトリ
<I>dir</I>

に接続するよう、カーネルに伝える。
このファイルシステムがマウントされている間は、ディレクトリ
<I>dir</I>

のもとの中身 (もしあれば)、ディレクトリ自身の所有者、
パーミッションモードは見えなくなる。
<I>dir</I>

によって指定されるパスは
<I>device</I>

上のファイルシステムのルートを参照することになる。
<P>
以下の 3 種類の実行形式は、実際には何もマウントしない。
<DL COMPACT><DT><DD>
<BR>

<B>mount -h</B>

</DL>

はヘルプメッセージを表示する。
<DL COMPACT><DT><DD>
<BR>

<B>mount -V</B>

</DL>

はバージョン情報を表示する。
<DL COMPACT><DT><DD>
<B>mount [-l] [-t</B><I> type</I><B>]</B>

</DL>

とだけ入力して実行すると、
現在マウントされているファイルシステムのリストを表示する。
-t &quot;type&quot; を指定すると、ファイルシステムのタイプが
<I>type</I>

のものだけを表示する。
オプション -l を付けると (ext2, ext3, XFS) のラベルをリストに追加する。
タイプに関する詳細は以下に述べる。
<P>


Linux 2.4.0 以降では、
ファイル階層の一部をどこか別の場所に再マウントすることができる。
使い方は以下の通りである。
<DL COMPACT><DT><DD>
<BR>

<B>mount --bind olddir newdir</B>

</DL>

この呼び出しの後、同じ内容を 2 つの場所でアクセスできる。
1 つのファイルを (1 つのファイル上に) 再マウントすることもできる。
<P>
この呼び出しでは 1 つのファイルシステム (の一部) のみをアタッチするだけで、
サブマウントはアタッチしない。
サブマウントを含むファイル階層全体は、
以下のコマンドで 2 番目の場所にアタッチできる。
<DL COMPACT><DT><DD>
<BR>

<B>mount --rbind olddir newdir</B>

</DL>


<P>
ファイルシステムのマウントオプションは、
元のマウントポイントのものと同じに維持され、
--bind/--rbind の後に -o オプションを指定して変更できない点に注意すること。
<P>
Linux 2.5.1 以降では、
マウントされたツリーを纏めて他の場所に移動することが可能になった。
使い方は以下の通りである。
<DL COMPACT><DT><DD>
<BR>

<B>mount --move olddir newdir</B>

</DL>

<P>
<I>proc</I>

ファイルシステムはスペシャルデバイスには関連付けられていないので、
マウントする際には
<I>proc</I>

のような適当なキーワードをデバイス指定の代わりに用いる。
(通常用いられている
<I>none</I>

はあまりお勧めできない:
<B>umount</B>

が `none busy' というエラーメッセージを出すことになるので、
混乱の原因となりかねない。)
<P>
<P>
ほとんどの場合、デバイスは (ブロックスペシャルデバイスの) ファイル名で
指定する (例:
<I>/dev/sda1</I>)。

しかし例外もある。例えば NFS を通してマウントする場合には、
<I>device</I>

は
<I>knuth.cwi.nl:/dir</I>

のようになる。
ブロックスペシャルデバイスの指定には、ボリュームラベルや UUID を
用いることができる (以下の -L および -U オプションを見よ)。
<P>
ファイル
<I>/etc/fstab</I>

(<B><A HREF="../man5/fstab.5.html">fstab</A></B>(5)

を見よ) は、それぞれのデバイスが通常マウントされる場所を、
オプションとともに記述したものである。
このファイルは以下の 3 つの場合に用いられる。
<P>

(i) コマンド
<DL COMPACT><DT><DD>
<BR>

<B>mount -a [-t </B><I>type</I><B>] [-O </B><I>optlist</I><B>]</B>

</DL>

が (通常は起動スクリプトから) 実行されると、
<I>fstab</I>

に記述されているすべてのファイルシステムが
(適当なオプションの有無に関わらず、それぞれ適当なタイプで) マウントされる。
ただしキーワード
<B>noauto</B>

を含む行はマウントされない。
<B>-F</B>

オプションを指定すると mount は fork し、
それぞれのファイルシステムが同時にマウントされる。
<P>

(ii)
<I>fstab</I>

中に記述されているファイルシステムをマウントするときは、
デバイスのみ、あるいはマウントポイントのみの指定で充分である。
<P>

(iii) 通常はスーパーユーザーのみがマウントを行うことができるが、
<I>fstab</I>

中の行に
<B>user</B>

オプションが含まれていれば、その行で指定されているファイルシステムは
誰でもマウントすることができる。
<P>

したがって
<DL COMPACT><DT><DD>
<BR>

<B>/dev/cdrom  /cd  iso9660  ro,user,noauto,unhide</B>

</DL>

という行があれば、誰でも CDROM 上の iso9660 ファイルシステムを
<DL COMPACT><DT><DD>
<BR>

<B>mount /dev/cdrom</B>

</DL>

または
<DL COMPACT><DT><DD>
<BR>

<B>mount /cd</B>

</DL>

によってマウントできる。
詳細は
<B><A HREF="../man5/fstab.5.html">fstab</A></B>(5)

を参照のこと。
ファイルシステムをマウントしたユーザーだけが、
それをアンマウントすることができる。
他のユーザーでもアンマウントを行えるようにしたい場合は、
<I>fstab</I>

の行の指定を
<B>user</B>

の代わりに
<B>users</B>

とすること。
<B>owner</B>

オプションは
<B>user</B>

オプションと似ているが、ユーザーがそのスペシャルファイルの
所有者でなければならないという制限がある。
これはたとえばログインスクリプトがコンソールのユーザーを
<I>/dev/fd</I>

の所有者にする場合、このデバイスに用いると便利だろう。
<B>group</B>

オプションは (訳註:
<B>user</B>

オプションと) 似ているが、ユーザーがそのスペシャルファイルの
グループのメンバでなければならないという制限がある。
<P>
<B>mount</B>

および
<B>umount</B>

プログラムによって現在マウントされているファイルシステムの一覧は
<I>/etc/mtab</I>

ファイル中に記述されている。
<B>mount</B>

が引き数なしで実行された場合には、
このリストが表示される。
<P>
<I>proc</I>

ファイルシステムがマウントされている場合には (マウントポイントは
<I>/proc</I>

としよう)、
ファイル
<I>/etc/mtab</I>

と
<I>/proc/mounts</I>

はほとんど同じ内容になる。
<I>/etc/mtab</I>

には、マウントオプションなど多少の情報が付け加えられている。
特に非常に多くマウントしている場合には、(訳註:
<I>/etc/mtab</I>

を
<I>/proc/mounts</I>

への) シンボリックリンクにすることにより、とても速くなる。
しかし、
<I>/etc/mtab</I>

は常に最新の情報であるとは限らない (以下の
<B>-n</B>

オプションの説明を参照)。
<I>/etc/mtab</I>

を
<I>/proc/mounts</I>

へのシンボリックリンクとすることも可能であるが、
この場合は上に挙げた情報が失われる。
loop デバイスを用いている場合には特に不便となってしまう。
また &quot;user&quot; オプションを用いると失敗する。
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>オプション</H2>

<B>mount</B>

の実行時に用いられるオプションは以下のようにして決定される。
まずそのファイルシステムに特有のオプションが
<I>fstab</I>

中の対応する行から抽出される。
次にコマンドラインの
<B>-o</B>

引き数によって指定されたオプション、最後に
<B>-r</B> または <B>-w</B>

オプションが指定されている場合には、それらが適用される。
<P>
<B>mount</B>

コマンドで利用できるオプションは以下の通り:
<DL COMPACT>
<DT><B>-V</B>

<DD>
バージョンを表示する。
<DT><B>-h</B>

<DD>
ヘルプメッセージを表示する。
<DT><B>-v</B>

<DD>
詳細表示モード。
<DT><B>-a</B>

<DD>
<I>fstab</I>

に記載されている (指定したタイプの) ファイルシステムを
すべてマウントする。
<DT><B>-F</B>

<DD>
(<B>-a</B>

とともに用いる)
それぞれのデバイスごとに fork して新しい mount プロセスを生成する。
別々のデバイス、別々の NFS サーバに対するマウントを並行して行うことになる。
利点は動作が高速になること、
また NFS タイムアウトが並行して計測されることである。
逆に欠点としては、マウントの順序が規定されないことである。
したがって、
<I>/usr</I>

と
<I>/usr/spool</I>

の両方を同時にマウントするときには、このオプションを用いることはできない。
<DT><B>-f</B>

<DD>
実際のシステムコール以外を除いてすべての動作をする。
もうちょっとわかりやすく言うと、
ファイルシステムのマウント動作を「行うふり」をする。
このオプションは
<B>-v</B>

フラグとともに用いると便利で、
<B>mount</B>

コマンドが行おうとすることを確認できる。
また以前に -n オプションを用いてマウントされたデバイスのエントリーを
<I>/etc/mtab</I>

に書き込む目的にも用いることができる。
<DT><B>-i</B>

<DD>
/sbin/mount.&lt;filesystem&gt; ヘルパがあっても、呼び出さない。
<DT><B>-l</B>

<DD>
ext2, ext3, XFS のラベルを mount の出力に追加する。
これを行うには、mount にディスクデバイスの読み取り権限が必要である
(つまり suid root されている必要がある)。
このような ext2 や ext3 のラベルを設定するには
<B><A HREF="../../e2fsprogs/man8/e2label.8.html">e2label</A></B>(8)

ユーティリティを用いればよい。
また、XFS のラベルを設定するには
<B>xfs_admin</B>(8)

を用いればよい。
reiserfs のラベルを設定するには
<B><A HREF="../../reiserfsprogs/man8/reiserfstune.8.html">reiserfstune</A></B>(8)

を用いればよい。
<DT><B>-n</B>

<DD>
マウントの際に
<I>/etc/mtab</I>

に書き込みを行わない。
これが必要になるのは、例えば
<I>/etc</I>

がリードオンリーのファイルシステムの場合などである。
<DT><B>-p</B><I> num</I>

<DD>
暗号付きループマウントの場合、
パスフレーズを端末からではなくファイルディスクリプタ
<I>num</I>

から読み込む。
<DT><B>-s</B>

<DD>
曖昧なマウントオプションが与えられたときに、
実行を中断しないで受け入れる。
これはファイルシステムタイプによってサポートされていない
マウントオプションを無視する。
すべてのファイルシステムでこのオプションがサポートされているわけではない。
このオプションは Linux autofs ベースのオートマウンタのために用意されている。
<DT><B>-r</B>

<DD>
ファイルシステムをリードオンリーでマウントする。
<B>-o ro</B>

と同義である。
<DT><B>-w</B>

<DD>
ファイルシステムを読み書き可能なモードでマウントする (デフォルト)。
<B>-o rw</B>

と同義である。
<DT><B>-L</B><I> label</I>

<DD>
<I>label</I>

で指定したラベルを持つパーティションをマウントする。
<DT><B>-U</B><I> uuid</I>

<DD>
<I>uuid</I>

で指定した UUID を持つパーティションをマウントする。
これらの 2 つのオプションを用いるには、
<I>/proc/partitions</I>

ファイル (Linux 2.1.116 以降でサポート) が存在していなければならない。
<DT><DT><B>-t</B><I> vfstype</I>

<DD>
<DD>
<B>-t</B>

に続く引き数はファイルシステムタイプを指定するのに用いられる。
現在サポートされているファイルシステムのタイプには、以下のものが含まれる。
<I>adfs</I>,

<I>affs</I>,

<I>autofs</I>,

<I>coda</I>,

<I>coherent</I>,

<I>cramfs</I>,

<I>devpts</I>,

<I>efs</I>,

<I>ext</I>,

<I>ext2</I>,

<I>ext3</I>,

<I>hfs</I>,

<I>hpfs</I>,

<I>iso9660</I>,

<I>jfs</I>,

<I>minix</I>,

<I>msdos</I>,

<I>ncpfs</I>,

<I>nfs</I>,

<I>ntfs</I>,

<I>proc</I>,

<I>qnx4</I>,

<I>ramfs</I>,

<I>reiserfs</I>,

<I>romfs</I>,

<I>smbfs</I>,

<I>sysv</I>,

<I>tmpfs</I>,

<I>udf</I>,

<I>ufs</I>,

<I>umsdos</I>,

<I>usbfs</I>,

<I>vfat</I>,

<I>xenix</I>,

<I>xfs</I>,

<I>xiafs</I>.

coherent, sysv, xenix の 3 つは等価であり、
<I>xenix</I>

と
<I>coherent</I>

は将来削除される --- 代りに
<I>sysv</I>

を用いること。
カーネルのバージョン 2.1.21 以降では、
<I>ext</I>

および
<I>xiafs</I>

というタイプは、もはや存在しない。
<I>usbfs</I>

は、以前は
<I>usbdevfs</I>

として知られていた。
<P>
ほとんどのタイプに対しては、
<B>mount</B>

プログラムがしなければならないことは単に
<I><A HREF="../../LDP_man-pages/man2/mount.2.html">mount</A></I>(2)

システムコールを発行することだけであり、
そのタイプのファイルシステムに対する細かな知識は必要とされない。
しかしいくつかのタイプ (nfs, smbfs, ncpfs など) については、
特別なコードが必要になる。
nfs 対応コードは組み込まれているが、
smbfs と ncpfs については別にマウントプログラムが用意されている。
全部のタイプを同じやり方で扱うことができるようにするため、
mount はタイプ
<I>TYPE</I>

とともに呼び出されると、(もしあれば)
<I>/sbin/mount.TYPE</I>

を実行する。
<I>smbmount</I>

プログラムでは、バージョンによって呼び出しの方式が異なっていることが多いので、
<I>/sbin/mount.smbfs</I>

は必要な呼び出し方式に調整するシェルスクリプトでなければならないだろう。
<P>
<B>-t</B>

オプションが与えられなかった場合や、
<B>auto</B>

タイプが指定された場合、
<B>mount</B>

は適切なタイプを推測する。
<B>mount</B>

が blkid ライブラリとともにコンパイルされている場合、
このライブラリによって推測を行う。
さもなければ、
<B>mount</B>

は自身でスーパーブロックをプローブして推測を行う。
このプローブに失敗すると、<B>mount</B> はファイル
<I>/etc/filesystems</I>

を読み込もうとする。
さらにこのファイルがなければ
<I>/proc/filesystems</I>

を読み込もうとする。
そして、読み込んだファイルにリストされているファイルシステムがテストされる。
ただし &quot;nodev&quot; ラベルの付いているもの (すなわち
<I>devpts</I>,

<I>proc</I>,

<I>nfs</I>)

はテストから除かれる。
<I>/etc/filesystems</I>

が * のみの行で終わっている場合、
<B>mount</B>

はその後に
<I>/proc/filesystems</I>

を読み込む。
<P>
<B>auto</B>

タイプはフロッピーを一般ユーザーがマウントする場合に特に便利であろう。
プローブの順序を変更したい場合
(例えば msdos の前に vfat の試行をしたい場合や
ext2 の前に ext3 を試行したい場合) や、
カーネルモジュールの自動ローダを利用している場合には、
<I>/etc/filesystems</I>

ファイルを作っておくと便利である。
注意: ファイルシステムのテストには発見的手法
(適当な `合い言葉' が見つかるかどうか) が用いられるので、
ファイルシステムのタイプを間違えて、被害を被る可能性もある。
データが重要な場合は、
<B>mount</B>

にファイルシステムタイプを推測させてはならない。
<P>
複数のタイプをコンマで区切ったリストで指定することもできる。
ファイルシステムのタイプのリストの前に
<B>no</B>

を前置することもできる。
これは動作対象としないファイルシステムを指定する。
(<B>-a</B>

オプションとともに用いると良いかもしれない。)
<P>
例えば以下のコマンド:
<DL COMPACT><DT><DD>
<DL COMPACT><DT><DD>
<B>mount -a -t nomsdos,ext</B>

</DL>

は
<I>msdos</I>

および
<I>ext</I>

を除くすべてのファイルシステムをマウントする。
</DL>

<DT><B>-O</B>

<DD>
<B>-a</B>

と一緒に使うと、
<B>-a</B>

が適用されるファイルシステムを制限することができる。
この動作は
<B>-t</B>

と似ているが、
<B>-a</B>

と一緒に使うとき以外は機能しない点が異なる。
例えば以下のコマンド:
<DL COMPACT><DT><DD>
<DL COMPACT><DT><DD>
<B>mount -a -O no_netdev</B>

</DL>

は
<I>/etc/fstab</I>

ファイルのオプションフィールドで
<I>_netdev</I>

オプションが指定されていない
全てのファイルシステムをマウントする。
<P>
各オプションが厳密にマッチされる点が
<B>-t</B>

とは異なる。
ある 1 個のオプションの前に
<B>no</B>

をおいても、残りのオプションの意味は打ち消されない。
<P>
<B>-t</B>

と
<B>-O</B>

オプションの機能は足し合わせることができる。
すなわちコマンド
<DL COMPACT><DT><DD>
<B>mount -a -t ext2 -O _netdev</B>

</DL>

は _netdev が指定されている
全ての ext2 ファイルシステムをマウントするが、
ext2 以外のファイルシステムや、
_netdev が指定されていない ext2 ファイルシステムはマウントしない。
</DL>

<DT><B>-o</B>

<DD>
オプションの指定を行うには、
<B>-o</B>

フラグに続けて各オプションをコンマで区切った文字列を書く。
オプションには、
<I>/etc/fstab</I>

の中でのみ意味を持つものもある。
以下のオプションはマウントされるすべての
ファイルシステムに適用できるものである
(但し、全てのファイルシステムがこれらのオプションを引き受けるとは限らない。
例えば、
<B>sync</B>

オプションは現在 ext2, ext3, ufs でのみ効果をもつ):
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>async</B>

<DD>
そのファイルシステムに対するすべての I/O が非同期 (asynchronous) に行われる。
<DT><B>atime</B>

<DD>
アクセス毎に inode のアクセス時間を更新する。デフォルト。
<DT><B>auto</B>

<DD>
<B>-a</B>

が指定されたときにマウントされる。
<DT><B>defaults</B>

<DD>
デフォルトのオプション:
<B>rw</B>, <B>suid</B>, <B>dev</B>, <B>exec</B>, <B>auto</B>, <B>nouser</B>, <B>async</B>

を用いる。
<DT><B>dev</B>

<DD>
ファイルシステム上の
キャラクタ・スペシャル・デバイスや
ブロック・スペシャル・デバイスを
利用できるようにする。
<DT><B>exec</B>

<DD>
バイナリの実行を許可する。
<DT><B>group</B>

<DD>
通常 (つまり root 以外) のユーザーの属するグループのうちの 1 つが
デバイスのグループとマッチした場合に、
そのユーザーがファイルシステムをマウントするのを許可する。
このオプションはオプション
<B>nosuid</B> と <B>nodev</B>

を暗黙のうちに指定する
(ただし、オプション行で
<B>group,dev,suid</B>

のようにして、その後のオプションで上書きしない限り)。
<DT><B>mand</B>

<DD>
このファイルシステム上での強制 (mandatory) ロックを許可する。
<B><A HREF="../../LDP_man-pages/man2/fcntl.2.html">fcntl</A></B>(2)

を参照すること。
<DT><B>_netdev</B>

<DD>
ネットワークアクセスが必要なデバイス上にあるファイルシステム
(システムでネットワークが使用可能になるまでは、
ファイルシステムをマウントさせないために使われる)。
<DT><B>noatime</B>

<DD>
そのファイルシステム上では inode のアクセス時間を更新しない
(例えばニュースサーバーをスピードアップしたいときなどに、
ニューススプールへのアクセス速度を向上させるために用いられる)。
<DT><B>noauto</B>

<DD>
明示的に指定されたときのみマウントできる。
つまり
<B>-a</B>

オプションではマウントされない。
<DT><B>nodev</B>

<DD>
このファイルシステム上にある
キャラクタ・スペシャル・デバイスや
ブロック・スペシャル・デバイスを
使用できないようにする。
<DT><B>noexec</B>

<DD>
マウントされたファイルシステム上の任意のバイナリの直接実行を禁止する。
(最近になるまで /lib/ld*.so /mnt/binary のようなコマンドを使って、
バイナリを何とか実行することが可能であった。
このトリックは Linux 2.4.25 / 2.6.0 以降では失敗する。)
<DT><B>nomand</B>

<DD>
ファイルシステム上での強制ロックを禁止する。
<DT><B>nosuid</B>

<DD>
SUID および SGID ビットを無効にする (これは安全なように見えるが、
suidperl(1) がインストールされている場合には、実際にはむしろ危険である)。
<DT><B>nouser</B>

<DD>
一般ユーザー (スーパーユーザー以外のユーザー) のマウントを禁止する。
これはデフォルトである。
<DT><B>owner</B>

<DD>
通常 (つまり root 以外) のユーザーがデバイスの所有者とマッチした場合に、
そのユーザーがファイルシステムをマウントするのを許可する。
このオプションはオプション
<B>nosuid</B> と <B>nodev</B>

を暗黙のうちに指定する
(ただし、オプション行で
<B>owner,dev,suid</B>

のようにして、その後のオプションで上書きしない限り)。
<DT><B>remount</B>

<DD>
すでにマウントされているファイルシステムを再マウントしようとする。
これは通常ファイルシステムのマウントフラグを変更するとき
(特にリードオンリーのファイルシステムを書き込み可能にするとき) に用いられる。
デバイスとマウントポイントを変更しない。
<DT><B>ro</B>

<DD>
ファイルシステムをリードオンリーでマウントする。
<DT><B>rw</B>

<DD>
ファイルシステムを読み書き可能なモードでマウントする。
<DT><B>suid</B>

<DD>
SUID および SGID ビットを有効にする。
<DT><B>sync</B>

<DD>
そのファイルシステムに対する I/O がすべて同期的 (synchronous) に行われる。
<DT><B>dirsync</B>

<DD>
ファイルシステムにおける全てのディレクトリ更新を、
同期的 (synchronous) に行わせる。
このオプションは以下のシステムコールに影響する:
creat, link, unlink, symlink, mkdir, rmdir, mknod, rename.
<DT><B>user</B>

<DD>
一般ユーザーでもファイルシステムをマウントできるようにする。
マウントを行ったユーザーの名前が mtab に書き込まれ、
そのユーザーがアンマウントできるようになる。
このオプションを指定すると、同時に
<B>noexec</B>, <B>nosuid</B>, <B>nodev</B>

が指定されたことになる。
ただし続けて指定すれば上書きは可能。
すなわち
<B>user,exec,dev,suid</B>

のような行を指定すればよい。
<DT><B>users</B>

<DD>
全てのユーザーがファイルシステムをマウント・アンマウント出来るようにする。
このオプションを指定すると、同時に
<B>noexec</B>, <B>nosuid</B>, <B>nodev</B>

が指定されたことになる。
ただし続けて指定すれば上書きは可能。
すなわち
<B>users,exec,dev,suid</B>

のような行を指定すればよい。
</DL>
</DL>

<DT><B>--bind</B>

<DD>
サブツリーをどこか他の場所に再マウントする
(サブツリーの内容が両方の場所でアクセスできる)。
上記を参照。
<DT><B>--move</B>

<DD>
サブツリーを他の場所に移動する。上記を参照。
<P>
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>ファイルシステム独自のマウントオプション</H2>

以下のオプションは特定のファイルシステムにのみ適用される。
ファイルシステムの順に並べてある。
すべて
<B>-o</B>

フラグに続けて指定する。
<P>
どのようなオプションがサポートされているかは、
実行されているカーネルに少々依存する。
より詳しい情報はカーネルソースのサブディレクトリ
<I>Documentation/filesystems</I>

で見つけることができる。
<P>
<A NAME="lbAG">&nbsp;</A>
<H2>adfs のマウントオプション</H2>

<DL COMPACT>
<DT><B>uid=</B><I>value</I> and <B>gid=</B><I>value</I><DD>
このファイルシステムのファイルの所有者とグループを設定する
(デフォルトは uid=gid=0)。
<DT><B>ownmask=</B><I>value</I> and <B>othmask=</B><I>value</I><DD>
それぞれ ADFS の「所有者」属性と「その他」属性に対する
パーミッションマスクを設定する
(デフォルトはそれぞれ 0700 と 0777)。
<I>/usr/src/linux/Documentation/filesystems/adfs.txt</I>

も参照のこと。
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>affs のマウントオプション</H2>

<DL COMPACT>
<DT><B>uid=</B><I>value</I> と <B>gid=</B><I>value</I><DD>
ファイルシステムのルートの所有者とグループを設定する
(デフォルトは uid=gid=0。
ただしオプション
<B>uid</B>

や
<B>gid</B>

を値なしで指定すると、カレントプロセスの uid および gid が用いられる)。
<DT><B>setuid=</B><I>value</I> と <B>setgid=</B><I>value</I><DD>
すべてのファイルの所有者とグループを設定する。
<DT><B>mode=</B><I>value</I>

<DD>
すべてのファイルの許可属性を
<I>value</I> &amp; 0777

に設定する。
元の許可属性は無視される。
読み込みが許可されているディレクトリには検索許可の属性を付加する。
この値は 8 進数で与える。
<DT><B>protect</B>

<DD>
ファイルシステムの保護ビットへのいかなる変更も許可しない。
<DT><B>usemp</B>

<DD>
ファイルシステムのルートの uid と gid を
マウントポイントの uid と gid に設定する。
ただしこの設定は最初の sync または umount の際に実行され、
その後にこのオプションはクリアされる。変なの。
<DT><B>verbose</B>

<DD>
それぞれのマウントが成功するごとにメッセージを表示する。
<DT><B>prefix=</B><I>string</I>

<DD>
リンクをたどる際にボリューム名の前に用いられるプレフィックス (prefix)。
<DT><B>volume=</B><I>string</I>

<DD>
シンボリックリンクをたどる際に '/' の前に用いられるプレフィックス。
最長 30 文字。
<DT><B>reserved=</B><I>value</I>

<DD>
デバイススタート時の未使用ブロックの数。デフォルトは 2。
<DT><B>root=</B><I>value</I>

<DD>
ルートブロックの位置を明示的に与える。
<DT><B>bs=</B><I>value</I>

<DD>
ブロックサイズを与える。有効な値は 512, 1024, 2048, 4096 のいずれか。
<DT><B>grpquota</B> / <B>noquota</B> / <B>quota</B> / <B>usrquota</B>

<DD>
これらのオプションは指定可能であるが、単に無視される。
(但し、 quota ユーティリティは
<I>/etc/fstab</I>

にこのような文字列があると反応する)
<P>
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>coherent のマウントオプション</H2>

なし。
<P>
<A NAME="lbAJ">&nbsp;</A>
<H2>devpts のマウントオプション</H2>


devpts ファイルシステムは擬似ファイルシステムで、
通例としては
<I>/dev/pts</I>

にマウントされる。プロセスは擬似端末 (pseudo terminal) を取得するために、
<I>/dev/ptmx</I>

をオープンする。
するとそのプロセスは番号を通して擬似端末を使えるようになり、
擬似端末のスレーブに
<I>/dev/pts/</I>&lt;number&gt;

経由でアクセスできるようになる。

<DL COMPACT>
<DT><B>uid=</B><I>value</I> と <B>gid=</B><I>value</I><DD>
新たに作成される PTY の所有者と所有グループを設定する。
何も指定しないと、作成したプロセスの UID と GID になる。
例えば tty グループの GID が 5 であったとすると、
<B>gid=5</B>

とすれば新たに作成された PTY は tty グループに属することになる。
<DT><B>mode=</B><I>value</I>

<DD>
新たに作成される PTY のモードを設定する。
デフォルトは 0600 である。
<B>mode=620</B>

と
<B>gid=5</B>

を設定すると、新たに生成される PTY は、
&quot;mesg y&quot; がデフォルトになる。
<P>
</DL>
<A NAME="lbAK">&nbsp;</A>
<H2>ext のマウントオプション</H2>

なし。
`ext' ファイルシステムはすでに時代遅れであり、用いるべきではない。
Linux バージョン 2.1.21 以降では extfs はカーネルソースから削除されている。
<P>
<A NAME="lbAL">&nbsp;</A>
<H2>ext2 のマウントオプション</H2>

`ext2' ファイルシステムは Linux の標準ファイルシステムである。


Linux 2.5.46 以降では、大部分のマウントオプションのデフォルト値は
ファイルシステムのスーパーブロックで決定される。
このデフォルト値は
<B><A HREF="../../e2fsprogs/man8/tune2fs.8.html">tune2fs</A></B>(8)

で設定すること。
<DL COMPACT>
<DT><B>acl</B> / <B>noacl</B>

<DD>
POSIX アクセス制御リスト (Access Control List) をサポートする
(またはサポートしない)。

<DT><B>bsddf</B> / <B>minixdf</B>

<DD>
システムコール
<I>statfs</I>

の振る舞いを設定する。
<B>minixdf</B>

を指定すると、返り値の
<I>f_blocks</I>

フィールドにファイルシステムの全ブロック数が入るようになり、
<B>bsddf</B>

を指定すると、ext2 ファイルシステムによって利用されていて、
ファイルの保存領域としては使えないブロックの分を引いた値が入る。
デフォルトは
<B>bsddf</B>。

すなわち、

<PRE>

% mount /k -o minixdf; df /k; umount /k
Filesystem   1024-blocks  Used Available Capacity Mounted on
/dev/sda6      2630655   86954  2412169      3%   /k
% mount /k -o bsddf; df /k; umount /k
Filesystem   1024-blocks  Used Available Capacity Mounted on
/dev/sda6      2543714      13  2412169      0%   /k

</PRE>

(この例より、
<I>/etc/fstab</I>

のオプションにコマンドラインオプションを追加できることもわかる。)
<P>
<DT><B>check</B>

<DD>
ファイルシステム (のブロックと inode ビットマップ) をマウント時にチェックする。

<DT><B>check=none</B> / <B>nocheck</B>

<DD>
マウント時にチェックを行わない。
これがデフォルトであり、高速である。
<B><A HREF="../../e2fsprogs/man8/e2fsck.8.html">e2fsck</A></B>(8)

を時折、例えばブート時に、呼び出す方が賢明である。
<DT><B>debug</B>

<DD>
デバッグ情報をマウントおよび再マウントごとに表示する。
<DT><B>errors=continue</B> / <B>errors=remount-ro</B> / <B>errors=panic</B>

<DD>
エラーが起こったときの振る舞いを指定する。
(エラーを無視し、ファイルシステムに問題があることを記録だけして続ける /
ファイルシステムをリードオンリーでマウントしなおす /
パニックを起こしてシステムを停止する)
デフォルトはファイルシステムのスーパーブロックに設定されている。
これは
<B><A HREF="../../e2fsprogs/man8/tune2fs.8.html">tune2fs</A></B>(8)

を用いて変更することができる。
<DT><B>grpid</B> または <B>bsdgroups</B> / <B>nogrpid</B> または <B>sysvgroups</B>

<DD>
新しく作成されたファイルが取得するグループ id を指定する。
<B>grpid</B>

が設定されていると、ファイルは作成されたディレクトリと同じグループ id を得る。
それ以外の場合ファイルはカレントプロセスの fsgid を得る (デフォルト)。
ただしディレクトリに SGID ビットが設定されている場合は、
親ディレクトリから gid を引き継ぎ、作成されたファイルがディレクトリならば、
自分自身にも SGID ビットを設定する。
<DT><B>grpquota</B> / <B>noquota</B> / <B>quota</B> / <B>usrquota</B>

<DD>
これらのオプションは指定可能であるが、単に無視される。
<DT><B>nobh</B>

<DD>
buffer_heads をファイルページキャッシュにアタッチしない (2.5.49 以降)。
<DT><B>nouid32</B>

<DD>
32 ビットの UID と GID を無効にする。
これは 16 ビットで (UID や GID の) 値を格納したり、
値が返されることを想定している昔のカーネルとの互換性のためにある。
<DT><B>oldalloc</B> または <B>orlov</B>

<DD>
新しい inode に対して、old アロケータまたは Orlov アロケータを使う。
Orlov がデフォルトである。
<DT><B>resgid=</B><I>n</I> と <B>resuid=</B><I>n</I><DD>
ext2 ファイルシステムは適当な大きさの予約領域を持っている
(デフォルトでは 5%。
<B><A HREF="../../e2fsprogs/man8/mke2fs.8.html">mke2fs</A></B>(8)

および
<B><A HREF="../../e2fsprogs/man8/tune2fs.8.html">tune2fs</A></B>(8)

を見よ)。
これらのオプションはこの予約ブロックを使えるユーザーを指定する。
すなわち指定された uid を持つユーザー、あるいは指定されたグループに
所属するユーザーである。
<DT><B>sb=</B><I>n</I>

<DD>
ブロック 1 の代わりにブロック
<I>n</I>

をスーパーブロックとして用いる。
このオプションはファイルシステムが損傷を受けた場合に便利である。
(以前はスーパーブロックのコピーが 8192 ブロックおきに作成されていた。
つまりブロック 1, 8193, 16385, ... である
(大きなファイルシステムでは、この数は数千にも及ぶことがあった)。
バージョン 1.08 以降の
<B>mke2fs</B>

では  -s オプション (sparse superblock: 疎なスーパーブロック)
が使えるようになり、バージョン 1.15 以降ではこれがデフォルトになった。
注意してほしいのだが、つまりこれは、最近の
<B>mke2fs</B>

で作成された ext2 ファイルシステムは、
Linux 2.0.* では read/write での mount ができない、ということである。)
ここでのブロック数は 1k バイト単位を使う。
よって、4k バイトブロックでファイルシステム上の
論理ブロック 32768 を使いたい場合は、&quot;sb=131072&quot; とすること。
<DT><B>user_xattr</B> / <B>nouser_xattr</B>

<DD>
&quot;user.&quot; 拡張属性をサポートする (またはサポートしない)。

<P>
<P>
</DL>
<A NAME="lbAM">&nbsp;</A>
<H2>ext3 のマウントオプション</H2>

`ext3' ファイルシステムは ext2 ファイルシステムを作り替えたもので、
拡張としてジャーナリング機能を備えている。
ext2 と同じオプションに加え、以下の追加オプションをサポートしている。




<DL COMPACT>
<DT><B>journal=update</B>

<DD>
ext3 ファイルシステムのジャーナルを現在の形式に更新する。
<DT><B>journal=inum</B>

<DD>
ジャーナルが既にある場合、このオプションは無視される。
ジャーナルがない場合、ext3 ファイルシステムのジャーナルファイルを
表すための i ノードの数を指定する。
ext3 は、i ノード数が
<I>inum</I>

のファイルの古い内容を上書きして、新しいジャーナルを作成する。
<DT><B>noload</B>

<DD>
マウント時に ext3 ファイルシステムのジャーナルを読み込まない。
<DT><B>data=journal</B> / <B>data=ordered</B> / <B>data=writeback</B>

<DD>
ファイルデータのジャーナリングモードを指定する。
メタデータは常にジャーナルに書かれる。
ルートファイルシステムに対して
<B>ordered</B>

以外のモードを使用するには、
<I>rootflags=data=journal</I>

のようにして、モードをブートパラメータとしてカーネルに渡す。
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>journal</B>

<DD>
メインファイルシステムより前に、全てのデータがジャーナルに記録される。
<DT><B>ordered</B>

<DD>
これがデフォルトのモードである。
メタデータがジャーナルに記録される前に、
全てのデータがメインファイルシステムに直接書き出される。
<DT><B>writeback</B>

<DD>
データの順番は保存されない。
メタデータがジャーナルに記録された後で、
データがメインファイルシステムに書き込まれる。
これはスループットを高くするオプションらしい。
このオプションは内部ファイルシステムの完全性を保証する。
しかし、クラッシュした後のジャーナルによる回復で、
ファイルが昔のデータになることも許されている。
</DL>
</DL>

<DT><B>commit=</B><I>nrsec</I>

<DD>
全てのデータとメタデータを
<I>nrsec</I>

秒毎に同期させる。
デフォルト値は 5 秒である。
0 はデフォルトを意味する。
<P>
</DL>
<A NAME="lbAN">&nbsp;</A>
<H2>fat のマウントオプション</H2>

(注意:
<I>fat</I>

は独立したファイルシステムではなく、
<I>msdos</I>,

<I>umsdos</I>,

<I>vfat</I>

各ファイルシステムの共通部分である。)
<DL COMPACT>
<DT><B>blocksize=512</B> / <B>blocksize=1024</B> / <B>blocksize=2048</B>

<DD>
ブロックサイズを設定する (デフォルトは 512)。
<DT><B>uid=</B><I>value</I> と <B>gid=</B><I>value</I><DD>
すべてのファイルの所有者とグループを設定する
(デフォルトはカレントプロセスの uid と gid)。
<DT><B>umask=</B><I>value</I>

<DD>
umask を設定する (umask とは許可属性のビットマスクで、
立て<B>ない</B>ビットを立てたもの)。
デフォルトはカレントプロセスの umask。値は 8 進数で与える。
<DT><B>dmask=</B><I>value</I>

<DD>
ディレクトリにのみ適用される umask を設定する。
デフォルトはカレントプロセスの umask。
値は 8 進数で与える。

<DT><B>fmask=</B><I>value</I>

<DD>
通常のファイルにのみ適用される umask を設定する。
デフォルトはカレントプロセスの umask。
値は 8 進数で与える。

<DT><B>check=</B><I>value</I>

<DD>
チェックの詳細さは 3 つのレベルから選択できる:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>r[elaxed]</B>

<DD>
大文字と小文字を受け付け、それぞれ等価と見なす。
ロングネームの部分は切り捨てられる
(すなわち
<I>verylongname.foobar</I>

は
<I>verylong.foo</I>

となる)。
スペース文字を名前のそれぞれの部分 (本体と拡張子) に用いることができる。
<DT><B>n[ormal]</B>

<DD>
&quot;relaxed&quot; と似ているが、多くの特殊文字 (*, ?, &lt;, スペースなど) は
用いることができない。デフォルト。
<DT><B>s[trict]</B>

<DD>
&quot;normal&quot; と似ているが、名前には長い部分を含むことができない。
また Linux では用いることができるが MS-DOS では受け入れられない特殊文字
(+, =, スペースなど) を用いることができない。
</DL>
</DL>

<DT><B>codepage=</B><I>value</I>

<DD>
FAT や VFAT ファイルシステムで、短いファイル名に変換するときに
用いる文字のコードページを設定する。
デフォルトではコードページ 437 が用いられる。
<DT><B>conv=b[inary]</B> / <B>conv=t[ext]</B> / <B>conv=a[uto]</B>

<DD>
<I>fat</I>

ファイルシステムは CRLF&lt;--&gt;NL (MS-DOS のテキストフォーマットと UNIX の
テキストフォーマット) の変換をカーネルで行うことができる。
以下の変換モードを指定できる:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>binary</B>

<DD>
変換は行わない。デフォルト。
<DT><B>text</B>

<DD>
すべてのファイルで CRLF&lt;--&gt;NL の変換を行う。
<DT><B>auto</B>

<DD>
拡張子を見てバイナリファイルかどうか判断し、バイナリではないファイルに
対して CRLF&lt;--&gt;NL の変換を行う。
拡張子のリストは
<I>fs/fat/misc.c</I>

の先頭に記述されている。
(2.0 の段階ではリストは以下の通り:
exe, com, bin, app, sys, drv, ovl, ovr, obj,
lib, dll, pif, arc, zip, lha, lzh, zoo, tar, z, arj, tz, taz, tzp, tpz,
gz, tgz, deb, gif, bmp, tif, gl, jpg, pcx, tfm, vf, gf, pk, pxl, dvi)
</DL>
<P>

lseek を行うプログラムはカーネルレベルのテキスト変換と相性が悪い。
この変換によってデータを台無しにしてしまった人もいるので、注意すること！
<P>
バイナリモードでマウントしたファイルシステムに対して、変換ツール
(fromdos/todos) を用いることもできる。
</DL>

<DT><B>cvf_format=</B><I>module</I>

<DD>
自動検知の結果ではなく、CVF (Compressed Volume File:
圧縮ボリュームファイル) モジュール
cvf_<I>module</I>

を使うよう、ドライバに強制する。
カーネルが kmod をサポートしていれば、
cvf_format=xxx オプションとしてもオンデマンドで CVF モジュールをロードできる。
<DT><B>cvf_option=</B><I>option</I>

<DD>
CVF モジュールに渡すオプション。
<DT><B>debug</B>

<DD>
<I>debug</I>

フラグを ON にする。
バージョン文字とファイルシステムのパラメータが表示される
(これらのデータはパラメータが一貫していないような場合にも表示される)。
<DT><B>fat=12</B> / <B>fat=16</B> / <B>fat=32</B>

<DD>
12 ビット fat か 16 ビット fat か 32 ビット fat かを特定する。
これは FAT 形式の自動認識ルーチンによる設定を上書きする。
用いる際には注意すること。
<DT><B>iocharset=</B><I>value</I>

<DD>
8 ビットの文字を 16 ビットの Unicode 文字に変換する (あるいはその逆)
ときに用いる文字セット (character set)。デフォルトは iso8859-1 である。
長いファイル名は、ディスクには Unicode フォーマットで保存されている。
<DT><B>quiet</B>

<DD>
<I>quiet</I>

フラグを ON にする。
ファイルを chown や chmod しようとしたときにもエラーを返さず、単に失敗する。
用いる際には注意すること！
<DT><B>sys_immutable, showexec, dots, nodots, dotsOK=[yes|no]</B>

<DD>
FAT ファイルシステムに Unix または DOS のしきたりを
強制しようとするさまざまな試み。
おそらくは用いるべきでない。
<P>
</DL>
<A NAME="lbAO">&nbsp;</A>
<H2>hfs のマウントオプション</H2>

<DL COMPACT>
<DT><B>creator=</B><I>cccc</I><B>, type=</B><I>cccc</I>

<DD>
新しいファイルを作成する際に、
MacOS の finder で表示されるクリエータとタイプを設定する。
デフォルト値は '????' である。
<DT><B>uid=</B><I>n</I><B>, gid=</B><I>n</I>

<DD>
すべてのファイルの所有者とグループを設定する
(デフォルトはカレントプロセスの uid と gid)。
<DT><B>dir_umask=</B><I>n</I><B>, file_umask=</B><I>n</I><B>, umask=</B><I>n</I>

<DD>
全てのディレクトリ・全ての通常ファイル・
全てのファイルとディレクトリに対して使用される umask を設定する。
デフォルトはカレントプロセスの umask である。
<DT><B>session=</B><I>n</I>

<DD>
マウントする CDROM のセッションを選択する。
デフォルトでは CDROM ドライバに決定を任せる。
下層にあるデバイスが CDROM でない場合、このオプションは失敗する。
<DT><B>part=</B><I>n</I>

<DD>
デバイスのパーティション番号 n を選択する。
CDROM に対してのみ意味を持つ。
デフォルトではパーティションテーブルを全く解釈しない。
<DT><B>quiet</B>

<DD>
不正なマウントオプションに対して苦情を出さない。
<P>
</DL>
<A NAME="lbAP">&nbsp;</A>
<H2>hpfs のマウントオプション</H2>

<DL COMPACT>
<DT><B>uid=</B><I>value</I> と <B>gid=</B><I>value</I><DD>
すべてのファイルの所有者とグループを設定する
(デフォルトはカレントプロセスの uid と gid)。
<DT><B>umask=</B><I>value</I>

<DD>
umask を設定する (umask とは許可属性のビットマスクで、立って
<B>いない</B>

ビットを立てたもの)。
デフォルトはカレントプロセスの umask。
値は 8 進数で与える。
<DT><B>case=lower</B> / <B>case=asis</B>

<DD>
すべてのファイルのファイル名を小文字に変換するか、
あるいはそのままにするかを指定する
(デフォルトは
<B>case=lower</B>)

<DT><B>conv=binary</B> / <B>conv=text</B> / <B>conv=auto</B>

<DD>
<B>conv=text</B>

が指定されると、ファイルを読み取るときに CR を適宜削除する
(特に NL の前にある場合)。
<B>conv=auto</B>

が指定されると、ファイルによって
<B>conv=binary</B> と <B>conv=text</B>

を適宜選択する。
<B>conv=binary</B>

が指定されると、ファイルをそのまま読み込む。
デフォルトは
<B>conv=binary</B>。

<DT><B>nocheck</B>

<DD>
ファイルシステムの整合性チェックに失敗しても、マウントを中断しない。
<P>
</DL>
<A NAME="lbAQ">&nbsp;</A>
<H2>iso9660 のマウントオプション</H2>

ISO 9660 は CD-ROM で使われているファイルシステム構造を記述している。
(このファイルシステムタイプは DVD で使われていることもある。
<I>udf</I>

ファイルシステムも参照すること。)
<P>
<I>iso9660</I>

における通常のファイル名は 8.3 形式である
(すなわちファイル名の長さに関しては DOS と同じ制限)。
またすべての文字は大文字でなければならない。
また所有者や保護属性、リンク数、ブロックデバイスか
キャラクタデバイスかなどを表すフィールドも存在しない。
<P>
Rock Ridge は iso9660 の拡張で、上に示した unix 的機能をすべて与える。
基本的にはそれぞれのディレクトリレコードを拡張して、
付加的な情報を与えるものである。
Rock Ridge が用いられると、ファイルシステムは通常の 
UNIX ファイルシステムとは区別できなくなる
(もちろんリードオンリーであることを除いて、だが)。
<DL COMPACT>
<DT><B>norock</B>

<DD>
Rock Ridge 拡張が利用できる場合でもこれを無効にする。
<B>map</B>

も参照のこと。
<DT><B>nojoliet</B>

<DD>
Microsoft Joliet 拡張が利用できる場合でもこれを無効にする。
<B>map</B>

も参照のこと。
<DT><B>check=r[elaxed]</B> / <B>check=s[trict]</B>

<DD>
<B>check=relaxed</B>

が指定されると、ファイル名はまず小文字に変換されてから照合される。
これは
<B>norock</B>

および
<B>map=normal</B>

とともに用いた場合にだけ意味がある。
(デフォルトは
<B>check=strict</B>。)

<DT><B>uid=</B><I>value</I> と <B>gid=</B><I>value</I><DD>
ファイルシステム中のすべてのファイルのユーザー id、
グループ id を設定する。
Rock Ridge 拡張で指定されている情報を上書きできる。
デフォルトは
<B>uid=0,gid=0</B>。

<DT><B>map=n[ormal]</B> / <B>map=o[ff]</B> / <B>map=a[corn]</B>

<DD>
Rock Ridge 拡張がされていないボリュームに対して normal が指定されると、
ファイル名の大文字が小文字の ASCII にマップされ、
最後の `;1' は削除され、`;' はすべて `.' に変換される。
<B>map=off</B>

が指定されると、ファイル名の変換は行わない。
<B>norock</B>を見よ。

デフォルトは
<B>map=normal</B>。

<B>map=acorn</B>

は
<B>map=normal</B>

と似ているが、Acorn 拡張があればそれを適用する。
<DT><B>mode=</B><I>value</I>

<DD>
Rock Ridge 拡張がされていないボリュームに対して、
すべてのファイルのモードを指定された値にする。
デフォルトは、すべてのユーザーに対する読み込み属性。
Linux 2.1.37 以降では、10 進数を用いなくても良くなった
(0 で始まる数値は 8 進数とみなされる)。
<DT><B>unhide</B>

<DD>
hidden 属性のファイルや、それに関連付けられたファイルも表示する。
(通常のファイルがそれに関連付けられたファイルまたは hidden 属性のファイルと
同じファイル名である場合、通常のファイルはアクセスできなくなる。)
<DT><B>block=[512|1024|2048]</B>

<DD>
ブロックサイズを指定する。デフォルトは
<B>block=1024</B>。

<DT><B>conv=a[uto]</B> / <B>conv=b[inary]</B> / <B>conv=m[text]</B> / <B>conv=t[ext]</B>

<DD>
デフォルトは
<B>conv=binary</B>。

Linux 1.3.54 以降では、このオプションは無効となった。
またそれ以前でも binary 以外の設定は非常に危険であり、
原因不明のデータ破壊を引き起こすことがある。
<DT><B>cruft</B>

<DD>
ファイルサイズの上位バイトがゴミを含んでいる場合、
このオプションを指定することで上位バイトを無視できる。
このオプションを指定すると、ファイルの大きさは 16MB に制限される。
<DT><B>session=</B><I>x</I>

<DD>
マルチセッション CD でのセッション数を選択する (2.3.4 以降)。
<DT><B>sbsector=</B><I>xxx</I>

<DD>
セッションをセクタ xxx から始める (2.3.4 以降)。
</DL>
<P>

以下のオプションは vfat のものと同じで、
Microsoft Joliet 拡張でエンコードされた
ディスクを使うときにしか意味がない。
<DL COMPACT>
<DT><B>iocharset=</B><I>value</I>

<DD>
CD 上の 16 ビットの Unicode 文字を
8 ビットの文字に変換するときに用いる文字セット。
デフォルトは iso8859-1 である。
<DT><B>utf8</B>

<DD>
CD 上の 16 ビットの Unicode 文字を UTF-8 に変換する。
<P>
</DL>
<A NAME="lbAR">&nbsp;</A>
<H2>jfs のマウントオプション</H2>

<DL COMPACT>
<DT><B>iocharset=</B><I>name</I>

<DD>
Unicode から ASCII に変換する際に使う文字セット。
デフォルトでは変換を行わない。
UTF8 変換を行う場合は、
<B>iocharset=utf8</B>

を使うこと。
これを行うには、カーネルの
<I>.config</I>

ファイルに CONFIG_NLS_UTF8 が設定されている必要がある。
<DT><B>resize=</B><I>value</I>

<DD>
ボリュームを
<I>value</I>

ブロックに変更する。
JFS ではボリュームを増やすことのみがサポートされており、
減らすことはサポートされていない。
ボリュームが読み書き可能でマウントされている場合、
このオプションは再マウントの間のみ有効である。
<B>resize</B>

キーワードに値を指定しないと、
ボリュームはパーティションの最大サイズまで増やされる。
<DT><B>nointegrity</B>

<DD>
ジャーナルに書き込まない。
このオプションの主な目的は、
バックアップメディアからボリュームを復旧する際に、
性能の向上を可能にすることである。
システムが異常終了した場合、ボリュームの完全性は保証されない。
<DT><B>integrity</B>

<DD>
デフォルト。
メタデータの変更をジャーナルに記録する。
以前に
<B>nointegrity</B>

オプションが指定されたボリュームを通常の状態に戻すために
再マウントするときは、このオプションを使用すること。
<DT><B>errors=continue</B> / <B>errors=remount-ro</B> / <B>errors=panic</B>

<DD>
エラーが起こったときの振る舞いを指定する。
(エラーを無視し、ファイルシステムに問題があることを記録だけして続ける /
ファイルシステムをリードオンリーでマウントしなおす /
パニックを起こしてシステムを停止する)
<DT><B>noquota</B> / <B>quota</B> / <B>usrquota</B> / <B>grpquota</B>

<DD>
これらのオプションは指定可能であるが、単に無視される。
<P>
</DL>
<A NAME="lbAS">&nbsp;</A>
<H2>minix のマウントオプション</H2>

なし。
<P>
<A NAME="lbAT">&nbsp;</A>
<H2>msdos のマウントオプション</H2>

fat のマウントオプションを見よ。
<I>msdos</I>

ファイルシステムに不整合が発見されるとエラーが報告され、
ファイルシステムはリードオンリーとなる。
再マウントすることによって書き込み可能にすることができる。
<P>
<A NAME="lbAU">&nbsp;</A>
<H2>ncpfs のマウントオプション</H2>

<I>nfs</I> と同様に、<I>ncpfs</I>

の実装では mount システムコールの際にバイナリの引き数
(<I>struct ncp_mount_data</I>)

を用いる。
この引き数は
<B>ncpmount</B>(8)

によって渡すことができる。
現在のバージョンの
<B>mount</B>

(2.12) は ncpfs を扱うことができない。
<P>
<A NAME="lbAV">&nbsp;</A>
<H2>nfs のマウントオプション</H2>

通常のマウントオプションにはカーネルによって解釈される
逐語的な文字列を用いるが、
<I>nfs</I>

ファイルシステムでは
<I>struct nfs_mount_data</I>

と言う型のバイナリ引き数でオプションを渡す。
<B>mount</B>

プログラムは以下の `tag=value' 形式のオプションを解釈し、
その内容を上の構造体に代入する。
<B>rsize=</B><I>n,</I>

<B>wsize=</B><I>n,</I>

<B>timeo=</B><I>n,</I>

<B>retrans=</B><I>n,</I>

<B>acregmin=</B><I>n,</I>

<B>acregmax=</B><I>n,</I>

<B>acdirmin=</B><I>n,</I>

<B>acdirmax=</B><I>n,</I>

<B>actimeo=</B><I>n,</I>

<B>retry=</B><I>n,</I>

<B>port=</B><I>n,</I>

<B>mountport=</B><I>n,</I>

<B>mounthost=</B><I>name,</I>

<B>mountprog=</B><I>n,</I>

<B>mountvers=</B><I>n,</I>

<B>nfsprog=</B><I>n,</I>

<B>nfsvers=</B><I>n,</I>

<B>namlen=</B><I>n.</I>

オプション
<B>addr=</B><I>n</I>

は指定可能であるが単に無視される。
以下のオプションはブール値で指定する。
<B>no</B>

を前置することもでき、その場合は真偽が反転する。
<B>bg</B>,

<B>fg</B>,

<B>soft</B>,

<B>hard</B>,

<B>intr</B>,

<B>posix</B>,

<B>cto</B>,

<B>ac</B>,

<B>tcp</B>,

<B>udp</B>,

<B>lock</B>.

これらの詳細に関しては
<B>nfs</B>(5)

を見よ。
<P>
特に便利なオプションをいくつか以下に示す。
<DL COMPACT>
<DT><B>rsize=8192,wsize=8192</B>

<DD>
この指定をすると nfs コネクションは高速になる。
デフォルトのバッファサイズは 4096。
(NFSv2 は
<B>rsize</B> や <B>wsize</B>

があまり大きいと動作しない。)
<DT><B>hard</B>

<DD>
サーバーがクラッシュしたとき、NFS マウントされたファイルシステム上の
ファイルにアクセスしているプログラムはハングする。
<B>intr</B>

を同時に指定していなければ、プロセスは interrupt / kill できない。
NFS サーバが再び接続可能になると、
プログラムはその時点から何もなかったように再開する。
こちらを指定しておくと良い場合が大部分であろう。
<DT><B>soft</B>

<DD>
このオプションを指定すると nfs サーバがしばらく反応しなくなったとき、
カーネルはタイムアウト動作をするようになる。
時間の長さは
<B>timeo=time</B>

で指定できる。
このオプションは、プロセスがサーバからファイルを get するときに
nfs サーバがときどき反応しなくなったり、
リブートしたりする場合に指定すると有効かもしれない。
通常はトラブルの原因になる場合がほとんどだろう。
<DT><B>nolock</B>

<DD>
ロック動作を行わない。lockd を起動しない。
<P>
</DL>
<A NAME="lbAW">&nbsp;</A>
<H2>ntfs のマウントオプション</H2>

<DL COMPACT>
<DT><B>iocharset=</B><I>name</I>

<DD>
ファイル名を返すときに用いる文字セット。
VFAT とは異なり、NTFS は変換できない文字を含む名前を抑制する。

このオプションは推奨されない。

<DT><B>nls=</B><I>name</I>

<DD>
以前は
<I>iocharset</I>

という名前であったオプションの新しい名前。

<DT><B>utf8</B>

<DD>
ファイル名の変換に UTF-8 を用いる。
<DT><B>uni_xlate=[0|1|2]</B>

<DD>
0 (または `no' または `false') とすると、
不明な Unicode 文字に対してエスケープシーケンスを使わない。
1 (または `yes' または `true') または 2 とすると、
&quot;:&quot; で始まる VFAT スタイルの 4 バイトのエスケープシーケンスを用いる。
2 の場合は、もとのファイル名をリトルエンディアンとみなしてエンコードする。
1 の場合は、もとのファイル名をバイト順が入れ換えられた
ビッグエンディアンとみなしてエンコードする。
<DT><B>posix=[0|1]</B>

<DD>
有効になっている (posix=1) と、ファイルシステムは大文字小文字を区別する。
この場合には 8.3 形式の別名がハードリンクとして実現される。
<DT><B>uid=</B><I>value</I> と <B>gid=</B><I>value</I>, <B>umask=</B><I>value</I><DD>
ファイルシステムにあるファイルの許可属性を設定する。
umask の値は 8 進数で指定する。
デフォルトではファイルは root が所有し、
他のユーザーからは読み取り不可になっている。
<P>
</DL>
<A NAME="lbAX">&nbsp;</A>
<H2>proc のマウントオプション</H2>

<DL COMPACT>
<DT><B>uid=</B><I>value</I> と <B>gid=</B><I>value</I><DD>
これらのオプションは指定可能であるが、私の知る限り効力はない。
<P>
</DL>
<A NAME="lbAY">&nbsp;</A>
<H2>ramfs のマウントオプション</H2>

ramfs はメモリベースのファイルシステムである。
マウントすれば使用することができる。
アンマウントすると内容は消えてしまう。
Linux 2.3.99pre4 以降で存在する。
マウントオプションはない。
<P>
<A NAME="lbAZ">&nbsp;</A>
<H2>reiserfs のマウントオプション</H2>

reiserfs はジャーナリングファイルシステムである。
reiserfs のマウントオプションは
<I><A HREF="http://www.namesys.com/mount-options.html">http://www.namesys.com/mount-options.html</A></I>

でもっと完全に説明されている。
<DL COMPACT>
<DT><B>conv</B>

<DD>
バージョン 3.6 の reiserfs ソフトウェアに
バージョン 3.5 のファイルシステムをマウントさせる。
新しく作成されたオブジェクトには 3.6 の形式が使われる。
このようにしたファイルシステムは reiserfs 3.5 のツールとは互換性がなくなる。
<DT><B>hash=rupasov</B> / <B>hash=tea</B> / <B>hash=r5</B> / <B>hash=detect</B>

<DD>
reiserfs がディレクトリ内でファイルを見付けるのに、
どのハッシュ関数を使うかを選択する。
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>rupasov</B>

<DD>
Yury Yu. Rupasov が発明したハッシュ。
このハッシュは高速であり、
辞書順で近いファイル名を近いハッシュ値に対応づけることで
近接関係 (locality) が保存される。
高い確率でハッシュの衝突が起こるので、このオプションは使うべきではない。
<DT><B>tea</B>

<DD>
Jeremy Fitzhardinge が実装した Davis-Meyer 関数。
ハッシュ名にハッシュ置換ビットを使う。
ランダム性が高いので、使用される CPU コストに対してハッシュ衝突の確率が低い。
このオプションは、r5 ハッシュで EHASHCOLLISION エラーが起こる場合に使われる。
<DT><B>r5</B>

<DD>
rupasov ハッシュの修正版。
デフォルトではこれが使用され、非常に多くのディレクトリや
変わったファイル名のパターンがファイルシステムにない限り、
もっとも良い選択肢である。
<DT><B>detect</B>

<DD>
現在マウントされているファイルシステムを
<I>mount</I>

コマンドに調べさせ、どのハッシュ関数が使われているかを検出 (detect) させる。
さらに、この情報を reiserfs のスーパーブロックに書き込ませる。
古い形式のファイルシステムを初めてマウントするときにのみ役立つ。
</DL>
</DL>

<DT><B>hashed_relocation</B>

<DD>
ブロックアロケータを有効にする。
ある状況下では性能の向上が見られるかもしれない。
<DT><B>noborder</B>

<DD>
Yury Yu. Rupasov が発明した境界アロケータアルゴリズムを無効にする。
ある状況下では性能の向上が見られるかもしれない。
<DT><B>nolog</B>

<DD>
ジャーナリングを無効にする。
reiserfs が持つクラッシュからの高速な回復は失われるが、
ある状況下では僅かな性能の向上が見られる。
このオプションが有効になっている場合でも、
reiserfs は、ジャーナリング領域への実際の書き込みを保存するといった
全てのジャーナリング操作を行っている。
<I>nolog</I>

の実装は進行中の作業である。
<DT><B>notail</B>

<DD>
デフォルトでは、reiserfs は小さなファイルや「ファイルの末尾」を
ツリーの中に直接格納する。
これが
<B>LILO</B>(8)

のようなユーティリティを混乱させてしまう。
このオプションはファイルをツリーの中に格納させないようにする。
<DT><B>replayonly</B>

<DD>
ジャーナルにあるトランザクションをやり直させる。
実際にはファイルシステムをマウントしない。
主に
<I>reiserfsck</I>

が使う。
<DT><B>resize=</B><I>number</I>

<DD>
reiserfs パーティションのオンラインでの領域拡張を許可する
再マウントオプション。
そのデバイスが
<I>number</I>

ブロック数であると reiserfs に仮定させる。
このオプションは、論理的なボリューム管理 (LVM) 下にある
デバイスに対して使うように設計されている。
<I><A HREF="ftp://ftp.namesys.com/pub/reiserfsprogs">ftp://ftp.namesys.com/pub/reiserfsprogs</A></I>

から特別な
<I>resizer</I>

ユーティリティが取得できる。
<P>
</DL>
<A NAME="lbBA">&nbsp;</A>
<H2>romfs のマウントオプション</H2>

なし。
<P>
<A NAME="lbBB">&nbsp;</A>
<H2>smbfs のマウントオプション</H2>

<I>nfs</I> と同様に、<I>smbfs</I>

の実装は mount システムコールにバイナリの引き数
(<I>struct smb_mount_data</I>)

を用いる。
この引き数は
<B>smbmount</B>(8)

によって渡すことができる。
現在のバージョンの
<B>mount</B>

(2.12) は smbfs を扱うことができない。
<P>
<A NAME="lbBC">&nbsp;</A>
<H2>sysv のマウントオプション</H2>

なし。
<P>
<A NAME="lbBD">&nbsp;</A>
<H2>tmpfs のマウントオプション</H2>

以下のパラメータには、Ki, Mi, Gi (バイナリのキロ・メガ・ギガ) を表す
サフィックス
<B>k</B>,

<B>m</B>,

<B>g</B>

をつけることができる。
また再マウントのときに変更することもできる。
<DL COMPACT>
<DT><B>size=</B><I>nbytes</I>

<DD>
ファイルシステムのデフォルトの最大サイズを上書きする。
サイズはバイトで指定され、ページ単位になるように切り捨てられる。
デフォルトはメモリサイズの半分である。
<DT><B>nr_blocks=</B>

<DD>
ブロック数を設定する。
<DT><B>nr_inodes=</B>

<DD>
inode 数を設定する。
<DT><B>mode=</B>

<DD>
ルートディレクトリの最初の許可属性を設定する。
<P>
</DL>
<A NAME="lbBE">&nbsp;</A>
<H2>udf のマウントオプション</H2>

udf は Optical Storage Technology Association で定義されている
&quot;Universal Disk Format&quot; ファイルシステムであり、DVD-ROM で多く使用される。
<I>iso9660</I>

も参照すること。
<DL COMPACT>
<DT><B>gid=</B>

<DD>
デフォルトのグループを設定する。
<DT><B>umask=</B>

<DD>
デフォルトの umask を設定する。
値は 8 進数で指定する。
<DT><B>uid=</B>

<DD>
デフォルトのユーザーを設定する。
<DT><B>unhide</B>

<DD>
隠しファイルも見せる。
<DT><B>undelete</B>

<DD>
削除されたファイルもリストに見せる。
<DT><B>nostrict</B>

<DD>
厳密に適合させない。



<DT><B>iocharset</B>

<DD>
NLS 文字セットを設定する。
<DT><B>bs=</B>

<DD>
ブロックサイズを設定する (2048 以外では動作しない)。
<DT><B>novrs</B>

<DD>
ボリュームシーケンスの確認をスキップする。
<DT><B>session=</B>

<DD>
CDROM セッションのカウントを 0 から始める。
デフォルトは最終セッション。

<DT><B>anchor=</B>

<DD>
標準のアンカーの位置を上書きする。デフォルトは 256。
<DT><B>volume=</B>

<DD>
VolumeDesc の位置を上書きする (未実装)。
<DT><B>partition=</B>

<DD>
PartitionDesc の位置を上書きする (未実装)。
<DT><B>lastblock=</B>

<DD>
ファイルシステムの最終ブロックを設定する。
<DT><B>fileset=</B>

<DD>
fileset ブロックの位置を上書きする (未実装)。
<DT><B>rootdir=</B>

<DD>
ルートディレクトリの位置を上書きする (未実装)。
<P>
</DL>
<A NAME="lbBF">&nbsp;</A>
<H2>ufs のマウントオプション</H2>

<DL COMPACT>
<DT><B>ufstype=</B><I>value</I>

<DD>
UFS は他の OS で広く用いられているファイルシステムである。
ただし実装が OS によって異なっているのが問題である。
ある種の実装における機能には文書化されていないものがあり、
ufs の形式を自動的に認識するのは難しい。
したがってユーザーは ufs の形式をマウントオプションで指定しなければならない。
指定できる値は以下の通り:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>old</B>

<DD>
ufs の古い形式。これがデフォルトで、リードオンリー
(-r オプションを忘れずに指定すること)。
<DT><B>44bsd</B>

<DD>
BSD ライクなシステム (NetBSD, FreeBSD, OpenBSD)
で作られたファイルシステムに用いる。
<DT><B>sun</B>

<DD>
SunOS や Solaris on Sparc
で作られたファイルシステムに用いる。
<DT><B>sunx86</B>

<DD>
Solaris on x86
で作られたファイルシステムに用いる。
<DT><B>hp</B>

<DD>
HP-UX で作られたファイルシステムに用いる。リードオンリー。
<DT><B>nextstep</B>

<DD>
(NeXT ステーションの) NeXTStep
で作られたファイルシステムに用いる (現在はリードオンリー)。
<DT><B>nextstep-cd</B>

<DD>
NeXTStep CDROM (block_size == 2048) に用いる。リードオンリー。
<DT><B>openstep</B>

<DD>
OpenStep で作られたファイルシステムに用いる (現在はリードオンリー)。
同じファイルシステムが Mac OS X でも使われている。
</DL>
</DL>

<P>
<DT><B>onerror=</B><I>value</I>

<DD>
エラー時の振る舞いを設定する:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>panic</B>

<DD>
エラーが起こったらカーネルパニックを起こす。
<DT><B>[lock|umount|repair]</B>

<DD>
現在のところはこれらのオプションはなにもしない。
エラーが起こるとコンソールメッセージが表示されるだけである。
</DL>
</DL>

<P>
</DL>
<A NAME="lbBG">&nbsp;</A>
<H2>umsdos のマウントオプション</H2>

msdos のマウントオプションを見よ。
<B>dotsOK</B>

オプションは
<I>umsdos</I>

では当然無効である。
<P>
<A NAME="lbBH">&nbsp;</A>
<H2>vfat のマウントオプション</H2>

まず
<I>fat</I>

のマウントオプションが認識される。
<B>dotsOK</B>

オプションは
<I>vfat</I>

では当然無効である。
さらに以下のオプションが存在する。
<DL COMPACT>
<DT><B>uni_xlate</B>

<DD>
扱うことのできない Unicode 文字を特殊なエスケープシーケンスに変換する。
これは Unicode 文字を含むファイルをバックアップ、
レストアするのに用いることができる。
このオプションを指定しないと、変換できない場合には `?' が用いられる。
エスケープ文字には `:' が用いられる
(これは通常 vfat ファイルシステムでは用いることのできない文字であるため)。
用いられるエスケープシーケンスは u を Unicode 文字とすると以下の通り。
':', (u &amp; 0x3f), ((u&gt;&gt;6) &amp; 0x3f), (u&gt;&gt;12)。
<DT><B>posix</B>

<DD>
大文字か小文字かだけが異なる 2 つのファイル名を識別できるようにする。
<DT><B>nonumtail</B>

<DD>
<I>name~num.ext</I>

を用いる前に、まずシーケンス番号のない短縮名に変換しようとする。
<DT><B>utf8</B>

<DD>
UTF8 は、コンソールで用いられる Unicode の 8 ビットエンコードに対して
安全なファイルシステムである。
このオプションを指定すると UTF8 が有効になる。
'uni_xlate' が設定されていると UTF8 は無効になる。
<DT><B>shortname=[lower|win95|winnt|mixed]</B>

<DD>
<P>
8.3 形式の文字列に合うようなファイル名を
生成したり表示したりする動作を定義する。
ファイルにロングネームがある場合は、いつでも指定された動作で表示する。
以下の 4 つのモードがある:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><I>lower</I>

<DD>
ショートネームを表示する際に小文字にする。
ショートネームに小文字が含まれる場合は、ロングネームで生成する。
<DT><I>win95</I>

<DD>
ショートネームを表示する際に大文字にする。
ショートネームに小文字が含まれる場合は、ロングネームで生成する。
<DT><I>winnt</I>

<DD>
ショート名をそのまま表示する。
ショートネームが全て小文字または全て大文字でない場合は、
ロングネームで生成する。
<DT><I>mixed</I>

<DD>
ショート名をそのまま表示する。
ショートネームに小文字が含まれる場合は、ロングネームで生成する。
</DL>
</DL>

<P>
デフォルトは &quot;lower&quot; である。
<P>
</DL>
<A NAME="lbBI">&nbsp;</A>
<H2>usbfs のマウントオプション</H2>

<DL COMPACT>
<DT><B>devuid=</B><I>uid</I>, <B>devgid=</B><I>gid</I>, <B>devmode=</B><I>mode</I><DD>
usbfs ファイルシステムにあるデバイスファイルの
所有者・グループ・モードを設定する
(デフォルトは uid=gid=0, mode=0644)。
このモードは 8 進数で指定する。
<DT><B>busuid=</B><I>uid</I>, <B>busgid=</B><I>gid</I>, <B>busmode=</B><I>mode</I><DD>
usbfs ファイルシステムにあるバスディレクトリの
所有者・グループ・モードを設定する
(デフォルトは uid=gid=0, mode=0555)。
このモードは 8 進数で指定する。
<DT><B>listuid=</B><I>uid</I>, <B>listgid=</B><I>gid</I>, <B>listmode=</B><I>mode</I><DD>
ファイル
<I>devices</I>

の所有者・グループ・モードを設定する
(デフォルトは uid=gid=0, mode=0444)。
このモードは 8 進数で指定する。
<P>
</DL>
<A NAME="lbBJ">&nbsp;</A>
<H2>xenix のマウントオプション</H2>

なし。
<P>
<A NAME="lbBK">&nbsp;</A>
<H2>xfs のマウントオプション</H2>

<DL COMPACT>
<DT><B>biosize=</B><I>size</I>

<DD>
バッファされる I/O サイズを設定する (デフォルトのサイズは 64K)。
<I>size</I>

は、希望する I/O サイズの (基数 2 の) 対数で表さなければならない。
このオプションに指定される有効な値は 14<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>〜 16 である<BR>
(つまり、16K, 32K, 64K バイトである)。
ページサイズが 4K バイトのマシンでは、
13 (8K バイト) も
<I>size</I>

として有効である。
バッファされる I/O サイズは、
<B><A HREF="../../LDP_man-pages/man2/ioctl.2.html">ioctl</A></B>(2)

システムコールを使って、各ファイル単位で変更することもできる。
<DT><B>dmapi  /  xdsm</B>

<DD>
DMAPI (Data Management API, データ管理 API) イベント呼び出しを有効にする。
<DT><B>logbufs=</B><I>value</I>

<DD>
メモリ内ログバッファの数を指定する。
有効な数値は 2 〜 8 の範囲である。
デフォルトの値は、
ブロックサイズが 64K のファイルシステムには 8 バッファ、
ブロックサイズが 23K のファイルシステムには 4 バッファ、
ブロックサイズが 16K のファイルシステムには 3 バッファ、
他の設定では 2 バッファである。
バッファ数を増やすと、同じ実行負荷に対して性能が良くなる。
しかし、追加されるログバッファとそれに関連する制御構造体で使われる
メモリのコストがかかる。
<DT><B>logbsize=</B><I>value</I>

<DD>
各メモリ内ログバッファのサイズを設定する。
有効なサイズは 16384 (16K) と 32768 (32K) である。
デフォルトの値は、32MB 以上のメモリを持つマシンでは 32768 である。
それ以下のマシンでは 16384 がデフォルトである。
<DT><B>logdev=</B><I>device</I> と <B>rtdev=</B><I>device</I><DD>
外部ログ (メタデータジャーナル) とリアルタイムデバイスの
両方または片方を使う。
XFS ファイルシステムには、データセクション・ログセクション・
リアルタイムセクションの 3 つの部分がある。
リアルタイムセクションは省略することができる。
ログセクションはデータセクションと分離することも、
データセクションに含めることもできる。
<B>xfs</B>(5)

を参照すること。
<DT><B>noalign</B>

<DD>
データ割り当てをストライプユニット境界に配置しない。
<DT><B>noatime</B>

<DD>
ファイルを読み込んだときに、タイムスタンプを更新しない。
<DT><B>norecovery</B>

<DD>
ログを使った回復を実行せずにファイルシステムをマウントする。
ファイルシステムが正常にアンマウンントされなかった場合に、
<B>norecovery</B>

モードでマウントされると、不整合が起こりやすい。
そのため、いくつかのファイルやディレクトリにアクセスできないかもしれない。
<B>norecovery</B>

でマウントされるファイルシステムは、
リードオンリーでマウントしなければならない。
さもなければ、マウントに失敗するだろう。
<DT><B>nouuid</B>

<DD>
ファイルシステム uuid を無視する。
これは重複する uuid によるエラーを回避する。
<DT><B>osyncisdsync</B>

<DD>
O_SYNC フラグを設定してオープンしたファイルに、
O_DSYNC フラグが使われた場合と同じ動作で書き込む。
データの安全性を危険に晒すことなく、よりよい性能が得られる。
しかし、このオプションが有効になっている場合、
システムがクラッシュすると、
O_SYNC 書き込みによるタイムスタンプの更新が失われる。
<DT><B>quota</B> / <B>usrquota</B> / <B>uqnoenforce</B>

<DD>
ユーザーディスク quota のアカウントを有効にして、
制限を (オプションとして) 守らせる。
<DT><B>grpquota</B> / <B>gqnoenforce</B>

<DD>
グループディスク quota のアカウントを有効にして、
制限を (オプションとして) 守らせる。
<DT><B>sunit=</B><I>value</I> と <B>swidth=</B><I>value</I><DD>
RAID デバイスのストライプユニットと幅を指定する。
または、ストライプボリュームを指定する。
このオプションが指定されていない場合、
mkfs の時に RAID デバイスに対して
ストライプボリューム・幅・ユニットを指定して
ファイルシステムが作成されていれば、
mount システムコールは値をスーパーブロックから取り出す。
RAID デバイス上に直接作成されたファイルシステムでは、
スーパーブロックにある情報を上書きするために、
これらのオプションを使うことができる。
ただし、ファイルシステムが作成された後で、
下層にあるディスクレイアウトが変更される場合。
<B>sunit</B>

オプションが指定された場合、
<B>swidth</B>

が必要である。
<B>swidth</B>

は
<B>sunit</B>

の値の倍数でなければならない。
<P>
</DL>
<A NAME="lbBL">&nbsp;</A>
<H2>xiafs のマウントオプション</H2>

なし。xiafs は特に欠点のないファイルシステムであるが、
あまり用いられておらず、メンテナンスされていない。
おそらく用いない方が良いだろう。
Linux のバージョン 2.1.21 以降では xiafs はカーネルソースから削除された。
<P>
<A NAME="lbBM">&nbsp;</A>
<H2>loop デバイス</H2>

残ったタイプとしてもう 1 つ、loop デバイスを用いたマウントがある。
例えば以下のコマンド
<P>
<PRE>
<B>  mount /tmp/fdimage /mnt -t msdos -o loop=/dev/loop3,blocksize=1024</B>
</PRE>

<P>
は loop デバイス
<I>/dev/loop3</I>

をファイル
<I>/tmp/fdimage</I>

に関連付け、そしてこのデバイスを
<I>/mnt</I>

にマウントする。
<P>
このタイプのマウントの際には 3 つのオプションが指定できる。
<B>loop</B>, <B>offset</B>, <B>encryption</B>

である。
これらは実際には
<B><A HREF="../man8/losetup.8.html">losetup</A></B>(8)

のオプションである。
(これらのオプションはファイルシステムタイプに固有のオプションの他に
使用することができる。)
<P>
loop デバイスの名前をコマンドラインで省略した場合
(`<B>-o loop</B>' のみを指定した場合) は
<B>mount</B>

はまだ使われていない loop デバイスを探してそれを利用する。
<I>/etc/mtab</I>

を
<I>/proc/mounts</I>

へのシンボリックリンクにするような馬鹿をしなければ、
<B>mount</B>

によって割り当てられたいずれの loop デバイスも
<B>umount</B>

によって解放できる。
`losetup -d' を用いれば loop デバイスを手動で解放することもできる。
詳細は
<B><A HREF="../man8/losetup.8.html">losetup</A></B>(8)

を見よ。
<P>
<A NAME="lbBN">&nbsp;</A>
<H2>返り値</H2>

<B>mount</B>

は以下のコードを返す (ビットは OR できる):
<DL COMPACT>
<DT><B>0</B>

<DD>
成功した。
<DT><B>1</B>

<DD>
呼び出しやパーミッションが正しくない。
<DT><B>2</B>

<DD>
システムエラー (メモリ不足、fork できなかった、loop デバイスが足りない)。
<DT><B>4</B>

<DD>
<B>mount</B>

内部のバグ、または
<B>mount</B>

が
<B>nfs</B>

に対応していない。
<DT><B>8</B>

<DD>
ユーザーによる中断。
<DT><B>16</B>

<DD>
/etc/mtab の書き込み時またはロック時の問題がある。
<DT><B>32</B>

<DD>
マウントに失敗した。
<DT><B>64</B>

<DD>
(訳註: &quot;mount -a&quot; などで) 一部が成功した。
<P>
</DL>
<A NAME="lbBO">&nbsp;</A>
<H2>ファイル</H2>

<DL COMPACT>
<DT><I>/etc/fstab</I>

<DD>
ファイルシステムの一覧表
<DT><I>/etc/mtab</I>

<DD>
マウントされたファイルシステムの一覧表
<DT><I>/etc/mtab~</I>

<DD>
ロックファイル
<DT><I>/etc/mtab.tmp</I>

<DD>
テンポラリファイル
<DT><I>/etc/filesystems</I>

<DD>
試行するファイルシステムタイプの一覧
<P>
</DL>
<A NAME="lbBP">&nbsp;</A>
<H2>関連項目</H2>

<B><A HREF="../../LDP_man-pages/man2/mount.2.html">mount</A></B>(2),

<B><A HREF="../../LDP_man-pages/man2/umount.2.html">umount</A></B>(2),

<B><A HREF="../man5/fstab.5.html">fstab</A></B>(5),

<B><A HREF="../man8/umount.8.html">umount</A></B>(8),

<B><A HREF="../man8/swapon.8.html">swapon</A></B>(8),

<B>nfs</B>(5),

<B>xfs</B>(5),

<B><A HREF="../../e2fsprogs/man8/e2label.8.html">e2label</A></B>(8),

<B>xfs_admin</B>(8),

<B><A HREF="../../0MultiFileIdx/man8/mountd.8.html">mountd</A></B>(8),

<B><A HREF="../../0MultiFileIdx/man8/nfsd.8.html">nfsd</A></B>(8),

<B><A HREF="../../e2fsprogs/man8/mke2fs.8.html">mke2fs</A></B>(8),

<B><A HREF="../../e2fsprogs/man8/tune2fs.8.html">tune2fs</A></B>(8),

<B><A HREF="../man8/losetup.8.html">losetup</A></B>(8)

<A NAME="lbBQ">&nbsp;</A>
<H2>バグ</H2>

ファイルシステムに整合性がないと、クラッシュを引き起こす場合がある。
<P>

Linux のファイルシステムのなかには
<B>-o sync</B> と <B>-o dirsync</B>

をサポートしていないものがある。
(ext2, ext3 ファイルシステムは BSD 流の同期更新をサポートして<I>いる</I>。
<B>sync</B>

オプションとともにマウントすれば良い。)
<P>

<B>-o remount</B>

でマウントパラメータが変更されないことがある (例えば
<I>ext2fs</I>

特有のパラメータは、
<B>sb</B>

を除いてすべて remount で変更可能であるが、
<I>fatfs</I>

では
<B>gid</B>

や
<B>umask</B>

を変更できない)。
<P>

ラベルまたは uuid によるマウントは、そのデバイスの名前が
<I>/proc/partitions</I>

にリストされている場合にのみ可能である。
特に、カーネルが devfs を付けてコンパイルされているにも関わらず、
devfs がマウントされていない場合にも失敗する。
<A NAME="lbBR">&nbsp;</A>
<H2>履歴</H2>

<B>mount</B>

コマンドは Version 5 の AT&amp;T UNIX には存在していた。
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">オプション</A><DD>
<DT><A HREF="#lbAF">ファイルシステム独自のマウントオプション</A><DD>
<DT><A HREF="#lbAG">adfs のマウントオプション</A><DD>
<DT><A HREF="#lbAH">affs のマウントオプション</A><DD>
<DT><A HREF="#lbAI">coherent のマウントオプション</A><DD>
<DT><A HREF="#lbAJ">devpts のマウントオプション</A><DD>
<DT><A HREF="#lbAK">ext のマウントオプション</A><DD>
<DT><A HREF="#lbAL">ext2 のマウントオプション</A><DD>
<DT><A HREF="#lbAM">ext3 のマウントオプション</A><DD>
<DT><A HREF="#lbAN">fat のマウントオプション</A><DD>
<DT><A HREF="#lbAO">hfs のマウントオプション</A><DD>
<DT><A HREF="#lbAP">hpfs のマウントオプション</A><DD>
<DT><A HREF="#lbAQ">iso9660 のマウントオプション</A><DD>
<DT><A HREF="#lbAR">jfs のマウントオプション</A><DD>
<DT><A HREF="#lbAS">minix のマウントオプション</A><DD>
<DT><A HREF="#lbAT">msdos のマウントオプション</A><DD>
<DT><A HREF="#lbAU">ncpfs のマウントオプション</A><DD>
<DT><A HREF="#lbAV">nfs のマウントオプション</A><DD>
<DT><A HREF="#lbAW">ntfs のマウントオプション</A><DD>
<DT><A HREF="#lbAX">proc のマウントオプション</A><DD>
<DT><A HREF="#lbAY">ramfs のマウントオプション</A><DD>
<DT><A HREF="#lbAZ">reiserfs のマウントオプション</A><DD>
<DT><A HREF="#lbBA">romfs のマウントオプション</A><DD>
<DT><A HREF="#lbBB">smbfs のマウントオプション</A><DD>
<DT><A HREF="#lbBC">sysv のマウントオプション</A><DD>
<DT><A HREF="#lbBD">tmpfs のマウントオプション</A><DD>
<DT><A HREF="#lbBE">udf のマウントオプション</A><DD>
<DT><A HREF="#lbBF">ufs のマウントオプション</A><DD>
<DT><A HREF="#lbBG">umsdos のマウントオプション</A><DD>
<DT><A HREF="#lbBH">vfat のマウントオプション</A><DD>
<DT><A HREF="#lbBI">usbfs のマウントオプション</A><DD>
<DT><A HREF="#lbBJ">xenix のマウントオプション</A><DD>
<DT><A HREF="#lbBK">xfs のマウントオプション</A><DD>
<DT><A HREF="#lbBL">xiafs のマウントオプション</A><DD>
<DT><A HREF="#lbBM">loop デバイス</A><DD>
<DT><A HREF="#lbBN">返り値</A><DD>
<DT><A HREF="#lbBO">ファイル</A><DD>
<DT><A HREF="#lbBP">関連項目</A><DD>
<DT><A HREF="#lbBQ">バグ</A><DD>
<DT><A HREF="#lbBR">履歴</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:50 GMT, December 05, 2022
</BODY>
</HTML>
