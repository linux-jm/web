
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of WATCH</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>WATCH</H1>
Section: Linux User's Manual (1)<BR>Updated: 1999 Apr 3<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/procps/release/man1/watch.1">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

watch - プログラムを定期的に実行し、出力をフルスクリーンで表示する
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>watch</B>

<I>[-dhvt] [-n &lt;seconds&gt;] [--differences[=cumulative]] [--help] [--interval=&lt;seconds&gt;] [--no-title] [--version] &lt;command&gt;</I>

<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

<B>watch</B>

は
<I>command</I>

を繰り返し実行し、その出力を表示する (一画面に収まる一杯まで)。
<B>watch</B>

を用いると、プログラムの出力の経時変化を監視できる。
デフォルトでは、プログラムは 2 秒おきに実行される。
時間の間隔を変えたい場合は、
<I>-n</I> または <I>--interval</I>

を用いる。
<P>

<I>-d</I> または <I>--differences</I>

このフラグを指定すると、更新が行われたとき、
前回と異なっている部分をハイライト表示する。
<I>cumulative</I>

オプションをつけると、ハイライトが &quot;sticky&quot; になる。
すなわち、
実行が開始されてから変更があった全ての部分をハイライトで表示する。
<I>-t</I> または <I>--no-title</I>

このオプションを指定すると、画面の先頭行の
時間間隔・コマンド名・現在時刻を示すヘッダと、
その後の空行が表示されなくなる。
<P>

<B>watch</B>

は中断されるまで実行を続ける。
<A NAME="lbAE">&nbsp;</A>
<H2>注意</H2>

<I>command</I>

は &quot;sh -c&quot; に与えられる。したがって
<I>command</I>

を望みの通りに動作させるには、クォートを余分に用いる必要があるかもしれない。
<P>

POSIX のオプション処理が用いられる
(つまり、オプション処理は最初にオプション以外の引数が現れた時点で終了する)
ことに注意して欲しい。
つまり、
<I>command</I>

以降のフラグを
<B>watch</B>

は解釈しない。
<A NAME="lbAF">&nbsp;</A>
<H2>例</H2>

<P>

メールを監視する:
<DL COMPACT>
<DT><DD>
watch -n 60 from
</DL>
<P>

ディレクトリの中身の変化を監視する:
<DL COMPACT>
<DT><DD>
watch -d ls -l
</DL>
<P>

ユーザー joe の所有するファイルのみを監視する:
<DL COMPACT>
<DT><DD>
watch -d 'ls -l | fgrep joe'
</DL>
<P>

クォートの効果を見てみたい場合:
<DL COMPACT>
<DT><DD>
watch echo $$
<DT><DD>
watch echo '$$'
<DT><DD>
watch echo &quot;'&quot;'$$'&quot;'&quot;
</DL>
<P>

管理者による最新のカーネルのインストール状況を監視する:
<DL COMPACT>
<DT><DD>
watch uname -r
</DL>
<P>

(ただの冗談です)
<A NAME="lbAG">&nbsp;</A>
<H2>バグ</H2>

端末のリサイズ時に、スクリーンは正しく再描画されない。
次の更新スケジュールを待たなければならない。
<I>--differences</I>

によるハイライト表示は、その更新の際に全て失われる。
<P>

非印字文字はプログラム出力から取り除かれる。
これらをみたい場合は、コマンドのパイプラインのどこかで
&quot;cat -v&quot; を用いること。
<A NAME="lbAH">&nbsp;</A>
<H2>作者</H2>

もともとの
<B>watch</B>

は Tony Rems &lt;<A HREF="mailto:rembo@unisoft.com">rembo@unisoft.com</A>&gt; が 1991 年に書いた。
Francois Pinard が修正・変更を行った。
Mike Coleman &lt;<A HREF="mailto:mkc@acm.org">mkc@acm.org</A>&gt; が 1999 年に書き直し、
新しい機能を追加した。
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">注意</A><DD>
<DT><A HREF="#lbAF">例</A><DD>
<DT><A HREF="#lbAG">バグ</A><DD>
<DT><A HREF="#lbAH">作者</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:45 GMT, December 05, 2022
</BODY>
</HTML>
