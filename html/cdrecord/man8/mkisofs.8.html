
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of MKISOFS</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../jm.css">
</HEAD>
<BODY>

<H1>MKISOFS</H1>
Section: Maintenance Commands (8)<BR>Updated: 17. Jan 2000<BR><A HREF="#index">Index</A>
<A HREF="../../../index.html">JM Home Page</A>
<A HREF="../../../manual/cdrecord/release/man8/mkisofs.8">roff page</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

mkisofs - はオプションの Rock Ridge 属性で ISO9660 ファイルシステムを作成する。
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>mkisofs</B>

[
<B>-a</B>

]
[
<B>-abstract </B>

<I>FILE</I>

]
[
<B>-biblio</B>

<I>FILE</I>

]
[
<B>-b</B>

<I>eltorito_boot_image</I>

]
[
<B>-B</B>

<I>sparc_boot_image_list</I>

]
[
<B>-G</B>

<I>generic_boot_image</I>

]
[
<B>-gui</B>

]
[
<B>-C</B>

<I>#,#</I>

]
[
<B>-hard-disk-boot</B>

]
[
<B>-no-emul-boot</B>

]
[
<B>-no-boot</B>

]
[
<B>-boot-load-seg</B>

]
[
<B>-boot-load-size</B>

]
[
<B>-boot-info-table</B>

]
[
<B>-c</B>

<I>boot_catalog</I>

]
[
<B>-copyright </B>

<I>FILE</I>

]
[
<B>-A</B>

<I>application_id</I>

]
[
<B>-f</B>

]
[
<B>-d</B>

]
[
<B>-D</B>

]
[
<B>-hide</B>

<I>glob</I>

]
[
<B>-hide-list</B>

<I>file</I>

]
[
<B>-hide-joliet</B>

<I>glob</I>

]
[
<B>-hide-joliet-list</B>

<I>file</I>

]
[
<B>-hide-joliet-trans-tbl</B>

]
[
<B>-hide-rr-moved</B>

]
[
<B>-J</B>

]
[
<B>-l</B>

]
[
<B>-L</B>

]
[
<B>-log-file</B>

<I>log_file</I>

]
[
<B>-M</B>

<I>path | device</I>

]
[
<B>-nobak</B>

]
[
<B>-no-bak</B>

]
[
<B>-no-split-symlink-components</B>

]
[
<B>-no-split-symlink-fields</B>

]
[
<B>-path-list</B>

<I>file</I>

]
[
<B>-p</B>

<I>preparer</I>

]
[
<B>-print-size</B>

]
[
<B>-P</B>

<I>publisher</I>

]
[
<B>-quiet</B>

]
[
<B>-r</B>

]
[
<B>-R</B>

]
[
<B>-sysid</B>

<I>ID</I>

]
[
<B>-T</B>

]
[
<B>-U</B>

]
[
<B>-v</B>

]
[
<B>-V</B>

<I>volid</I>

]
[
<B>-volset</B>

<I>ID</I>

]
[
<B>-volset-size</B>

<I>#</I>

]
[
<B>-volset-seqno</B>

<I>#</I>

]
[
<B>-x</B>

<I>path</I>

]
[
<B>-exclude-list</B>

<I>file</I>

]
[
<B>-z</B>

]
[
<B>-m</B>

<I>glob</I>

]
<B>-o</B>

<I>filename</I>

<I>pathspec [pathspec]</I>

<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

<B>mkisofs</B>

は効果的に ISO9660 ファイルシステムを生成するプリマスタリングプログラ
ムである。与えられたディレクトリツリーのスナップショットを撮り、ブロッ
クデバイスに書き込むときに ISO9660 ファイルシステムに一致するバイナリ
イメージを生成する。
<P>

<B>mkisofs</B>

はまた、Rock Ridge Interchange Protocol で指定された System Use
Sharing Protocol レコードを生成することができる。これは UNIX ホストへ
の ISO9660 ファイルシステムの詳細な説明に使用され、また長いファイル名
や UID/GID、POSIX パーミッション、そしてブロックやキャラクタデバイスの
情報を提供する。
<P>

Rock Ridge が使用されていても、それぞれの ISO9660 ファイルシステムに書
き込まれるファイルは、8.3 フォーマット (8 文字、ピリオド、3 文字ですべ
て大文字) でファイル名を保持していなければならない。このファイル名は 
Rock Ridge 拡張を使用するようにできないシステム (MS-DOS のように) で使
用され、それぞれのファイル名は、それぞれのディレクトリで、同じディレク
トリの中では他のファイル名と異なるものでなければならない。
<B>mkisofs </B>

は一般的に UNIX ファイル名を要求されているように大文字にしたり、省略す
ることにより正しい名前を作ろうとするが、省略された名前が全て唯一のもの
でない場合があるので、しばしば満足できない結果を出してしまうことがある。
<B>mkisofs</B>

はそれぞれのファイル名に重み付けをし、もし二つの異なるファイル名が同じ
になってしまう場合、プライオリティの低い方は拡張子が 3 桁の数字(
数字は唯一のものと保証される)に変更される。
この例として、ファイル名 foo.bar と foo.bar.~1~ は、foo.bar.~1~ は 
FOO.000;1 として書き込まれ、そして foo.bar は FOO.BAR;1 として書き込ま
れる。
<P>

<B>mkisofs</B>

は書き込み機と直接やりとりするために作成されていないことに注意すること。
ほとんどの書き込み機は製造元ごとに異なる独自のコマンドセットを持ってい
て、そして実際にディスクを焼くためには専門的なツールが必要である。
<B>cdwrite</B>

ユーティリティは Linux で動作し、この仕事を行うツールのひとつである。
<B>cdwrite</B>

の最新のバージョンは Phillips/IMS/Kodak, HP と Yamaha ドライブとやりと
りすることができる。ほとんどの書き込み機は ISO9660 イメージの直接的な
イメージコピーを書き込み機に対して行うことができる DOS ソフトウェアの
何らかのバージョンがついている。
<B>cdwrite</B>

の現在のバージョンは sunsite.unc.edu:
/utils/disk-management/cdwrite-2.0.tar.gz からもってくることができる。
cdwrite は最近積極的に保守されていないことに注意すること。
<P>

<B>cdrecord</B>

ユーティリティは実際のディスクに書き込みを行うもうひとつのユーティリティ
である。最新のバージョンの
<B>cdrecord</B>

は <A HREF="ftp://ftp.fokus.gmd.de/pub/unix/cdrecord">ftp://ftp.fokus.gmd.de/pub/unix/cdrecord</A> から持ってくることができる。
<P>

また、ほとんどの CD 書き込み機はタイミングに対して非常にうるさい。一度
ディスクを焼きはじめたら、終了する前に書き込み機のバッファを空にさせる
ことはできず、空にしてしまうと壊れたディスクができて終わる。従って
ディスクが書き込まれているすべての時間に途切れないデータストリームを持
続できることが重要である。
<P>

<BR>

<B>pathspec</B>

は ISO9660 ファイルシステムにコピーするディレクトリツリーのパスである。
複数のパスが指定可能で、
<B>mkisofs</B>

は CD-ROM イメージを作成するすべての指定されたパスの組み合わせから見つ
けたファイルを組み合わせる。
<P>

ルートディレクトリ以外の場所にパスを結合することは可能で、元のファイル
システムの中にあるファイルやディレクトリと異なった名前で CD-ROM イメー
ジに結合することができる。これはいくつかの例で図示するのがもっとも簡単
だ。ローカルファイル ../old.lis が存在するものと仮定して、それを 
CD-ROM イメージに含めたいとする。
<P>
<P>
<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>foo/bar/=../old.lis<BR>
<P>
は、CD-ROM イメージにファイル old.lis を /foo/bar/old.lis に含み、同時に
<P>
<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>foo/bar/xxx=../old.lis<BR>
<P>
は CD-ROM イメージにファイル old.lis を /foo/bar/xxx に含む。同じ
種類の文法はディレクトリにも同じように使用することができる。
<B>mkisofs</B>

は CD-ROM イメージ上に結合場所が存在するような必要なすべてのディレクト
リを作成する。ディレクトリはパスのうちの一つに出現する必要はない。作業
中にこのように作成されるすべてのディレクトリは、パーミッション 0555 を
持ち、mkisofs を実行している人の所有となる。もしあなたが他のパーミッショ
ンや中間のディレクトリの所有者を希望した場合、もっとも簡単な解決法は 
mkisofs がそれらを作成する必要がないような実体のディレクトリを作成する
ことである。
<A NAME="lbAE">&nbsp;</A>
<H2>オプション</H2>

<DL COMPACT>
<DT><B>-a</B>

<DD>
ISO9660 ファイルシステム上のすべてのファイルを含む。通常 &quot;~&quot; や &quot;#&quot; を
含むファイルは通常含まれない (これらは多くの場合 UNIX 下のエディタのバッ
クアップファイルである)。このオプションは、現在は廃止(obsolete)されて
いる(-no-bak オプションを見よ)。
<DT><B>-abstract</B><I> FILE</I>

<DD>
要約ファイル名を指定する。このパラメータはファイル
<B>.mkisofsrc</B>

で ABST=filename として設定される。
もし両方の場所で指定された場合、コマンドラインで指定したものが使用される。
<DT><B>-A</B><I> application_id</I>

<DD>
ボリュームヘッダに書き込まれる文字列を指定する。これはディスクにあるア
プリケーションを説明するであろう。
ディスク上には 128 文字の情報の分の容量がある。
このパラメータはファイル
<I>.mkisofsrc</I>

で APPI=id として設定される。
もし両方の場所で指定された場合、コマンドラインのものが使用される。
<DT><B>-biblio</B><I> FILE</I>

<DD>
書誌情報ファイルを指定する。このパラメータはファイル
<B>.mkisofsrc</B>

で BIBLO=filename として設定される。もし両方の場所で指定された場合、コマン
ドラインのものが使用される。
<DT><B>-b</B><I> eltorito_boot_image</I>

<DD>
&quot;El Torito&quot; ブータブル CD を作成するときに使用されるブートイメージのパ
スとファイル名を指定する。パス名は
<B>mkisofs</B>

に対して指定している元の相対パスでなければならない。
このオプションは &quot;El Torito&quot; ブータブル CD を作成するのに必須である。
ブートイメージは 1.2MB, 1.44MB または 2.88MB フロッピーの正確なサイズ
でなければならず、また
<B>mkisofs</B>

は、ISO9660 ファイルシステムを出力する際にこのサイズを使用する。最初の 
512 バイトセクタはブートイメージから読まれるものとされている (通常の
フロッピードライブをエミュレートするのに必須である)。これは、たとえば、
もしブートイメージが LILO ベースのブートフロッピーであった場合に働く。
<DT><B>-B</B><I> img_sun4,img_sun4c,img_sun4m,img_sun4d,img_sun4e</I>

<DD>
Sparc システムでのブータブル CD の作成に必要なブートイメージをコンマで
区切られたリストで指定する。
<BR>&nbsp;コンマで区切られたリストには空のフィールドがあってもよい。
もし
<B>-B</B>

または
<B>-sparc-boot</B>

オプションが指定されると、作成されるイメージの最初のセクタは Sun ディ
スクラベルを含む。このディスクラベルは、スライス 0 は iso9660 イメージ
を、スライス 1 ... スライス 7 はこのオプションで指定されたブートイ
メージを、それぞれ指定する。
各、ブートイメージにあるバイトオフセット 512 ... 8191 は適切な 
sparc アーキテクチャで動くプライマリブートを含まなければならない。
通常は、最初にカーネルの boot 段階で使われる ufs ファイルシステムが残
る部分に含まれる。
<P>
実装されているブート方法は、SunOS 4.x 及び SunOS 5.x に見られるブート
方法である。
しかしこれは、SunOS の内部に依存しているのではなく、
Open Boot prom の性質にのみ依存している。
この理由により、sparc システムを動かせる他の OS でも使えるだろう。
<DT><B>-G</B><I> generic_boot_image</I>

<DD>
汎用ブータブル CD を作成する時に使われる汎用ブートイメージのパスと
ファイル名を指定する。
<B>汎用ブートイメージ</B>

は CD の先頭 16 セクタに置かれる。
先頭の 16 セクタは、iso9660 の最初のボリューム記述子の前に配置される。
もしこのオプションが
<B>-sparc-boot</B>

オプションと一緒に使われると、Sun ディスクラベルは汎用ブートイメージの先頭 512 バイトを上書きする。
<DT><B>-hard-disk-boot</B>

<DD>
&quot;El Torito&quot; ブータブル CD の作成に使われるブートイメージが、ハードディ
スクイメージであると指定する。ハードディスクイメージは一つのパーティショ
ンだけを含むマスターブートレコードで始まらなければならない。
<DT><B>-no-emul-boot</B>

<DD>
&quot;El Torito&quot; ブータブル CD の作成に使われるブートイメージが
<BR>&nbsp;'非エミュレーション'&nbsp;イメージであると指定する。システムはこのイメージ
を、なんらディスクエミュレーションをせずにロードし、実行する。
<DT><B>-no-boot</B>

<DD>
&quot;El Torito&quot; CD がブート不可であるとマークされるように指示する。
システムはこのイメージのエミュレートされたドライブを提供するが、標準
のブートデバイスから起動する。
<DT><B>-boot-load-seg</B><I> segment_address</I>

<DD>
<BR>&nbsp;'非エミュレーション'&nbsp;&quot;El&nbsp;Torito&quot;&nbsp;CD&nbsp;ブートイメージのロードセグメント
アドレスを指定する。
<DT><B>-boot-load-size</B><I> load_sectors</I>

<DD>
非エミュレーションモードでロードされる &quot;仮想&quot;(512バイト)セクタの数を指定する。
デフォルトはブートファイルの全部である。
これが 4 の倍数でない場合に問題がある BIOS があるかも知れない。
<DT><B>-boot-info-table</B>

<DD>
CD-ROM の配置に関する情報の 56 バイトのテーブルが、ブートファイルのオ
フセット 8 に置かれることを指示する。
このオプションが与えられると、ブートファイルは作成元となるファイルシス
テム上で修正されるので、このファイルが簡単に再作成できないのならちゃんと
コピーをとっておくこと。
このテーブルの記述に関しては
<B> BOOT INFORMATION TABLE</B>

の項を見よ。
<DT><B>-C</B><I> last_sess_start,next_sess_start</I>

<DD>
このオプションは、マルチセッションのディスクで第 2 セッション以降のイメージを
作成するのに
<B>mkisofs </B>

が用いられた場合に必要となる。
この
<B>-C</B>

オプションは、コンマで区切られた二つの数を引数にとる。一つ目の数は、追
加されるディスクの最後のセッションの最初のセクタ番号である。二つ目の数は
新しいセッションの最初のセクタ番号である。
期待される二つの数は、
<B>cdrecord -msinfo ...</B>

というコマンドの呼び出しで得られる。
<B>-C</B>

オプションは
<B>-M</B>

オプションと組合せた場合にのみ使われる。
<DT><B>-c</B><I> boot_catalog</I>

<DD>
&quot;El Torito&quot; ブータブル CD を作成する際に使用されるブートカタログのパス
とファイル名を指定する。パス名は
<B>mkisofs</B>

に対して指定している元の相対パスでなければならない。このオプションはブー
タブル CD を作成するのに必須である。このファイルは
<B>mkisofs</B>

によって元になるファイルシステムの中に作成されるので、黙って上書きされ
ないように、指定されたファイル名が存在しているファイルとコンフリクトし
ないように注意すること! 通常 &quot;boot.catalog&quot; という名前が選ばれる。
<DT><B>-copyright</B><I> FILE</I>

<DD>
著作権ファイルを指定する。このパラメータはファイル
<B>.mkisofsrc</B>

で COPY=filename として設定される。もし両方の場所で指定された場合、コマン
ドラインのものが使用される。
<DT><B>-d</B>

<DD>
ピリオドを持たないファイルに後続するピリオドをファイルから省く (訳注: 
たとえば ファイル名 &quot;hogehoge.&quot; の最後の &quot;.&quot; など)。これは ISO9660 標
準に違反しているが、ほとんどのシステムで働く。注意して使用すること。
<DT><B>-D</B>

<DD>
深いディレクトリの再配置を行わず、かわりにそのまま格納する。これは 
ISO9660 標準に違反しているが、ほとんどのシステムで働く。注意して使用す
ること。
<DT><B>-f</B>

<DD>
ファイルシステムを生成する時にシンボリックリンクを追跡する。このオプショ
ンが使用されていないとき、シンボリックリンクは、もし Rock Ridge が有効に
なっていれば格納され、無効になっていれば無視される。
<DT><B>-gui</B>

<DD>
GUI のために動きを切替える。現在のところこれにより出力が詳細になるが、
将来的には他の効果をもつだろう。
<DT><B>-hide</B><I> glob</I>

<DD>
ISO9660 または Rock Ridge ディレクトリにある
<I>glob</I>

を隠す。
<I>glob</I>

はシェルのワイルドカード形式のパターンで、ファイル名かパスの一部にマッ
チする。
(1000 個までの) glob の複数指定が可能である。もし
<I>glob</I>

がディレクトリにマッチした場合、ディレクトリの中身が隠される。
すべての隠されたファイルは CD イメージファイルには書き出される。
<B>-hide-joliet</B>

オプションと共に用いられるべきである。
<DT><B>-hide-list</B><I> file</I>

<DD>
上で述べた、隠される
<I>globs</I>

のリストを収めたファイル
<DT><B>-hide-joliet</B><I> glob</I>

<DD>
Joliet ディレクトリにある
<I>glob</I>

を隠す。
<I>glob</I>

はシェルのワイルドカード形式のパターンで、ファイル名かパスの一部にマッ
チする。
(1000 個までの) glob の複数指定が可能である。もし
<I>glob</I>

がディレクトリにマッチした場合、ディレクトリの中身が隠される。
すべての隠されたファイルは CD イメージファイルには書き出される。
<B>-hide</B>

オプションと共に用いられるべきである。
<DT><B>-hide-joliet-list</B><I> file</I>

<DD>
上で述べた、隠される
<I>globs</I>

のリストを収めたファイル
<DT><B>-hide-joliet-trans-tbl</B>

<DD>
Joliet ツリーから
<B>TRANS.TBL</B>

ファイルを隠す。
普通 Joliet の世界では、これらのファイルは意味をなさない。
なぜならこのファイルがリストする本当の名前と ISO9660 の名前はともに、
Joliet の名前とは違うからである。
<DT><B>-hide-rr-moved</B>

<DD>
Rock Ridge ツリーではディレクトリ
<B>RR_MOVED</B>

を
<B>.rr_moved</B>

という名前に変更する。
Rock Ridge ツリーから
<B>RR_MOVED</B>

ディレクトリを完全に隠すことは不可能のようにみえる。
このオプションは、このディレクトリが何なのかを知らない人々が、
目にするツリーを理解しやすくするようにするだけである。
もし
<B>RR_MOVED</B>

ディレクトリを全く必要としないのなら、
<B>-D</B>

オプションを使うべきである。
<B>-D</B>

オプションが指定された場合には、作成されるファイルシステムは ISO9660 
レベル-1 互換でなく、MS-DOS からは読めないことに注意せよ。
<DT><B>-l</B>

<DD>
30 文字のファイル名を許す。通常 ISO9660 ファイル名は ISO9660 標準が 30 
文字までのファイル名を認めていても MS-DOS 互換の 8.3 フォーマットにな
る。このオプションを使用すれば、ディスクは MS-DOS で使用するのが困難に
なるが、その他のシステム (Amiga のような) で使いやすくなる。注意して使
用すること。
<DT><B>-J</B>

<DD>
通常の ISO9660 ファイル名に加えて Joliet ディレクトリレコードを生成す
る。これはディスクが Windows95 や Windows NT マシンで使用されるとき一
番便利である。Joliet ファイル名は Unicode で指定され、それぞれのパスは
最大 64 Unicode 文字で構成することができる。
<DT><B>-L</B>

<DD>
ISO9660 のファイル名をピリオドで始めることを許す。通常、先頭のドットは 
MS-DOS との互換性を維持するためにアンダースコアに変換される。
<DT><B>-log-file</B><I> log_file</I>

<DD>
標準エラー出力の代わりに、
<I>log_file</I>

にすべてのエラー、警告、一般的な通知メッセージを出力する。
<DT><B>-m</B><I> glob</I>

<DD>
CD-ROM に書き込まれるときに
<I>glob</I>

を除外する。
<I>glob</I>

はシェルのワイルドカード形式のファイル名
(<B>-x</B>

のようにパスではない) の一部に一致するパターンである (訳注: glob はファ
イル名に一致するパターンを生成し、それはしばしばシェルに依存する)。
技術的には
<I>glob</I>

は、ディレクトリエントリの
<I>d-&gt;d_name</I>

部分に対して一致される。複数の glob が実行可能である (最大 1000)。
例:
<P>
mkisofs -o rom -m '*.o' -m core -m foobar
<P>
は &quot;.o&quot; で終わるファイルまたは &quot;core&quot; または &quot;foobar&quot; のすべてが 
CD-ROM にコピーするファイルから除外される。もし &quot;foobar&quot; と呼ばれる
ディレクトリがあれば、それも除外される (そしてもちろんそのサブディレ
クトリも除外される)。
注意: -m と -x オプションに関する説明は間違っており、更新されるべきである。
ファイル名そのままの指定とワイルドカード形式の指定の両方が可能である。
ファイル名が一致した場合か、パスの全てが一致した場合にファイルは除外される。
<DT><B>-exclude-list</B><I> file</I>

<DD>
上で述べた、隠される
<I>globs</I>

のリストを収めたファイル
<DT><B>-M</B><I> path </I>

<DD>
もしくは

<DT><B>-M</B><I> device</I>

<DD>

結合される、すでに存在する ISO9660 イメージのパスを指定する。
代わりに SCSI デバイスを指定する場合は
<B>cdrecord</B>

の
<B>dev=</B>

と同じ書式を用いる。
<B>mkisofs</B>

の出力は -M で指定したイメージの後ろに新しいセッションとして書き込まれ
るだろう。通常、これはこのイメージを書き込もうとしている書き込み機およ
び CD-ROM ドライブに対しマルチセッション機能を要求する。マルチセッショ
ン機能のサポートは、CD-ROM 上で次の書き込み可能なアドレスを決定するた
めに mkisofs と cdwrite との間でいくつかのハンドシェークが要求されるた
め、まだ完全ではない。
このオプションは
<B>-C</B>

との組合せの場合のみ用いられる。
<DT><B>-N</B>

<DD>
ISO9660 ファイル名のバージョン番号を省略する。これは ISO9660 標準に
違反するが、このバージョン番号を本当に使っているシステムはない。
注意して使用すること。
<DT><B>-nobak</B>

<DD>

<DT><B>-no-bak</B>

<DD>

iso9660 ファイルシステム上にバックアップファイルを含まない。
<B>-no-bak</B>

オプションが指定されると、文字 '~' または '#' を含むファイルと、'.bak' で終わるファイルは含まれない(これらは unix 上のエディタの典型的なバックアップファイルである)。
<DT><B>-no-rr</B>

<DD>
前のセッションからの Rock Ridge 属性を使わない。
これは、
<B>mkisofs</B>

が古いセッションの不正な Rock Ridge 署名を見つけた時に、トラブルになるのを
避けるのに役立つだろう。
<DT><B>-no-split-symlink-components</B>

<DD>
SL コンポーネントを分割せず、代わりに新しい継続領域 (Continuation Area
(CE)) を開始する。これは空き領域を浪費するが、SunOS 4.1.4 の CD-ROM 
ドライバは分割された SL コンポーネントの読み込みにバグがある。
(link_size += component_size の代わりに link_size = component_size)
<DT><B>-no-split-symlink-fields</B>

<DD>
SL フィールドを分割せず、代わりに新しい継続領域 (Continuation Area
(CE)) を開始する。これは空き領域を浪費するが、SunOS 4.1.4 及び Solaris
2.5.1 の CD-ROM ドライバは 分割された SL フィールドの読み込みにバグが
ある(`/' が抜け落ちることがある)。
<DT><B>-o</B><I> filename</I>

<DD>
は、書き込まれる ISO9660 ファイルシステムイメージのファイル名である。
これはディスクファイルやテープドライブまたは直接一致する光学ディスク書
き込み機のデバイス名でもかまわない。もし指定されなければ、標準出力が使
用される。出力は通常のディスクドライブの特殊ブロックデバイスでも構わな
いが、この場合にはディスクパーティションはマウント可能で、プリマスタリ
ングが正常に終了したかを確証していなければならないことに注意するように。
<DT><B>-path-list</B><I> file</I>

<DD>
ISO9660 ファイルシステムに追加される
<I>pathspec</I>

ディレクトリとファイル名のリスト。
この pathspec リストは、コマンドラインに現れるすべてのもののあとに処理される。
もし引数が
<I>-</I>

ならば、リストは標準入力から読まれる。
少なくとも一つの
<I>pathspec</I>

がコマンドラインで与えられなければならない。
<DT><B>-P</B><I> publisher_id</I>

<DD>
ボリュームヘッダに書き込まれる文字列を指定する。これは CD-ROM の出版者
を説明し、通常メールアドレスと電話番号が記載される。
ディスク上には 128 文字の情報の分の容量がある。
このパラメータは
<I>.mkisofsrc</I>

の PUBL= でも設定可能である。もし二つの場所で指定されている場合、コマ
ンドラインのものが使用される。
<DT><B>-p</B><I> preparer_id</I>

<DD>
ボリュームヘッダに書き込まれる文字列を指定する。
これは CD-ROM の作成者を説明し、通常メールアドレスと電話番号が記載される。
ディスク上には 128 文字の情報の分の容量がある。このパラメータは
<I>.mkisofsrc</I>

の PREP= でも設定可能である。
もし二つの場所で指定されている場合、コマンドラインのものが使用される。
<DT><B>-print-size</B>

<DD>
予測されたファイルシステムのサイズを表示して終了する。このオプションは 
Disk At Once モードで
<B>cdrecord</B>

に直接パイプしているときに、いくつかの CD-R ドライブで使用される。
この場合には、実際の CD 作成が行われる前にファイルシステムのサイズを知っ
ておく必要がある。-print-size オプションは、CD が実際に書き込まれる前
に &quot;dry-run&quot; (訳注: 実際の書き込みを伴わない試験書き込み) によりこのサ
イズを取得する。
<DT><B>-quiet</B>

<DD>
このオプションは
<B>mkisofs</B>

にそれほど詳細な出力をさせないようにする。
進捗状況が出力されない。
<DT><B>-R</B>

<DD>
ISO9660 ファイルシステムのファイルを詳細に説明するために
Rock Ridge プロトコルを使用して SUSP 及び RR レコードを生成する。
<DT><B>-r</B>

<DD>
これは -R オプションに似ているが、ファイルの所有とモードがより便利な
値に設定される。UID と GID は通常作者のシステムでのみ有用で、クライア
ントでは有用でないため 0 にセットされる。すべての読み込みビットは true 
でファイルとディレクトリはクライアントで全体的に読み込み可能になる。も
しいかなる実行ビットがファイルに設定されていたら、実行ビットのすべてが
設定され、クライアントで実行可能ファイルは全体的に実行可能になる。もし
いかなる検索ビットがディレクトリにセットされていれば、検索ビットのすべ
てを設定し、ディレクトリは全体的にクライアントで検索可能になる。すべて
の書き込みビットは、CD-ROM はすべての場合において読み込み専用でマウン
トされるため、消去される。もしいかなる特殊モードのビットが設定されてい
れば、読み込み専用のファイルシステム上でのファイルロックは有用ではなく、
set-id ビットは UID 0 または GID 0 では望ましくないため、消去する。
<DT><B>-sysid</B><I> ID</I>

<DD>
システム ID を指定する。このパラメータはファイル
<B>.mkisofsrc</B>

で SYSI=system_id として設定される。もし両方の場所で指定された場合、コマン
ドラインのものが使用される。
<DT><B>-T</B>

<DD>
Rock Ridge が使用できないシステム上で正しいファイル名を得るために 
TRANS.TBL を CD-ROM のそれぞれのディレクトリに生成する。ファイルの中に
は他にもブロックデバイスやキャラクタデバイスのメジャー番号やマイナー番
号情報があり、それぞれのシンボリックリンクは与えられたファイルの名前を
持つ。
<DT><B>-table-name</B><I> TABLE_NAME</I>

<DD>
代わりの変換テーブルファイルネーム(上を見よ)。
<B>-T</B>

オプションを含む。
もしマルチセッションイメージを作成したならば、前のセッションと同じ名前
にしなければならない。
<DT><B>-U</B>

<DD>
iso9660 標準に完全に違反する、&quot;未変換&quot; ファイル名を許可する。
-d、-l、-L、-N フラグが自動的に指定され、文字 '.' を 1 個以上含む
ファイル名や、大文字小文字が混ざったファイル名も許可される。
これは、最初からある CDFS ファイルシステムが何の拡張も認識しない HP-UX 
システムで有効である。使用には細心の注意を払うこと。
<DT><B>-V</B><I> volid </I>

<DD>
マスターブロックに記載するボリューム ID を指定する。 
このパラメータは、ファイル
<B>.mkisofsrc</B>

で VOLI=id により指定することもできる。もし二つの場所で指定された場合, 
コマンドラインのものが使用される。
もしボリューム ID を指定した場合、その名前は、Solaris ボリューム管理シ
ステムではマウントポイントとして、Windows または Mac プラットフォームでは
ディスク名として使われるので、注意すること。
<DT><B>-volset</B><I> ID</I>

<DD>

ボリュームセット ID を指定する。このパラメータはファイル
<B>.mkisofsrc</B>

で VOLS=volset_id として設定される。もし両方の場所で指定された場合、コマン
ドラインのものが使用される。
<DT><B>-volset-size</B><I> #</I>

<DD>
ボリュームセットサイズを # に設定する。ボリュームセットサイズとは CD 
のセットの中の CD の枚数である。
<B>-volset-size</B>

オプションは、オペレーティングシステムのインストールなどで CD が(複数
枚の)セットになっている場合に、その部分としての CD を作成するときに指
定する事ができる。
<B>-volset-size</B>

オプションは、コマンドライン上で
<B>-volset-seqno</B>

より前に指定されなければならない。
<DT><B>-volset-seqno</B><I> #</I>

<DD>
ボリュームセット番号を # に設定する。ボリュームセット番号とは、その CD 
の、CD セットの中での順番である。
<B>-volset-size</B>

オプションは、コマンドライン上で
<B>-volset-seqno</B>

より前に指定されなければならない。
<DT><B>-v</B>

<DD>
冗長な出力。
<DT><B>-x</B><I> path</I>

<DD>
CD-ROM の書き込みに
<I>path</I>

を排除する。
<I>path</I>

はコマンドライン引数として連続して与えられた完全なパス名で、パスはこの
ディレクトリに相対でなければならない。複数のパスが除外可能である (最大 
1000)。
例:
<P>
mkisofs -o cd -x /local/dir1 -x /local/dir2 /local
<P>
注意: -m と -x オプションに関する説明は間違っており、更新されるべきである。
ファイル名そのままの指定とワイルドカード形式の指定の両方が可能である。
ファイル名が一致した場合か、パスの全てが一致した場合にファイルは除外される。
<DT><B>-z</B>

<DD>
特殊な SUSP レコードを transparent 圧縮されたファイルに対して生成する。
これは transparent 圧縮をサポートするホストに対してのみ使用される。こ
れは試験的な機能で、どのホストもこれをサポートしていないが、この機能を
使用可能にする Linux 用の alpha パッチが存在する。
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>ブート情報テーブル</H2>

<B>-boot-info-table </B>

オプションが与えられると、
<B>mkisofs</B>

は
<B>-b</B>

オプションで与えられたブートファイルのオフセット 8 に 56 バイトの &quot;ブー
ト情報テーブル(boot information table)&quot; を挿入して、ブートファイルを修
正する。
この修正は作成元となるファイルシステム上で行われるので、このファイルが
簡単に再作成できないのならちゃんとコピーをとっておくこと!
このファイルはブート時には簡単には得られない、または信頼できる値が得ら
れないポインタを含む。
<P>

このテーブルのフォーマットは以下の通り; すべての整数は 7.3.1 節(&quot;リトルエンディアン&quot;) フォーマットである。
<P>
<DL COMPACT><DT><DD>


<PRE>
オフセット          名前    サイズ意味
 8         bi_pvd        4 bytes   最初のボリューム記述子の LBA
12         bi_file       4 bytes   ブートファイルの LBA
16         bi_length     4 bytes   バイト単位でのブートファイルの長さ
20         bi_csum       4 bytes   32 ビットチェックサム
24         bi_reserved   40 bytes  予約済み
</PRE>

</DL>

<P>
32 ビットチェックサムは、オフセット 64 バイトから始まるブートファイル
のすべての32 ビットワードの和である。
<A NAME="lbAG">&nbsp;</A>
<H2>環境</H2>

<B>mkisofs</B>

は
<I>.mkisofsrc</I>

ファイルを検索するために、最初は現在の作業ディレクトリを参照し、そして
ユーザのホームディレクトリ、そのあとに
<B>mkisofs</B>

バイナリが保存されているディレクトリを参照する。このファイルは、
&quot;TAG=value&quot; 形式の行が含まれるものであり、この形式でいくつかのオプショ
ンを設定できる。
タグの大文字小文字は意味を持たない。
ボリュームヘッダのいくつかのフィールドはコマンドラインで設定不可能であ
るが、この設定ファイルで設定可能である。このファイルには、&quot;#&quot; 文字を使
用することによりコメントを付けられる。
<DL COMPACT>
<DT><B>APPI</B>

<DD>
アプリケーション識別子は、ディスクにあるアプリケーションを説明する。
ディスク上には 128 文字の情報の分の容量がある。
<B>-A</B>

コマンドラインオプションにより上書きできる。
<DT><B>COPY</B>

<DD>
多くの場合著作権情報が格納されているディスク上のファイルの名前となって
いる、著作権情報である。ディスク上には 37 文字の情報の分の容量がある。
<B>-copyright</B>

コマンドラインオプションにより上書きできる。
<DT><B>ABST</B>

<DD>
多くの場合要約情報が格納されているディスク上のファイルとなっている、要
約情報である。ディスク上には 37 文字の情報の分の容量がある。
<B>-abstract</B>

コマンドラインオプションにより上書きできる。
<DT><B>BIBL</B>

<DD>
多くの場合書誌情報が格納されているディスク上のファイルとなっている、書
誌情報である。ディスク上には 37 文字の情報の分の容量がある。
<B>-bilio</B>


コマンドラインオプションにより上書きできる。
<DT><B>PREP</B>

<DD>
これは CD-ROM の作成者をメールアドレスや電話番号で説明する。
ディスク上には 128 文字の情報の分の容量がある。
コマンドラインの
<B>-p </B>

オプションにより上書きできる。
<DT><B>PUBL</B>

<DD>
これは CD-ROM の編集者をメールアドレスや電話番号で説明する。
ディスク上には 128 文字の情報の分の容量がある。
コマンドラインの
<B>-P </B>

オプションにより上書きできる。
<DT><B>SYSI</B>

<DD>
システム識別子である。ディスク上には 32 文字の情報の分の容量がある。
コマンドラインの
<B>-sysid</B>

オプションにより上書きできる。
<DT><B>VOLI</B>

<DD>
ボリューム識別子である。
ディスク上には 32 文字の情報の分の容量がある。
コマンドラインの
<B>-V</B>

オプションにより上書きできる。
<DT><B>VOLS</B>

<DD>
ボリュームセット名。
ディスク上には 128 文字の情報の分の容量がある。
コマンドラインの
<B>-volset</B>

オプションにより上書きできる。
</DL>
<P>

<B>mkisofs</B>

はコンパイル時にこれらのほとんどのフィールドをデフォルトとして設定する
こともできる。 defaults.h ファイルを参照すること。
<A NAME="lbAH">&nbsp;</A>
<H2>著者</H2>

<B>mkisofs</B>

は、ディスク上の ISO9660 ファイルシステムを完全に生成しなければならな
いため、UNIX 向けの標準の mk*fs をベースにしていない。mkisofs という名
前は、ファイルシステムを作成するだけでなく、それを移植することもできる
ため、おそらく少し不適切な名前かもしれない。
<P>

<BR>

Eric Youngdale &lt;<A HREF="mailto:ericy@gnu.ai.mit.edu">ericy@gnu.ai.mit.edu</A>&gt; または &lt;<A HREF="mailto:eric@andante.org">eric@andante.org</A>&gt; は、
Linux の ISOFS9660 ファイルシステム及び mkisofs ユーティリティを作成し、
これらは彼らにより保守されている。mkisofs ユーティリティの著作権 は 
Yggdrasil Computing, Incorporated により所有されている。
<A NAME="lbAI">&nbsp;</A>
<H2>注意</H2>

<B>mkisofs</B>

は、suid root でインストールされても多分安全である。
これはマルチセッションを作成する時に
<B>mkisofs</B>

が前のセッションを読むのに必要なことである。
<A NAME="lbAJ">&nbsp;</A>
<H2>バグ</H2>

<DL COMPACT>
<DT>&bull;<DD>
ISO9660 ファイルシステムにコピーされるツリーにないファイルへハードリ
ンクしているすべてのファイルは誤った参照回数を持つ。
<DT>&bull;<DD>
Rock Ridge 拡張の存在を検証するために、ルートディレクトリの &quot;.&quot; エントリにある
SUSP レコードをチェックしない。
<P>
この問題はマルチセッションモードでデータを追加している間に古いセッショ
ンを読み込む時に起こる。
<DT>&bull;<DD>
マルチセッションモードでのデータ追加時に、再配置されたディレクトリを適
切に読み込まない。
<P>
新しいセッションが深いディレクトリを持たない場合、再配置された深いディレクトリは失われる。
<P>
繰り返す: 深いディレクトリを再配置して最初のセッションを作成し、単一の
ディレクトリで新しいセッションを加えると、前の深いパスとは異なる。
<DT>&bull;<DD>
マルチセッションでは、TRANS.TBL からできる RR_MOVED を再利用しない。
<DT>&bull;<DD>
マルチセッションモードでは、RR_MOVED には完全な名前のエントリは作成されない。
</DL>
<P>

おそらく他にもあるだろう。作者に報告してほしい。
<A NAME="lbAK">&nbsp;</A>
<H2>将来の改良</H2>

ある種の GUI インターフェース.
<A NAME="lbAL">&nbsp;</A>
<H2>入手性</H2>

<B>mkisofs</B>

は anonymous FTP の tsx-11.mit.edu の /pub/linux/packages/mkisofs や他
のたくさんのミラーサイトから入手できる。
<A NAME="lbAM">&nbsp;</A>
<H2>メイリングリスト</H2>

もし mkisofs の開発に積極的に関わりたいなら、
本文に
<I>subscribe</I>

と書いたメールを
<PRE>

           <A HREF="mailto:other-cdwrite-request@lists.debian.org">other-cdwrite-request@lists.debian.org</A>

</PRE>

に送って cdwriting メイリングリストに参加しよう。
ML のメールアドレスは
<PRE>

           <A HREF="mailto:cdwrite@lists.debian.org">cdwrite@lists.debian.org</A>
</PRE>

である。
<A NAME="lbAN">&nbsp;</A>
<H2>メンテナー</H2>

<PRE>
Joerg Schilling
Seestr. 110
D-13353 Berlin
Germany
</PRE>

<P>

バグや改善のメールは
<P>

<B><A HREF="mailto:schilling@fokus.gmd.de">schilling@fokus.gmd.de</A></B>

または
<B><A HREF="mailto:js@cs.tu-berlin.de">js@cs.tu-berlin.de</A></B>

または
<B><A HREF="mailto:joerg@schily.isdn.cs.tu-berlin.de">joerg@schily.isdn.cs.tu-berlin.de</A></B>

へ。
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">オプション</A><DD>
<DT><A HREF="#lbAF">ブート情報テーブル</A><DD>
<DT><A HREF="#lbAG">環境</A><DD>
<DT><A HREF="#lbAH">著者</A><DD>
<DT><A HREF="#lbAI">注意</A><DD>
<DT><A HREF="#lbAJ">バグ</A><DD>
<DT><A HREF="#lbAK">将来の改良</A><DD>
<DT><A HREF="#lbAL">入手性</A><DD>
<DT><A HREF="#lbAM">メイリングリスト</A><DD>
<DT><A HREF="#lbAN">メンテナー</A><DD>
</DL>
<HR>
This document was created by
<A HREF="../../man/man1/man2html.1.html">man2html</A>,
using the manual pages.<BR>
Time: 03:33:37 GMT, December 05, 2022
</BODY>
</HTML>
