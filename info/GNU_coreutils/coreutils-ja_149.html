<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- このマニュアルは、GNU core utilities version 8.26 の詳細な解説である。
core utilities には、テキストやファイルを操作するための標準的なプログラムが入っている。

Copyright C 1994-2016 Free Software Foundation, Inc.

Japanese translation copyright C 2014-2017 Linux JM project

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with no Front-Cover Texts, and with no Back-Cover Texts.  A copy
of the license is included in the section entitled "GNU Free Documentation
License".


【訳者から御注意】 この文書を info コマンドで閲覧なさっている場合は、
行末に余計な文字が入って、読みにくいことがあるかもしれない。
そうしたときは、Ctrl キーと l (エル) キーを同時に押して、画面を再描画していただきたい。
たぶん、表示が正常になるはずである。

お手元の coreutils のバージョンが 8.26 以外の場合、
この文書の説明と動作が違うことがあるかもしれない 
(たとえば、この文書に書いてあるオプションが使えない、あるいは、
使えるはずのオプションの説明がないなど)。
そうした場合は、お使いの coreutils と同じバージョンの info マニュアルや 
man ページに当ってみていただきたい。そちらの方が正しいはずである。
 -->
<!-- Created on June 7, 2022 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU Coreutils: 20.6 who: 現在誰がログインしているかを表示する</title>

<meta name="description" content="GNU Coreutils: 20.6 who: 現在誰がログインしているかを表示する">
<meta name="keywords" content="GNU Coreutils: 20.6 who: 現在誰がログインしているかを表示する">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="who-invocation"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="coreutils-ja_148.html#users-invocation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_150.html#System-context" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="coreutils-ja_143.html#User-information" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_143.html#User-information" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_150.html#System-context" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="coreutils-ja.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_220.html#Concept-index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<hr size="1">
<a name="who_003a-Xian-Zai-Shui-garoguinsiteirukawoBiao-Shi-suru"></a>
<h2 class="section">20.6 <code>who</code>: 現在誰がログインしているかを表示する</h2>

<a name="index-who"></a>
<a name="index-printing-current-user-information"></a>
<a name="index-information_002c-about-current-users"></a>

<p><code>who</code> は、現在ログインしているユーザについての情報を表示する。
</p>
<p>書式:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><code>who</code> [<var>option</var>] [<var>file</var>] [am i]
</pre></td></tr></table>

<a name="index-terminal-lines_002c-currently-used"></a>
<a name="index-login-time"></a>
<a name="index-remote-hostname"></a>
<p>オプション以外の引数が一つもない場合、<code>who</code>
は現在ログインしている各ユーザについて、次の情報を表示する。
ログイン名、端末ライン、ログイン日時、それにリモート・ホスト名か X ディスプレー名。
</p>
<a name="index-utmp-2"></a>
<a name="index-wtmp-1"></a>
<p>オプション以外の引数を一つだけ指定すると、<code>who</code>
はそれを、ログインしたユーザを記録しているファイルの名前として、
システムが管理しているデフォルトのファイル (たいていは &lsquo;<tt>/var/run/utmp</tt>&rsquo; か
&lsquo;<tt>/etc/utmp</tt>&rsquo;) の代りに使用する。<code>who</code> に引数として &lsquo;<tt>/var/log/wtmp</tt>&rsquo;
を渡して、これまでに誰がログインしたかを調べるのはよくあることである。
</p>
<a name="index-am-i"></a>
<a name="index-who-am-i"></a>
<p>オプション以外の引数を二つ指定すると、<code>who</code>は、
自分を実行しているユーザの情報のみを (自分が接続している標準入力からユーザの見当を付けて)、
ホスト名を前に付けて表示する。渡される二つの引数は、全体として
&lsquo;<samp>who am i</samp>&rsquo; になるように、&lsquo;<samp>am i</samp>&rsquo; とするのが慣例である。 
</p>
<a name="index-TZ-4"></a>
<p>タイムスタンプは、タイムゾーンのルールに従って表示されるが、
そのルールを指定しているのは、環境変数 <code>TZ</code> である。
<code>TZ</code> が設定されていない場合は、システムのデフォルトのルールに従って表示される。
See <a href="../libc/TZ-Variable.html#TZ-Variable">(libc)TZ Variable</a> section &lsquo;Specifying the Time Zone with <code>TZ</code>&rsquo; in <cite>The GNU C Library Reference Manual</cite>.
</p>
<p>このプログラムでは以下のオプションが使用できる。参照: <a href="coreutils-ja_2.html#Common-options">共通オプション</a>.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>-a</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--all</samp>&rsquo;</dt>
<dd><a name="index-_002da-14"></a>
<a name="index-_002d_002dall-5"></a>
<p>&lsquo;<samp>-b -d --login -p -r -t -T -u</samp>&rsquo; と同じである。
</p>
</dd>
<dt> &lsquo;<samp>-b</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--boot</samp>&rsquo;</dt>
<dd><a name="index-_002db-20"></a>
<a name="index-_002d_002dboot"></a>
<p>システムをブートした直近の日時を表示する。
</p>
</dd>
<dt> &lsquo;<samp>-d</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--dead</samp>&rsquo;</dt>
<dd><a name="index-_002dd-17"></a>
<a name="index-_002d_002ddead"></a>
<p>終了したプロセスに関する情報を表示する。
</p>
</dd>
<dt> &lsquo;<samp>-H</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--heading</samp>&rsquo;</dt>
<dd><a name="index-_002dH-7"></a>
<a name="index-_002d_002dheading"></a>
<p>最初の行に各列の見出しを表示する。
</p>
</dd>
<dt> &lsquo;<samp>-l</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--login</samp>&rsquo;</dt>
<dd><a name="index-_002dl-10"></a>
<a name="index-_002d_002dlogin"></a>
<p>現在システムがログインの窓口としてユーザを待ち受けているプロセスに関する情報のみを表示する。
ユーザ名は常に &lsquo;<samp>LOGIN</samp>&rsquo; である。
</p>
</dd>
<dt> &lsquo;<samp>--lookup</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dlookup"></a>
<p>utmp で見つかったホスト名について DNS を検索して正規名を得ようとする。
これがデフォルトになっていないのは、インターネットに自動ダイアルアップで接続しているシステムでは、
深刻な遅滞を招きかねないからである。
</p>
</dd>
<dt> &lsquo;<samp>-m</samp>&rsquo;</dt>
<dd><a name="index-_002dm-12"></a>
<p>&lsquo;<samp>who am i</samp>&rsquo; と同じである。
</p>
</dd>
<dt> &lsquo;<samp>-p</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--process</samp>&rsquo;</dt>
<dd><a name="index-_002dp-11"></a>
<a name="index-_002d_002dprocess"></a>
<p>init によって生み出されたプロセスのうち、現在活動中のものをリストする。
</p>
</dd>
<dt> &lsquo;<samp>-q</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--count</samp>&rsquo;</dt>
<dd><a name="index-_002dq-7"></a>
<a name="index-_002d_002dcount-1"></a>
<p>ログインしているユーザのログイン名と人数のみを表示する。他のすべてのオプションを無効にする。
</p>
</dd>
<dt> &lsquo;<samp>-r</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--runlevel</samp>&rsquo;</dt>
<dd><a name="index-_002dr-14"></a>
<a name="index-_002d_002drunlevel"></a>
<p>init プロセスの現在のランレベルを表示する (たぶん、直前のランレベルも)。
</p>
</dd>
<dt> &lsquo;<samp>-s</samp>&rsquo;</dt>
<dd><a name="index-_002ds-25"></a>
<p>無視する。他の版の <code>who</code> との互換性のためにある。
</p>
</dd>
<dt> &lsquo;<samp>-t</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--time</samp>&rsquo;</dt>
<dd><a name="index-_002dt-19"></a>
<a name="index-_002d_002dtime-7"></a>
<p>システムクロックを最後に変更した日時を表示する。
</p>
</dd>
<dt> &lsquo;<samp>-u</samp>&rsquo;</dt>
<dd><a name="index-_002du-12"></a>
<a name="index-idle-time"></a>
<p>ログイン日時の後ろに、ユーザが何時間何分端末を使用していないかを (idle 状態かを) 表示する。
&lsquo;<samp>.</samp>&rsquo; は、ユーザがここ 1 分以内に端末操作をしたことを意味する。
&lsquo;<samp>old</samp>&rsquo; は、ユーザが 24 時間以上端末を使用していないということである。
</p>
</dd>
<dt> &lsquo;<samp>-w</samp>&rsquo;</dt>
<dt> &lsquo;<samp>-T</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--mesg</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--message</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--writable</samp>&rsquo;</dt>
<dd><a name="index-_002dw-12"></a>
<a name="index-_002dT-10"></a>
<a name="index-_002d_002dmesg"></a>
<a name="index-_002d_002dmessage"></a>
<a name="index-_002d_002dwritable"></a>
<a name="index-message-status"></a>
<a name="index-write_002c-allowed"></a>
<p>ログイン名の後ろに、ユーザのメッセージ受け入れ状態を示す 1 文字を表示する。
</p>
<table><tr><td>&nbsp;</td><td><pre class="display">&lsquo;<samp>+</samp>&rsquo; <code>write</code> によるメッセージを受け入れる。
&lsquo;<samp>-</samp>&rsquo; <code>write</code> によるメッセージを拒否する。
&lsquo;<samp>?</samp>&rsquo; 端末デバイスが見つからない。
</pre></td></tr></table>

</dd>
</dl>

<p><code>who</code> コマンドがインストールされるのは、POSIX 準拠の <code>&lt;utmpx.h&gt;</code>
インクルードファイル、またはそれに相当するものが存在するプラットフォームだけである。
従って、移植を考慮したスクリプトでは、非 POSIX
のプラットフォームにも <code>who</code> コマンドが存在することを当てにしない方がよい。
</p>
<p>終了ステータス 0 は成功を示し、0 以外の値は失敗を示す。
</p>

<hr size="1">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="coreutils-ja_148.html#users-invocation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_150.html#System-context" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="coreutils-ja_143.html#User-information" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_143.html#User-information" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_150.html#System-context" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="coreutils-ja.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_220.html#Concept-index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated on <i>June 7, 2022</i> using <a href="http://www.nongnu.org/texi2html/"><i>texi2html 1.82</i></a>.
 </font>
 <br>

</p>
</body>
</html>
