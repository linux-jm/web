<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- このマニュアルは、GNU core utilities version 8.26 の詳細な解説である。
core utilities には、テキストやファイルを操作するための標準的なプログラムが入っている。

Copyright C 1994-2016 Free Software Foundation, Inc.

Japanese translation copyright C 2014-2017 Linux JM project

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with no Front-Cover Texts, and with no Back-Cover Texts.  A copy
of the license is included in the section entitled "GNU Free Documentation
License".


【訳者から御注意】 この文書を info コマンドで閲覧なさっている場合は、
行末に余計な文字が入って、読みにくいことがあるかもしれない。
そうしたときは、Ctrl キーと l (エル) キーを同時に押して、画面を再描画していただきたい。
たぶん、表示が正常になるはずである。

お手元の coreutils のバージョンが 8.26 以外の場合、
この文書の説明と動作が違うことがあるかもしれない 
(たとえば、この文書に書いてあるオプションが使えない、あるいは、
使えるはずのオプションの説明がないなど)。
そうした場合は、お使いの coreutils と同じバージョンの info マニュアルや 
man ページに当ってみていただきたい。そちらの方が正しいはずである。
 -->
<!-- Created on June 7, 2022 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU Coreutils: 10.1.6 タイムスタンプのフォーマット</title>

<meta name="description" content="GNU Coreutils: 10.1.6 タイムスタンプのフォーマット">
<meta name="keywords" content="GNU Coreutils: 10.1.6 タイムスタンプのフォーマット">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Formatting-file-timestamps"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="coreutils-ja_71.html#General-output-formatting" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_73.html#Formatting-the-file-names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="coreutils-ja_65.html#Directory-listing" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_66.html#ls-invocation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_77.html#Basic-operations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="coreutils-ja.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_220.html#Concept-index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<hr size="1">
<a name="taimusutanpunohuomatuto"></a>
<h3 class="subsection">10.1.6 タイムスタンプのフォーマット</h3>

<p>デフォルトでは、ファイルのタイムスタンプは短縮形式で表示される。
すなわち、最近のタイムスタンプ以外は、&lsquo;<samp>Mar 30&nbsp;&nbsp;2002</samp>&rsquo;
といった日付表示になり、最近のタイムスタンプは、&lsquo;<samp>Mar 30 23:45</samp>&rsquo;
といった年度なしの日付と時刻の表示になる。この書式は、後で詳しく述べるように、
使用しているロケールによっては違ったものになるかもしれない。
</p>
<a name="index-clock-skew"></a>
<p>タイムスタンプは、ここ 6 ヶ月以内のもので、未来の日付が付いていなければ、
最近 (<em>recent</em>) として扱われる。今日の日付のタイムスタンプが、
最近用の書式で表示されない場合、そのタイムスタンプは未来扱いされている。
それは、おそらく時計に狂いが生じているということであり、<code>make</code>
のような、ファイルのタイムスタンプに頼っているプログラムは、まともに動かないかもしれない。
</p>
<a name="index-TZ-1"></a>
<p>タイムスタンプは、タイムゾーンのルールに従って表示されるが、
そのルールを指定しているのは、環境変数 <code>TZ</code> である。
<code>TZ</code> が設定されていない場合は、システムのデフォルトのルールに従って表示される。
See <a href="../libc/TZ-Variable.html#TZ-Variable">(libc)TZ Variable</a> section &lsquo;Specifying the Time Zone with <code>TZ</code>&rsquo; in <cite>The GNU C Library Reference Manual</cite>.
</p>
<p>以下のオプションは、ファイルのタイムスタンプの表示方法を変更する。
</p>
<dl compact="compact">
<dt> &lsquo;<samp>--time-style=<var>style</var></samp>&rsquo;</dt>
<dd><a name="index-_002d_002dtime_002dstyle"></a>
<a name="index-time-style"></a>
<p>タイムスタンプを <var>style</var> 形式で表示する。
<var>style</var> は以下の一つでなければならない。
</p>
<dl compact="compact">
<dt> &lsquo;<samp>+<var>format</var></samp>&rsquo;</dt>
<dd><a name="index-LC_005fTIME-2"></a>
<p><var>format</var> を使って、タイムスタンプを表示する。
その場合、<var>format</var> は、<code>date</code> コマンドの書式引数と同じように解釈される
(see section <a href="coreutils-ja_151.html#date-invocation"><code>date</code>: システムの日付や時刻を表示、設定する</a>)。
たとえば、&lsquo;<samp>--time-style=&quot;+%Y-%m-%d %H:%M:%S&quot;</samp>&rsquo; と指定すると、
<code>ls</code> の表示するタイムスタンプは、&lsquo;<samp>2002-03-30 23:45:56</samp>&rsquo;
のようになる。<code>date</code> の場合と同様、<var>format</var>
の解釈は、<code>LC_TIME</code> ロケール・カテゴリの影響を受ける。
</p>
<p><var>format</var> に改行で分離された二つの書式文字列がある場合、
前半は最近のファイル以外に使用され、後半は最近のファイルに使用される。
出力される列をきちんと揃えたければ、二つの書式のどちらかに、
空白をいくつか入れる必要があるかもしれない。
</p>
</dd>
<dt> &lsquo;<samp>full-iso</samp>&rsquo;</dt>
<dd><p>タイムスタンプを省略なしで表示する。
すなわち、ISO 8601 の日付、時刻、タイムゾーンという構成要素を
nanosecond (10 億分の 1 秒) の精度で使用するわけだ。
一例を挙げると、&lsquo;<samp>2002-03-30 23:45:56.477817180 -0700</samp>&rsquo;
といった表示になる。この形式は、&lsquo;<samp>+%Y-%m-%d %H:%M:%S.%N %z</samp>&rsquo; と同じである。
</p>
<p>これが有用なのは、タイムスタンプが、オペレーティング・システムから取得できる時間関係のすべての情報を含んでいるからである。
たとえば、GNU の <code>make</code> は、あるファイルが古いかどうかを判定するのに、
省略なしのタイムスタンプを使用している。そのため、この情報が、<code>make</code>
の動作を説明するために役立つことがあるのである。
</p>
</dd>
<dt> &lsquo;<samp>long-iso</samp>&rsquo;</dt>
<dd><p>ISO 8601 の日付と時刻の構成要素を分の単位まで表示する。たとえば、
&lsquo;<samp>2002-03-30 23:45</samp>&rsquo;。このタイムスタンプは、&lsquo;<samp>full-iso</samp>&rsquo; タイム
スタンプより短く、日常作業にはたいてい十分である。この形式は
&lsquo;<samp>+%Y-%m-%d %H:%M</samp>&rsquo; と同じである。
</p>
</dd>
<dt> &lsquo;<samp>iso</samp>&rsquo;</dt>
<dd><p>最近以外のタイムスタンプでは、ISO 8601 の日付を表示し
(たとえば &lsquo;<samp>2002-03-30&nbsp;</samp>&rsquo;)、最近のタイムスタンプでは、
ISO 8601 風の月・日・時・分を表示する (たとえば &lsquo;<samp>03-30 23:45</samp>&rsquo;)。
この形式は、&lsquo;<samp>long-iso</samp>&rsquo; の形式に比べて見かけがよくないが、
より狭いスペースでほぼ同量の情報を伝えており、また、簡潔なので
<code>ls</code> の出力を伝統的な 1 行 80 桁の出力行に納めるのに都合がよい。
<code>ls</code> を実行する以下の二つの方法は、同じことである。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">newline='
'
ls -l --time-style=&quot;+%Y-%m-%d $newline%m-%d %H:%M&quot;
ls -l --time-style=&quot;iso&quot;
</pre></td></tr></table>

</dd>
<dt> &lsquo;<samp>locale</samp>&rsquo;</dt>
<dd><a name="index-LC_005fTIME-3"></a>
<p>タイムスタンプをロケール依存形式で表示する。たとえば、
フィンランド語のロケールだと、最近以外のタイムスタンプを
&lsquo;<samp>maalis 30&nbsp;&nbsp;2002</samp>&rsquo; のように表示し、最近のタイムスタンプは
&lsquo;<samp>maalis 30 23:45</samp>&rsquo; のように表示するかもしれない。
ロケール依存のタイムスタンプは、概して &lsquo;<samp>iso</samp>&rsquo; のタイムスタンプより長くなるし、
ロケールごとの規則の違いは非常に大きいので、プログラムによる解析がずっと難しくなる。
だが、こちらの方がわかりやすい人も大勢いる。
</p>
<p>タイムスタンプの書式を決めているのは、<code>LC_TIME</code> ロケール・カテゴリである。
デフォルトの POSIX ロケールでは、&lsquo;<samp>Mar 30&nbsp;&nbsp;2002</samp>&rsquo; や
&lsquo;<samp>Mar 30 23:45</samp>&rsquo; といったタイムスタンプを使っている。
POSIX ロケールでは、<code>ls</code> を実行する次の二つの方法は、同じことである。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">newline='
'
ls -l --time-style=&quot;+%b %e  %Y$newline%b %e %H:%M&quot;
ls -l --time-style=&quot;locale&quot;
</pre></td></tr></table>

<p>しかし、他のロケールでは動作が違う。たとえば、ドイツ語のロケールだと、
&lsquo;<samp>--time-style=&quot;locale&quot;</samp>&rsquo; は &lsquo;<samp>--time-style=&quot;+%e. %b %Y
$newline%e. %b %H:%M&quot;</samp>&rsquo;
とおそらく同じになり、&lsquo;<samp>30. M&auml;r 2002&nbsp;</samp>&rsquo; や
&lsquo;<samp>30. M&auml;r 23:45</samp>&rsquo; といったタイムスタンプを生成するだろう。
</p>
</dd>
<dt> &lsquo;<samp>posix-<var>style</var></samp>&rsquo;</dt>
<dd><a name="index-LC_005fTIME-4"></a>
<p><code>LC_TIME</code> ロケール・カテゴリが POSIX なら、POSIX ロケールのタイムスタンプを表示し、
それ以外なら、<var>style</var> 形式のタイムスタンプを表示する。
たとえば、&lsquo;<samp>posix-long-iso</samp>&rsquo; という指定は、POSIX ロケールでは
&lsquo;<samp>Mar 30&nbsp;&nbsp;2002</samp>&rsquo; や &lsquo;<samp>Mar 30 23:45</samp>&rsquo; といったタイムスタンプを表示し、
それ以外のロケールでは &lsquo;<samp>2002-03-30 23:45</samp>&rsquo; といったタイムスタンプを表示する。
</p></dd>
</dl>
</dd>
</dl>

<a name="index-TIME_005fSTYLE"></a>
<p>&lsquo;<samp>--time-style</samp>&rsquo; オプションのデフォルト値は、環境変数 <code>TIME_STYLE</code>
を使って指定することができる。<code>TIME_STYLE</code> が設定されていない場合、
デフォルトの形式は &lsquo;<samp>locale</samp>&rsquo; である。GNU Emacs のバージョン 21.3
以降では、<code>ls</code> の &lsquo;<samp>--dired</samp>&rsquo; オプションを使用しており、
従って、どんな日付のフォーマットでも解析することができる。しかし、Emacs 21.1
や 21.2 を使っていて、POSIX 以外のロケールを指定している場合は、
&lsquo;<samp>TIME_STYLE=&quot;posix-long-iso&quot;</samp>&rsquo; を設定する必要があるかもしれない。
</p>
<p>ある種のサービス不能化攻撃 (denial-of-service attacks) を回避するため、
1000 バイトより長くなりそうなタイムスタンプは、エラーとして処理されることがある。
</p>

<hr size="1">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="coreutils-ja_71.html#General-output-formatting" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_73.html#Formatting-the-file-names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="coreutils-ja_65.html#Directory-listing" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_66.html#ls-invocation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_77.html#Basic-operations" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="coreutils-ja.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_220.html#Concept-index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated on <i>June 7, 2022</i> using <a href="http://www.nongnu.org/texi2html/"><i>texi2html 1.82</i></a>.
 </font>
 <br>

</p>
</body>
</html>
