<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- このマニュアルは、GNU core utilities version 8.26 の詳細な解説である。
core utilities には、テキストやファイルを操作するための標準的なプログラムが入っている。

Copyright C 1994-2016 Free Software Foundation, Inc.

Japanese translation copyright C 2014-2017 Linux JM project

Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.3 or any later
version published by the Free Software Foundation; with no Invariant
Sections, with no Front-Cover Texts, and with no Back-Cover Texts.  A copy
of the license is included in the section entitled "GNU Free Documentation
License".


【訳者から御注意】 この文書を info コマンドで閲覧なさっている場合は、
行末に余計な文字が入って、読みにくいことがあるかもしれない。
そうしたときは、Ctrl キーと l (エル) キーを同時に押して、画面を再描画していただきたい。
たぶん、表示が正常になるはずである。

お手元の coreutils のバージョンが 8.26 以外の場合、
この文書の説明と動作が違うことがあるかもしれない 
(たとえば、この文書に書いてあるオプションが使えない、あるいは、
使えるはずのオプションの説明がないなど)。
そうした場合は、お使いの coreutils と同じバージョンの info マニュアルや 
man ページに当ってみていただきたい。そちらの方が正しいはずである。
 -->
<!-- Created on June 7, 2022 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU Coreutils: 2.3 ブロックサイズ</title>

<meta name="description" content="GNU Coreutils: 2.3 ブロックサイズ">
<meta name="keywords" content="GNU Coreutils: 2.3 ブロックサイズ">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Block-size"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="coreutils-ja_4.html#Backup-options" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_6.html#Floating-point" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="coreutils-ja_2.html#Common-options" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_2.html#Common-options" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_17.html#Output-of-entire-files" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="coreutils-ja.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_220.html#Concept-index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<hr size="1">
<a name="burotukusaizu"></a>
<h2 class="section">2.3 ブロックサイズ</h2>

<a name="index-block-size"></a>

<p>GNU プログラムには、ディスクの使用量を「ブロック数」で表示するものがいくつかある
(少なくとも、<code>df</code>, <code>du</code>,<code>ls</code> がそうだ)。
ブロックのサイズや表示の書式は、使用量をわかりやすくするために、変更することができる。
表示に使用されるブロックサイズは、ファイルシステムのブロックサイズとは、
無関係である。ブロック数に端数が出る場合は、切り上げて整数にする。
</p>
<a name="index-_002d_002dblock_002dsize_003dsize"></a>
<a name="index-BLOCKSIZE"></a>
<a name="index-BLOCK_005fSIZE"></a>
<a name="index-DF_005fBLOCK_005fSIZE"></a>
<a name="index-DU_005fBLOCK_005fSIZE"></a>
<a name="index-LS_005fBLOCK_005fSIZE"></a>
<a name="index-POSIXLY_005fCORRECT_002c-and-block-size"></a>

<p>デフォルトのブロックサイズの選択は、次の環境変数を順番に調べることで行われる。
設定されている最初のものがブロックサイズを決めることになる。
</p>
<dl compact="compact">
<dt> <code>DF_BLOCK_SIZE</code></dt>
<dd><p>この環境変数は、<code>df</code> コマンドで使うデフォルトのブロックサイズを指定している。
同様に、<code>DU_BLOCK_SIZE</code> は <code>du</code> のデフォルトを、
<code>LS_BLOCK_SIZE</code> は <code>ls</code> のデフォルトを指定している。
</p>
</dd>
<dt> <code>BLOCK_SIZE</code></dt>
<dd><p>この環境変数は、上記のようなコマンド専用の環境変数が設定されていない場合に、
三つのコマンドのすべてが使用するデフォルトのブロックサイズを指定している。
</p>
</dd>
<dt> <code>BLOCKSIZE</code></dt>
<dd><p>この環境変数は、上記のようなコマンド専用の環境変数と <code>BLOCK_SIZE</code> のどちらも設定されていない場合に、
通常、ブロック数として表示されるすべての値が使用するデフォルトのブロックサイズを指定している。
ほかの環境変数とは違って、<code>BLOCKSIZE</code> は、たとえば <code>ls -l</code>
の出力に含まれるファイルサイズのような、通常バイト数として表示される値には影響を及ぼさない。
</p>
</dd>
<dt> <code>POSIXLY_CORRECT</code></dt>
<dd><p><code><var>command</var>_BLOCK_SIZE</code>, <code>BLOCK_SIZE</code>, <code>BLOCKSIZE</code>
のいづれも設定されていず、この変数が設定されている場合は、
ブロックサイズのデフォルトは、512 バイトになる。
</p>
</dd>
</dl>

<p>上記の環境変数のいづれも設定されていない場合、
ブロックサイズのデフォルトは、現在のところたいていの場合、 1024 バイトである。
ただし、この数値は、将来変更されるかもしれない。なお、<code>ls</code>
の表示するファイルサイズについては、ブロックサイズのデフォルトは 1 バイトである。
</p>
<a name="index-human_002dreadable-output"></a>
<a name="index-SI-output"></a>

<p>ブロックサイズの指定には、1 ブロックあたりのバイト数を示す正の整数を使えばよい。
あるいは、<code>human-readable</code> や <code>si</code> を指定して、
「人間に読みやすい」書式を選ぶこともできる。
整数の後ろには接尾辞 (suffix) を続けてもよい。そうした接尾辞は、単位の前に付けて
&lsquo;<samp>10</samp>&rsquo; の累乗倍を表す SI (国際単位系) の接頭辞 (prefix) や、
&lsquo;<samp>2</samp>&rsquo; の累乗倍を表す ISO/IEC 80000-13 (以前は IEC 60027-2 だった)
の接頭辞の上位互換である。単位の前に付ける接頭辞については、
次の URL を参照していただきたい。<br>
<a href="http://www.bipm.org/en/publications/si-brochure/chapter3.html">SI prefixes:</a>.
<a href="http://physics.nist.gov/cuu/Units/binary.html">ISO/IEC 80000-13 prefixes:</a>.
</p>
<p>「人間に読みやすい」書式の場合、出力するサイズの後ろに、メガバイトなら
&lsquo;<samp>M</samp>&rsquo; といった、大きさを表す文字が続く。<code>BLOCK_SIZE=human-readable</code>
の方は、1024 の累乗を使うので、&lsquo;<samp>M</samp>&rsquo; は 1,048,576 バイトを意味している。
<code>BLOCK_SIZE=si</code> も似ているが、こちらは 1000 の累乗を使用し、さらに &lsquo;<samp>B</samp>&rsquo;
という文字を追加する。そこで、&lsquo;<samp>MB</samp>&rsquo; は 1,000,000 バイトを意味することになる。
</p>
<a name="index-LC_005fNUMERIC"></a>
<p>ブロックサイズの指定の先頭に &lsquo;<samp>'</samp>&rsquo; を付けると、
出力するサイズを数桁ごとに区切って表示することができる。
区切りに使う記号や区切りの位置は、<code>LC_NUMERIC</code> のロケールによって決まる。
たとえば、アメリカ英語のロケールでは、&lsquo;<samp>--block-size=&quot;'1kB&quot;</samp>&rsquo;
と指定すれば、1234000 バイトという容量が &lsquo;<samp>1,234</samp>&rsquo;
と表示されることになるだろう。デフォルトの C ロケールの場合は、
区切り記号が存在しないので、先頭の &lsquo;<samp>'</samp>&rsquo; に効果はない。
</p>
<p>ブロックサイズを指定する整数の後ろには、接尾辞を付けて、
その整数の何倍かを示すことができる。大きさを表す (訳注: M, G などの)
文字の後ろに何も続けないときや、&lsquo;<samp>iB</samp>&rsquo; を続けるときは、
1024 の累乗倍ということである。それに対して、大きさを表す文字に
&lsquo;<samp>B</samp>&rsquo; を続ける場合は、1000 の累乗倍ということになる。
たとえば、&lsquo;<samp>1M</samp>&rsquo; や &lsquo;<samp>1MiB</samp>&rsquo; は &lsquo;<samp>1048576</samp>&rsquo; と同じであり、
&lsquo;<samp>1MB</samp>&rsquo; は &lsquo;<samp>1000000</samp>&rsquo; と同じである。
</p>
<p>整数を前に付けずに、接尾辞だけを指定したときの動作は、
&lsquo;<samp>1</samp>&rsquo; が前に付いているときとほぼ同じだが、大きさの表示が出力の後ろに付く点が違う。
たとえば、&lsquo;<samp>--block-size=&quot;kB&quot;</samp>&rsquo; は、3000 を &lsquo;<samp>3kB</samp>&rsquo; という形で表示する。
</p>
<p>以下の接尾辞が定義されている。<code>1Y</code> のような大きな量は、
算術計算の限界のためにお使いのコンピュータでは使用できないかもしれない。
</p>
<dl compact="compact">
<dt> &lsquo;<samp>kB</samp>&rsquo;</dt>
<dd><a name="index-kilobyte_002c-definition-of"></a>
<p>キロバイト (kilobyte): <em>10^3 = 1000</em> バイト。
</p></dd>
<dt> &lsquo;<samp>k</samp>&rsquo;</dt>
<dt> &lsquo;<samp>K</samp>&rsquo;</dt>
<dt> &lsquo;<samp>KiB</samp>&rsquo;</dt>
<dd><a name="index-kibibyte_002c-definition-of"></a>
<p>キビバイト (kibibyte): <em>2^10 = 1024</em> バイト。
&lsquo;<samp>K</samp>&rsquo; も使えるのは、おまけである。なお本来、SI の接頭辞
(訳注: すなわち <em>10^3</em> 倍を表す接頭辞) が &lsquo;<samp>k</samp>&rsquo; であり、
ISO/IEC 80000-13 の接頭辞 (訳注: すなわち <em>2^10</em> 倍を表す接頭辞)
が &lsquo;<samp>Ki</samp>&rsquo; だが、これまでの習慣や POSIX の用法では、
&lsquo;<samp>KiB</samp>&rsquo; の意味で &lsquo;<samp>k</samp>&rsquo; を使っている。
</p></dd>
<dt> &lsquo;<samp>MB</samp>&rsquo;</dt>
<dd><a name="index-megabyte_002c-definition-of"></a>
<p>メガバイト (megabyte): <em>10^6 = 1,000,000</em> バイト。
</p></dd>
<dt> &lsquo;<samp>M</samp>&rsquo;</dt>
<dt> &lsquo;<samp>MiB</samp>&rsquo;</dt>
<dd><a name="index-mebibyte_002c-definition-of"></a>
<p>メビバイト (mebibyte): <em>2^20 = 1,048,576</em> バイト。
</p></dd>
<dt> &lsquo;<samp>GB</samp>&rsquo;</dt>
<dd><a name="index-gigabyte_002c-definition-of"></a>
<p>ギガバイト (gigabyte): <em>10^9 = 1,000,000,000</em> バイト。
</p></dd>
<dt> &lsquo;<samp>G</samp>&rsquo;</dt>
<dt> &lsquo;<samp>GiB</samp>&rsquo;</dt>
<dd><a name="index-gibibyte_002c-definition-of"></a>
<p>ギビバイト (gibibyte): <em>2^30 = 1,073,741,824</em> バイト。
</p></dd>
<dt> &lsquo;<samp>TB</samp>&rsquo;</dt>
<dd><a name="index-terabyte_002c-definition-of"></a>
<p>テラバイト (terabyte): <em>10^12 = 1,000,000,000,000</em> バイト。
</p></dd>
<dt> &lsquo;<samp>T</samp>&rsquo;</dt>
<dt> &lsquo;<samp>TiB</samp>&rsquo;</dt>
<dd><a name="index-tebibyte_002c-definition-of"></a>
<p>テビバイト (tebibyte): <em>2^40 = 1,099,511,627,776</em> バイト。
</p></dd>
<dt> &lsquo;<samp>PB</samp>&rsquo;</dt>
<dd><a name="index-petabyte_002c-definition-of"></a>
<p>ペタバイト (petabyte): <em>10^15 = 1,000,000,000,000,000</em> バイト。
</p></dd>
<dt> &lsquo;<samp>P</samp>&rsquo;</dt>
<dt> &lsquo;<samp>PiB</samp>&rsquo;</dt>
<dd><a name="index-pebibyte_002c-definition-of"></a>
<p>ペビバイト (pebibyte): <em>2^50 = 1,125,899,906,842,624</em> バイト。
</p></dd>
<dt> &lsquo;<samp>EB</samp>&rsquo;</dt>
<dd><a name="index-exabyte_002c-definition-of"></a>
<p>エクサバイト (exabyte): <em>10^18 = 1,000,000,000,000,000,000</em> バイト。
</p></dd>
<dt> &lsquo;<samp>E</samp>&rsquo;</dt>
<dt> &lsquo;<samp>EiB</samp>&rsquo;</dt>
<dd><a name="index-exbibyte_002c-definition-of"></a>
<p>エクスビバイト (exbibyte): <em>2^60 = 1,152,921,504,606,846,976</em> バイト。
</p></dd>
<dt> &lsquo;<samp>ZB</samp>&rsquo;</dt>
<dd><a name="index-zettabyte_002c-definition-of"></a>
<p>ゼタバイト (zettabyte): <em>10^21 = 1,000,000,000,000,000,000,000</em> バイト。
</p></dd>
<dt> &lsquo;<samp>Z</samp>&rsquo;</dt>
<dt> &lsquo;<samp>ZiB</samp>&rsquo;</dt>
<dd><p>ゼビバイト (zebibyte): <em>2^70 = 1,180,591,620,717,411,303,424</em> バイト。
</p></dd>
<dt> &lsquo;<samp>YB</samp>&rsquo;</dt>
<dd><a name="index-yottabyte_002c-definition-of"></a>
<p>ヨタバイト (yottabyte): <em>10^24 = 1,000,000,000,000,000,000,000,000</em> バイト。
</p></dd>
<dt> &lsquo;<samp>Y</samp>&rsquo;</dt>
<dt> &lsquo;<samp>YiB</samp>&rsquo;</dt>
<dd><p>ヨビバイト (yobibyte): <em>2^80 = 1,208,925,819,614,629,174,706,176</em> バイト。
</p></dd>
</dl>

<a name="index-_002dk"></a>
<a name="index-_002dh"></a>
<a name="index-_002d_002dblock_002dsize"></a>
<a name="index-_002d_002dhuman_002dreadable"></a>
<a name="index-_002d_002dsi"></a>

<p>デフォルトのブロックサイズは、コマンドに対して &lsquo;<samp>--block-size=<var>size</var></samp>&rsquo;
オプションを明示的に指定することで、上書きすることができる。&lsquo;<samp>-k</samp>&rsquo;
オプションは、&lsquo;<samp>--block-size=1K</samp>&rsquo; と同じであり、環境変数 <code>POSIXLY_CORRECT</code>
が設定されていないときのデフォルトである。&lsquo;<samp>-h</samp>&rsquo; オプションや
&lsquo;<samp>--human-readable</samp>&rsquo; オプションは、&lsquo;<samp>--block-size=human-readable</samp>&rsquo;
と同じである。&lsquo;<samp>--si</samp>&rsquo; オプションは、&lsquo;<samp>--block-size=si</samp>&rsquo; と同じだ。
なお、<code>ls</code> コマンドの場合、
&lsquo;<samp>-k</samp>&rsquo; オプションはファイルの見かけのサイズの表示に影響しないのに対し、
&lsquo;<samp>--block-size</samp>&rsquo; オプションは影響することに注意していただきたい。
</p>
<hr size="1">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="coreutils-ja_4.html#Backup-options" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_6.html#Floating-point" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="coreutils-ja_2.html#Common-options" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_2.html#Common-options" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_17.html#Output-of-entire-files" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="coreutils-ja.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_220.html#Concept-index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="coreutils-ja_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated on <i>June 7, 2022</i> using <a href="http://www.nongnu.org/texi2html/"><i>texi2html 1.82</i></a>.
 </font>
 <br>

</p>
</body>
</html>
